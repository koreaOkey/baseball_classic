"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="cf5490ba-2b1c-5ec3-8929-38db3f8ab38e")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["1229"],{186983(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var a={COMMUNITY_PATH_PREFIXES:function(){return l},getLocaleFeatureFlag:function(){return r},getLocalizedName:function(){return o}};for(var s in a)Object.defineProperty(t,s,{enumerable:!0,get:a[s]});let n=i(56107),o=e=>{switch(e){case n.Locale.EN:return"English";case n.Locale.JA:return"\u65E5\u672C\u8A9E";case n.Locale.FR:return"Fran\xe7ais";case n.Locale.DE:return"Deutsch";case n.Locale.ES_ES:return"Espa\xf1ol (Espa\xf1a)";case n.Locale.ES_LA:return"Espa\xf1ol (Latinoam\xe9rica)";case n.Locale.KO_KR:return"\uD55C\uAD6D\uC5B4";case n.Locale.PT_BR:return"Portugu\xeas (Brasil)";case n.Locale.NL_NL:return"Nederlands";case n.Locale.PL_PL:return"Polski";case n.Locale.IT_IT:return"Italiano";case n.Locale.AAA:return"AAA (Pseudolocale: Figma \u2192 AAA)";case n.Locale.AAL:return"AAL (Pseudolocale: Figma \u2192 [~~\u1E1E\u012F\u012F\u011F\u1E43\u0105\u0105~~])";case n.Locale.DU_PS:return"Dummy (Partially Supported)";case n.Locale.DU_DS:return"Dummy (Developing Support)"}},r=e=>{switch(e){case n.Locale.FR:return"i18n_fr";case n.Locale.DE:return"i18n_de";case n.Locale.NL_NL:case n.Locale.PL_PL:case n.Locale.IT_IT:case n.Locale.DU_PS:return;case n.Locale.DU_DS:return"i18n_du_ds"}},l={en:"/community",ja:"/ja-jp/community","es-es":"/es-es/comunidad","es-la":"/es-la/comunidad","ko-kr":"/ko-kr/community","pt-br":"/pt-br/comunidade",fr:"/fr-fr/communaute",de:"/de-de/community"}},232974(e,t,i){i.d(t,{BI:()=>d,Dn:()=>a,Tz:()=>l,as:()=>s,bW:()=>o,iY:()=>r,sI:()=>n});let a="panel_title--panelTitle--v8TJS",s="panel_title--legendAsPanelTitle--p1oEu",n="panel_title--panelTitleWithoutChevron--4yM5U",o="panel_title--collapsiblePanelTitle---hl7L",r="panel_title--panelTitleExtended--H55mX",l="panel_title--panelTitleFaded--cOK3k",d="panel_title--hoverable--E8yUl"},230417(e,t,i){i.d(t,{Cg:()=>a,Ks:()=>o,SG:()=>d,U3:()=>n,Wz:()=>l,gZ:()=>s,iw:()=>r,l2:()=>c});let a="41px",s="8px",n="200px",o="40px",r="40px",l="240px",d="200px",c="16px"},642645(e,t,i){i.d(t,{KC:()=>n,VP:()=>a,sy:()=>s,zB:()=>o});let a="figmake--descriptionRow--cxgJw",s="figmake--workshopRowFpl--9RoPJ",n="figmake--workshopRowInfo--YNrht",o="figmake--workshopRowIcon--5UzNk role_row--linkAccessIcon--XlKZh role_row--roleRowIcon--7ZuGx"},646288(){},433726(e,t,i){i.d(t,{b:()=>a});let a="with_popover--triggerButton--islEn"},794642(e,t,i){i.d(t,{E0:()=>E,Ek:()=>s,F4:()=>m,KC:()=>d,S:()=>a,S4:()=>l,jC:()=>o,li:()=>_,oB:()=>r,pn:()=>p,pw:()=>c,rZ:()=>n,rf:()=>f,vt:()=>h,wx:()=>g,zc:()=>u});let a="lint_error_modal--lintErrorsContent--cecLf",s="lint_error_modal--lintErrorsFallbackContent--RlB-k lint_error_modal--lintErrorsContent--cecLf",n="lint_error_modal--lintErrorLocation--oCL1v",o="lint_error_modal--lintErrorsList--T6ojr",r="lint_error_modal--lintErrorsItemRow--C459u",l="lint_error_modal--errorTarget--Dde5N",d="lint_error_modal--lintErrorsItemLeft--VaRkX",c="lint_error_modal--lintContent--ujT63",_="lint_error_modal--fixIssuesDropdownButton--oAEBh",u="lint_error_modal--iconContainer--XbJ8j",m="lint_error_modal--issueContent--fuFUR",h="lint_error_modal--noErrors--5P3TG",p="lint_error_modal--lintNoErrorsText--3G-JY",g="lint_error_modal--header--c37Eb",f="lint_error_modal--body--VcKYD",E="lint_error_modal--filterContainer--U1NXd"},170569(e,t,i){i.d(t,{Dm:()=>n,GK:()=>o,N_:()=>a,WR:()=>r,er:()=>l,vo:()=>s});let a="styles-module--warningIconWrapper---92i-",s="styles-module--selectWebpagesButton--MolMw",n="styles-module--publishModalRowLabel--9qXU2",o="styles-module--publishModalRowContent--b3uid",r="styles-module--publishModalRowContentLong--ZBTht",l="styles-module--publishedByHandle--FY3Lh"},357669(e,t,i){i.d(t,{D:()=>s,y:()=>a});let a="toolbelt_divider--divider--Pizvj",s="toolbelt_divider--extendedDivider--MXoyr"},680758(e,t,i){i.d(t,{A:()=>u7});var a,s,n,o,r,l,d,c,_,u,m,h,p,g,f,E,b,T,y,S,R,v,I,x,A,O,N,C,L,w,D,j,k,M,P,F,U,G,B,V,X,H,z,W,K,$,q,Y,Z,Q,J,ee,et,ei,ea,es,en,eo,er,el,ed,ec,e_,eu,em,eh,ep,eg,ef,eE,eb,eT,ey,eS,eR,ev,eI,ex,eA,eO,eN,eC,eL,ew,eD,ej,ek,eM,eP,eF,eU,eG,eB,eV,eX,eH,ez,eW,eK,e$,eq,eY,eZ,eQ,eJ,e0,e1,e2,e5,e4,e3,e7,e6,e8,e9,te,tt,ti,ta,ts,tn,to,tr,tl,td,tc,t_,tu,tm,th,tp,tg,tf,tE,tb,tT,ty,tS,tR,tv,tI,tx,tA,tO,tN,tC,tL,tw,tD,tj,tk,tM,tP,tF,tU,tG,tB,tV,tX,tH,tz,tW,tK,t$,tq,tY,tZ,tQ,tJ,t0,t1,t2,t5,t4,t3,t7,t6,t8,t9,ie,it,ii,ia,is,io,ir,il,id,ic,i_,iu,im,ih,ip,ig,iE,ib,iT,iy,iS,iR,iv,iI,ix,iA,iO,iN,iC,iL,iw,iD,ij,ik,iM,iP,iF,iU,iG,iB,iV,iX,iH,iz,iW,iK,i$,iq,iY,iZ,iQ,iJ,i0,i1,i2,i5,i4,i3,i7,i6,i8,i9,ae,at,ai,aa,as,an,ao,ar,al,ad,ac,a_,au,am,ah,ap,ag,af,aE,ab,aT,ay,aS,aR,av,aI,ax,aA,aO,aN,aC,aL,aw,aD,aj,ak,aM,aP,aF,aU,aG,aB,aV,aX,aH,az,aW,aK,a$,aq,aY,aZ,aQ,aJ,a0,a1,a2,a5,a4,a3,a7,a6,a8,a9,se,st,si,sa,ss,sn,so,sr,sl,sd,sc,s_,su,sm,sh,sp,sg,sf,sE,sb,sT,sy,sS,sR,sv,sI,sx,sA,sO,sN,sC,sL,sw,sD,sj,sk,sM,sP,sF,sU,sG,sB,sV,sX,sH,sz,sW,sK,s$,sq,sY,sZ,sQ,sJ,s0,s1,s2,s5,s4,s3,s7,s6,s8,s9,ne,nt,ni,na,ns,nn,no,nr,nl,nd,nc,n_,nu,nm,nh,np,ng,nf,nE,nb,nT,ny,nS,nR,nv,nI,nx,nA,nO,nN,nC,nL,nw,nD,nj,nk,nM,nP,nF,nU,nG,nB,nV,nX,nH,nz,nW,nK,n$,nq,nY,nZ,nQ,nJ,n0,n1,n2,n5,n4,n3,n7,n6,n8,n9,oe,ot,oi,oa,os,on=i(177066),oo=i(925489),or=i(819889),ol=i(207607),od=i(133184),oc=i(292548),o_=i(427192),ou=i(845460),om=i(314598),oh=i(655483),op=i(392780),og=i(985244),of=i(864064),oE=i(579309),ob=i(745211),oT=i(881280),oy=i(564075),oS=i(17140),oR=i(304610),ov=i(392823),oI=i(155919),ox=i(214010),oA=i(37812),oO=i(232707),oN=i(531848),oC=i(596164),oL=i(719070),ow=i(360404),oD=i(374199),oj=i(517095),ok=i(557584),oM=i(165546),oP=i(215803),oF=i(691224),oU=i(100587),oG=i(951632),oB=i(753492),oV=i(859188),oX=i(252571),oH=i(348502),oz=i(169241),oW=i(953394),oK=i(19861),o$=i(920917),oq=i(210580),oY=i(439554),oZ=i(710809),oQ=i(371582),oJ=i(849483),o0=i(583870),o1=i(28825),o2=i(110310),o5=i(583822),o4=i(96548),o3=i(855991),o7=i(402282),o6=i(301767),o8=i(767941),o9=i(32176),re=i(951036),rt=i(109745),ri=i(381887),ra=i(894103),rs=i(590665),rn=i(248353),ro=i(706428),rr=i(165394),rl=i(691626),rd=i(653170),rc=i(588358),r_=i(112033),ru=i(305946),rm=i(282197),rh=i(153628),rp=i(150846),rg=i(683652),rf=i(787904),rE=i(614549),rb=i(89694),rT=i(192249),ry=i(780269),rS=i(722950),rR=i(504365),rv=i(317624),rI=i(263074),rx=i(913317),rA=i(536485),rO=i(623016),rN=i(11716),rC=i(407458),rL=i(143692),rw=i(41907),rD=i(535242),rj=i(199555),rk=i(443178),rM=i(935929),rP=i(999405),rF=i(344503),rU=i(543535),rG=i(389579),rB=i(735082),rV=i(614397),rX=i(169193),rH=i(662649),rz=i(274675),rW=i(702355),rK=i(662935),r$=i(112702),rq=i(467828),rY=i(193843),rZ=i(417945),rQ=i(762533),rJ=i(302660),r0=i(652332),r1=i(138150),r2=i(123612),r5=i(699770),r4=i(926955),r3=i(241714),r7=i(816886),r6=i(109271),r8=i(948715),r9=i(348766),le=i(203637),lt=i(542358),li=i(846477),la=i(172776),ls=i(53481),ln=i(763117),lo=i(287020),lr=i(355362),ll=i(445710),ld=i(645992),lc=i(811780),l_=i(762223),lu=i(328532),lm=i(678668),lh=i(835737),lp=i(936287),lg=i(120202),lf=i(354667),lE=i(732590),lb=i(772954),lT=i(741281),ly=i(818783),lS=i(208768),lR=i(443765),lv=i(99946),lI=i(151819),lx=i(852332),lA=i(748379),lO=i(559945),lN=i(470272),lC=i(90531),lL=i(520266),lw=i(198372),lD=i(221917),lj=i(801941),lk=i(516562),lM=i(653639),lP=i(410508),lF=i(313501),lU=i(955357),lG=i(378228),lB=i(292645),lV=i(935643),lX=i(155824),lH=i(609416),lz=i(379386),lW=i(706273),lK=i(704962),l$=i(205441),lq=i(904477),lY=i(719415),lZ=i(132511),lQ=i(645077),lJ=i(515112),l0=i(887634),l1=i(505898),l2=i(174747),l5=i(285757),l4=i(53125),l3=i(935447),l7=i(710045),l6=i(630303),l8=i(146985),l9=i(707912),de=i(761816),dt=i(591095),di=i(91844),da=i(715644),ds=i(808922),dn=i(542276),dr=i(595182),dl=i(460999),dd=i(960511),dc=i(354417),d_=i(336775),du=i(345725),dm=i(640132),dh=i(947887),dp=i(657540),dg=i(701704),df=i(358008),dE=i(166513),db=i(642190),dT=i(195757),dy=i(379341),dS=i(596653),dR=i(103524),dv=i(592178),dI=i(831165),dx=i(519143),dA=i(55068),dO=i(115011),dN=i(105406),dC=i(635992),dL=i(371068),dw=i(386057),dD=i(3535),dj=i(190960),dk=i(435295),dM=i(947109),dP=i(16881),dF=i(666297),dU=i(480378),dG=i(565085),dB=i(705006),dV=i(834829),dX=i(55988),dH=i(841018),dz=i(2389),dW=i(80200),dK=i(573116),d$=i(10624),dq=i(262811),dY=i(136236),dZ=i(556241),dQ=i(931212),dJ=i(851993),d0=i(57041),d1=i(724377),d2=i(102259),d5=i(107270),d4=i(854251),d3=i(563893),d7=i(632191),d6=i(698184),d8=i(563333),d9=i(582712),ce=i(141055),ct=i(641778),ci=i(564841),ca=i(189975),cs=i(337650),cn=i(261273),co=i(424962),cr=i(42778),cl=i(2336),cd=i(438717),cc=i(911639),c_=i(78054),cu=i(970464),cm=i(527997),ch=i(707103),cp=i(174191),cg=i(547388),cf=i(240233),cE=i(163955),cb=i(280392),cT=i(472551),cy=i(584575),cS=i(715857),cR=i(574883),cv=i(277127),cI=i(141238),cx=i(74394),cA=i(385396),cO=i(584917),cN=i(417155),cC=i(877968),cL=i(639567),cw=i(187209),cD=i(770510),cj=i(710544),ck=i(425163),cM=i(547117),cP=i(14311),cF=i(260999),cU=i(819520),cG=i(786776),cB=i(100348),cV=i(448958),cX=i(103488),cH=i(589622),cz=i(237264),cW=i(190163),cK=i(106771),c$=i(512291),cq=i(328388),cY=i(471904),cZ=i(161944),cQ=i(505490),cJ=i(278234),c0=i(358538),c1=i(791417),c2=i(85348),c5=i(287342),c4=i(992561),c3=i(726631),c7=i(349789),c6=i(843744),c8=i(253645),c9=i(948820),_e=i(242004),_t=i(369880),_i=i(150133),_a=i(18495),_s=i(968168),_n=i(930788),_o=i(592933),_r=i(581301),_l=i(692713),_d=i(902721),_c=i(736237),__=i(3389),_u=i(426226),_m=i(765360),_h=i(758699),_p=i(952332),_g=i(631390),_f=i(718061),_E=i(303066),_b=i(882152),_T=i(427960),_y=i(986861),_S=i(540517),_R=i(813026),_v=i(208929),_I=i(146176),_x=i(812932),_A=i(689743),_O=i(803251),_N=i(394307),_C=i(334894),_L=i(911247),_w=i(592750),_D=i(346333),_j=i(870529),_k=i(229650),_M=i(833026),_P=i(127382),_F=i(388568),_U=i(199817),_G=i(794983),_B=i(424802),_V=i(390756),_X=i(308600),_H=i(371522),_z=i(750589),_W=i(525475),_K=i(772107),_$=i(858038),_q=i(476566),_Y=i(40980),_Z=i(234259),_Q=i(927219),_J=i(852828),_0=i(572339),_1=i(553775),_2=i(348552),_5=i(756379),_4=i(883762),_3=i(536201),_7=i(668575),_6=i(116741),_8=i(255244),_9=i(870355),ue=i(163282),ut=i(720079),ui=i(309837),ua=i(743624),us=i(155134),un=i(418803),uo=i(548991),ur=i(798187),ul=i(225934),ud=i(326969),uc=i(988271),u_=i(448504),uu=i(936248),um=i(469517),uh=i(916615),up=i(836350),ug=i(874263),uf=i(32627),uE=i(805334),ub=i(202581),uT=i(506583),uy=i(371595),uS=i(937186),uR=i(891994),uv=i(520921),uI=i(998867),ux=i(616237),uA=i(793665),uO=i(917804),uN=i(890492),uC=i(945428),uL=i(357299),uw=i(450460),uD=i(282e3),uj=i(351715),uk=i(857694),uM=i(220119),uP=i(305268),uF=i(969456),uU=i(879447),uG=i(324674),uB=i(503278),uV=i(480233),uX=i(457447),uH=i(696208),uz=i(480065),uW=i(497923),uK=i(768803),u$=i(178737),uq=i(246238),uY=i(122197),uZ=i(492901),uQ=i(39816),uJ=i(316380),u0=i(916645),u1=i(733243),u2=i(95086),u5=i(808170),u4=i(359238),u3=i(535930);let u7={...a||(a=i.t(on,2)),...s||(s=i.t(oo,2)),...n||(n=i.t(or,2)),...o||(o=i.t(ol,2)),...r||(r=i.t(od,2)),...l||(l=i.t(oc,2)),...d||(d=i.t(o_,2)),...c||(c=i.t(ou,2)),..._||(_=i.t(om,2)),...u||(u=i.t(oh,2)),...m||(m=i.t(op,2)),...h||(h=i.t(og,2)),...p||(p=i.t(of,2)),...g||(g=i.t(oE,2)),...f||(f=i.t(ob,2)),...E||(E=i.t(oT,2)),...b||(b=i.t(oy,2)),...T||(T=i.t(oS,2)),...y||(y=i.t(oR,2)),...S||(S=i.t(ov,2)),...R||(R=i.t(oI,2)),...v||(v=i.t(ox,2)),...I||(I=i.t(oA,2)),...x||(x=i.t(oO,2)),...A||(A=i.t(oN,2)),...O||(O=i.t(oC,2)),...N||(N=i.t(oL,2)),...C||(C=i.t(ow,2)),...L||(L=i.t(oD,2)),...w||(w=i.t(oj,2)),...D||(D=i.t(ok,2)),...j||(j=i.t(oM,2)),...k||(k=i.t(oP,2)),...M||(M=i.t(oF,2)),...P||(P=i.t(oU,2)),...F||(F=i.t(oG,2)),...U||(U=i.t(oB,2)),...G||(G=i.t(oV,2)),...B||(B=i.t(oX,2)),...V||(V=i.t(oH,2)),...X||(X=i.t(oz,2)),...H||(H=i.t(oW,2)),...z||(z=i.t(oK,2)),...W||(W=i.t(o$,2)),...K||(K=i.t(oq,2)),...$||($=i.t(oY,2)),...q||(q=i.t(oZ,2)),...Y||(Y=i.t(oQ,2)),...Z||(Z=i.t(oJ,2)),...Q||(Q=i.t(o0,2)),...J||(J=i.t(o1,2)),...ee||(ee=i.t(o2,2)),...et||(et=i.t(o5,2)),...ei||(ei=i.t(o4,2)),...ea||(ea=i.t(o3,2)),...es||(es=i.t(o7,2)),...en||(en=i.t(o6,2)),...eo||(eo=i.t(o8,2)),...er||(er=i.t(o9,2)),...el||(el=i.t(re,2)),...ed||(ed=i.t(rt,2)),...ec||(ec=i.t(ri,2)),...e_||(e_=i.t(ra,2)),...eu||(eu=i.t(rs,2)),...em||(em=i.t(rn,2)),...eh||(eh=i.t(ro,2)),...ep||(ep=i.t(rr,2)),...eg||(eg=i.t(rl,2)),...ef||(ef=i.t(rd,2)),...eE||(eE=i.t(rc,2)),...eb||(eb=i.t(r_,2)),...eT||(eT=i.t(ru,2)),...ey||(ey=i.t(rm,2)),...eS||(eS=i.t(rh,2)),...eR||(eR=i.t(rp,2)),...ev||(ev=i.t(rg,2)),...eI||(eI=i.t(rf,2)),...ex||(ex=i.t(rE,2)),...eA||(eA=i.t(rb,2)),...eO||(eO=i.t(rT,2)),...eN||(eN=i.t(ry,2)),...eC||(eC=i.t(rS,2)),...eL||(eL=i.t(rR,2)),...ew||(ew=i.t(rv,2)),...eD||(eD=i.t(rI,2)),...ej||(ej=i.t(rx,2)),...ek||(ek=i.t(rA,2)),...eM||(eM=i.t(rO,2)),...eP||(eP=i.t(rN,2)),...eF||(eF=i.t(rC,2)),...eU||(eU=i.t(rL,2)),...eG||(eG=i.t(rw,2)),...eB||(eB=i.t(rD,2)),...eV||(eV=i.t(rj,2)),...eX||(eX=i.t(rk,2)),...eH||(eH=i.t(rM,2)),...ez||(ez=i.t(rP,2)),...eW||(eW=i.t(rF,2)),...eK||(eK=i.t(rU,2)),...e$||(e$=i.t(rG,2)),...eq||(eq=i.t(rB,2)),...eY||(eY=i.t(rV,2)),...eZ||(eZ=i.t(rX,2)),...eQ||(eQ=i.t(rH,2)),...eJ||(eJ=i.t(rz,2)),...e0||(e0=i.t(rW,2)),...e1||(e1=i.t(rK,2)),...e2||(e2=i.t(r$,2)),...e5||(e5=i.t(rq,2)),...e4||(e4=i.t(rY,2)),...e3||(e3=i.t(rZ,2)),...e7||(e7=i.t(rQ,2)),...e6||(e6=i.t(rJ,2)),...e8||(e8=i.t(r0,2)),...e9||(e9=i.t(r1,2)),...te||(te=i.t(r2,2)),...tt||(tt=i.t(r5,2)),...ti||(ti=i.t(r4,2)),...ta||(ta=i.t(r3,2)),...ts||(ts=i.t(r7,2)),...tn||(tn=i.t(r6,2)),...to||(to=i.t(r8,2)),...tr||(tr=i.t(r9,2)),...tl||(tl=i.t(le,2)),...td||(td=i.t(lt,2)),...tc||(tc=i.t(li,2)),...t_||(t_=i.t(la,2)),...tu||(tu=i.t(ls,2)),...tm||(tm=i.t(ln,2)),...th||(th=i.t(lo,2)),...tp||(tp=i.t(lr,2)),...tg||(tg=i.t(ll,2)),...tf||(tf=i.t(ld,2)),...tE||(tE=i.t(lc,2)),...tb||(tb=i.t(l_,2)),...tT||(tT=i.t(lu,2)),...ty||(ty=i.t(lm,2)),...tS||(tS=i.t(lh,2)),...tR||(tR=i.t(lp,2)),...tv||(tv=i.t(lg,2)),...tI||(tI=i.t(lf,2)),...tx||(tx=i.t(lE,2)),...tA||(tA=i.t(lb,2)),...tO||(tO=i.t(lT,2)),...tN||(tN=i.t(ly,2)),...tC||(tC=i.t(lS,2)),...tL||(tL=i.t(lR,2)),...tw||(tw=i.t(lv,2)),...tD||(tD=i.t(lI,2)),...tj||(tj=i.t(lx,2)),...tk||(tk=i.t(lA,2)),...tM||(tM=i.t(lO,2)),...tP||(tP=i.t(lN,2)),...tF||(tF=i.t(lC,2)),...tU||(tU=i.t(lL,2)),...tG||(tG=i.t(lw,2)),...tB||(tB=i.t(lD,2)),...tV||(tV=i.t(lj,2)),...tX||(tX=i.t(lk,2)),...tH||(tH=i.t(lM,2)),...tz||(tz=i.t(lP,2)),...tW||(tW=i.t(lF,2)),...tK||(tK=i.t(lU,2)),...t$||(t$=i.t(lG,2)),...tq||(tq=i.t(lB,2)),...tY||(tY=i.t(lV,2)),...tZ||(tZ=i.t(lX,2)),...tQ||(tQ=i.t(lH,2)),...tJ||(tJ=i.t(lz,2)),...t0||(t0=i.t(lW,2)),...t1||(t1=i.t(lK,2)),...t2||(t2=i.t(l$,2)),...t5||(t5=i.t(lq,2)),...t4||(t4=i.t(lY,2)),...t3||(t3=i.t(lZ,2)),...t7||(t7=i.t(lQ,2)),...t6||(t6=i.t(lJ,2)),...t8||(t8=i.t(l0,2)),...t9||(t9=i.t(l1,2)),...ie||(ie=i.t(l2,2)),...it||(it=i.t(l5,2)),...ii||(ii=i.t(l4,2)),...ia||(ia=i.t(l3,2)),...is||(is=i.t(l7,2)),...io||(io=i.t(l6,2)),...ir||(ir=i.t(l8,2)),...il||(il=i.t(l9,2)),...id||(id=i.t(de,2)),...ic||(ic=i.t(dt,2)),...i_||(i_=i.t(di,2)),...iu||(iu=i.t(da,2)),...im||(im=i.t(ds,2)),...ih||(ih=i.t(dn,2)),...ip||(ip=i.t(dr,2)),...ig||(ig=i.t(dl,2)),...iE||(iE=i.t(dd,2)),...ib||(ib=i.t(dc,2)),...iT||(iT=i.t(d_,2)),...iy||(iy=i.t(du,2)),...iS||(iS=i.t(dm,2)),...iR||(iR=i.t(dh,2)),...iv||(iv=i.t(dp,2)),...iI||(iI=i.t(dg,2)),...ix||(ix=i.t(df,2)),...iA||(iA=i.t(dE,2)),...iO||(iO=i.t(db,2)),...iN||(iN=i.t(dT,2)),...iC||(iC=i.t(dy,2)),...iL||(iL=i.t(dS,2)),...iw||(iw=i.t(dR,2)),...iD||(iD=i.t(dv,2)),...ij||(ij=i.t(dI,2)),...ik||(ik=i.t(dx,2)),...iM||(iM=i.t(dA,2)),...iP||(iP=i.t(dO,2)),...iF||(iF=i.t(dN,2)),...iU||(iU=i.t(dC,2)),...iG||(iG=i.t(dL,2)),...iB||(iB=i.t(dw,2)),...iV||(iV=i.t(dD,2)),...iX||(iX=i.t(dj,2)),...iH||(iH=i.t(dk,2)),...iz||(iz=i.t(dM,2)),...iW||(iW=i.t(dP,2)),...iK||(iK=i.t(dF,2)),...i$||(i$=i.t(dU,2)),...iq||(iq=i.t(dG,2)),...iY||(iY=i.t(dB,2)),...iZ||(iZ=i.t(dV,2)),...iQ||(iQ=i.t(dX,2)),...iJ||(iJ=i.t(dH,2)),...i0||(i0=i.t(dz,2)),...i1||(i1=i.t(dW,2)),...i2||(i2=i.t(dK,2)),...i5||(i5=i.t(d$,2)),...i4||(i4=i.t(dq,2)),...i3||(i3=i.t(dY,2)),...i7||(i7=i.t(dZ,2)),...i6||(i6=i.t(dQ,2)),...i8||(i8=i.t(dJ,2)),...i9||(i9=i.t(d0,2)),...ae||(ae=i.t(d1,2)),...at||(at=i.t(d2,2)),...ai||(ai=i.t(d5,2)),...aa||(aa=i.t(d4,2)),...as||(as=i.t(d3,2)),...an||(an=i.t(d7,2)),...ao||(ao=i.t(d6,2)),...ar||(ar=i.t(d8,2)),...al||(al=i.t(d9,2)),...ad||(ad=i.t(ce,2)),...ac||(ac=i.t(ct,2)),...a_||(a_=i.t(ci,2)),...au||(au=i.t(ca,2)),...am||(am=i.t(cs,2)),...ah||(ah=i.t(cn,2)),...ap||(ap=i.t(co,2)),...ag||(ag=i.t(cr,2)),...af||(af=i.t(cl,2)),...aE||(aE=i.t(cd,2)),...ab||(ab=i.t(cc,2)),...aT||(aT=i.t(c_,2)),...ay||(ay=i.t(cu,2)),...aS||(aS=i.t(cm,2)),...aR||(aR=i.t(ch,2)),...av||(av=i.t(cp,2)),...aI||(aI=i.t(cg,2)),...ax||(ax=i.t(cf,2)),...aA||(aA=i.t(cE,2)),...aO||(aO=i.t(cb,2)),...aN||(aN=i.t(cT,2)),...aC||(aC=i.t(cy,2)),...aL||(aL=i.t(cS,2)),...aw||(aw=i.t(cR,2)),...aD||(aD=i.t(cv,2)),...aj||(aj=i.t(cI,2)),...ak||(ak=i.t(cx,2)),...aM||(aM=i.t(cA,2)),...aP||(aP=i.t(cO,2)),...aF||(aF=i.t(cN,2)),...aU||(aU=i.t(cC,2)),...aG||(aG=i.t(cL,2)),...aB||(aB=i.t(cw,2)),...aV||(aV=i.t(cD,2)),...aX||(aX=i.t(cj,2)),...aH||(aH=i.t(ck,2)),...az||(az=i.t(cM,2)),...aW||(aW=i.t(cP,2)),...aK||(aK=i.t(cF,2)),...a$||(a$=i.t(cU,2)),...aq||(aq=i.t(cG,2)),...aY||(aY=i.t(cB,2)),...aZ||(aZ=i.t(cV,2)),...aQ||(aQ=i.t(cX,2)),...aJ||(aJ=i.t(cH,2)),...a0||(a0=i.t(cz,2)),...a1||(a1=i.t(cW,2)),...a2||(a2=i.t(cK,2)),...a5||(a5=i.t(c$,2)),...a4||(a4=i.t(cq,2)),...a3||(a3=i.t(cY,2)),...a7||(a7=i.t(cZ,2)),...a6||(a6=i.t(cQ,2)),...a8||(a8=i.t(cJ,2)),...a9||(a9=i.t(c0,2)),...se||(se=i.t(c1,2)),...st||(st=i.t(c2,2)),...si||(si=i.t(c5,2)),...sa||(sa=i.t(c4,2)),...ss||(ss=i.t(c3,2)),...sn||(sn=i.t(c7,2)),...so||(so=i.t(c6,2)),...sr||(sr=i.t(c8,2)),...sl||(sl=i.t(c9,2)),...sd||(sd=i.t(_e,2)),...sc||(sc=i.t(_t,2)),...s_||(s_=i.t(_i,2)),...su||(su=i.t(_a,2)),...sm||(sm=i.t(_s,2)),...sh||(sh=i.t(_n,2)),...sp||(sp=i.t(_o,2)),...sg||(sg=i.t(_r,2)),...sf||(sf=i.t(_l,2)),...sE||(sE=i.t(_d,2)),...sb||(sb=i.t(_c,2)),...sT||(sT=i.t(__,2)),...sy||(sy=i.t(_u,2)),...sS||(sS=i.t(_m,2)),...sR||(sR=i.t(_h,2)),...sv||(sv=i.t(_p,2)),...sI||(sI=i.t(_g,2)),...sx||(sx=i.t(_f,2)),...sA||(sA=i.t(_E,2)),...sO||(sO=i.t(_b,2)),...sN||(sN=i.t(_T,2)),...sC||(sC=i.t(_y,2)),...sL||(sL=i.t(_S,2)),...sw||(sw=i.t(_R,2)),...sD||(sD=i.t(_v,2)),...sj||(sj=i.t(_I,2)),...sk||(sk=i.t(_x,2)),...sM||(sM=i.t(_A,2)),...sP||(sP=i.t(_O,2)),...sF||(sF=i.t(_N,2)),...sU||(sU=i.t(_C,2)),...sG||(sG=i.t(_L,2)),...sB||(sB=i.t(_w,2)),...sV||(sV=i.t(_D,2)),...sX||(sX=i.t(_j,2)),...sH||(sH=i.t(_k,2)),...sz||(sz=i.t(_M,2)),...sW||(sW=i.t(_P,2)),...sK||(sK=i.t(_F,2)),...s$||(s$=i.t(_U,2)),...sq||(sq=i.t(_G,2)),...sY||(sY=i.t(_B,2)),...sZ||(sZ=i.t(_V,2)),...sQ||(sQ=i.t(_X,2)),...sJ||(sJ=i.t(_H,2)),...s0||(s0=i.t(_z,2)),...s1||(s1=i.t(_W,2)),...s2||(s2=i.t(_K,2)),...s5||(s5=i.t(_$,2)),...s4||(s4=i.t(_q,2)),...s3||(s3=i.t(_Y,2)),...s7||(s7=i.t(_Z,2)),...s6||(s6=i.t(_Q,2)),...s8||(s8=i.t(_J,2)),...s9||(s9=i.t(_0,2)),...ne||(ne=i.t(_1,2)),...nt||(nt=i.t(_2,2)),...ni||(ni=i.t(_5,2)),...na||(na=i.t(_4,2)),...ns||(ns=i.t(_3,2)),...nn||(nn=i.t(_7,2)),...no||(no=i.t(_6,2)),...nr||(nr=i.t(_8,2)),...nl||(nl=i.t(_9,2)),...nd||(nd=i.t(ue,2)),...nc||(nc=i.t(ut,2)),...n_||(n_=i.t(ui,2)),...nu||(nu=i.t(ua,2)),...nm||(nm=i.t(us,2)),...nh||(nh=i.t(un,2)),...np||(np=i.t(uo,2)),...ng||(ng=i.t(ur,2)),...nf||(nf=i.t(ul,2)),...nE||(nE=i.t(ud,2)),...nb||(nb=i.t(uc,2)),...nT||(nT=i.t(u_,2)),...ny||(ny=i.t(uu,2)),...nS||(nS=i.t(um,2)),...nR||(nR=i.t(uh,2)),...nv||(nv=i.t(up,2)),...nI||(nI=i.t(ug,2)),...nx||(nx=i.t(uf,2)),...nA||(nA=i.t(uE,2)),...nO||(nO=i.t(ub,2)),...nN||(nN=i.t(uT,2)),...nC||(nC=i.t(uy,2)),...nL||(nL=i.t(uS,2)),...nw||(nw=i.t(uR,2)),...nD||(nD=i.t(uv,2)),...nj||(nj=i.t(uI,2)),...nk||(nk=i.t(ux,2)),...nM||(nM=i.t(uA,2)),...nP||(nP=i.t(uO,2)),...nF||(nF=i.t(uN,2)),...nU||(nU=i.t(uC,2)),...nG||(nG=i.t(uL,2)),...nB||(nB=i.t(uw,2)),...nV||(nV=i.t(uD,2)),...nX||(nX=i.t(uj,2)),...nH||(nH=i.t(uk,2)),...nz||(nz=i.t(uM,2)),...nW||(nW=i.t(uP,2)),...nK||(nK=i.t(uF,2)),...n$||(n$=i.t(uU,2)),...nq||(nq=i.t(uG,2)),...nY||(nY=i.t(uB,2)),...nZ||(nZ=i.t(uV,2)),...nQ||(nQ=i.t(uX,2)),...nJ||(nJ=i.t(uH,2)),...n0||(n0=i.t(uz,2)),...n1||(n1=i.t(uW,2)),...n2||(n2=i.t(uK,2)),...n5||(n5=i.t(u$,2)),...n4||(n4=i.t(uq,2)),...n3||(n3=i.t(uY,2)),...n7||(n7=i.t(uZ,2)),...n6||(n6=i.t(uQ,2)),...n8||(n8=i.t(uJ,2)),...n9||(n9=i.t(u0,2)),...oe||(oe=i.t(u1,2)),...ot||(ot=i.t(u2,2)),...oi||(oi=i.t(u5,2)),...oa||(oa=i.t(u4,2)),...os||(os=i.t(u3,2))}},919650(e,t,i){i.d(t,{CM:()=>m,JT:()=>_,NU:()=>g,Qi:()=>y,SI:()=>h,Tm:()=>f,V5:()=>b,kj:()=>p,mb:()=>T,nf:()=>E,r3:()=>c,tI:()=>u});var a=i(940901),s=i(836848),n=i(417675),o=i(239068),r=i(413538),l=i(649634),d=i(930501);let c="Seat",_=e=>u(e);function u(e){switch(e){case o.ud.DESIGN:case o.ud.FIGJAM:case o.ud.DEV_MODE:return(0,l.LN)((0,r.Gj)(e));case o.ud.SLIDES:return(0,n.t)("general.figma_slides");case o.ud.EXPERT:case o.ud.DEVELOPER:case o.ud.COLLABORATOR:case o.ud.CONTENT:return(0,n.t)(`general.bundle.${e}`);case o.ud.AI_CREDITS:return(0,n.t)("general.ai_credits");case o.ud.AI_CREDITS_OVERAGE:return(0,n.t)("general.ai_credits_overage");case o.Gu.VIEW:return(0,n.t)("checkout.view");default:return""}}let m=e=>_(e);function h(e){switch(e){case a.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS:return(0,n.t)("plan_settings.auto_approval_settings.options.instant_approval_if_available.title");case a.UpgradeApprovalSettings.INSTANT_APPROVAL:return(0,n.t)("plan_settings.auto_approval_settings.options.instant_approval.title");case a.UpgradeApprovalSettings.MANUAL_APPROVAL:return(0,n.t)("plan_settings.auto_approval_settings.options.manual_approval.title");default:return""}}function p(e,t,i,o){switch(e){case a.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS:return(0,n.t)("plan_settings.auto_approval_settings.options.instant_approval_if_available.description");case a.UpgradeApprovalSettings.INSTANT_APPROVAL:if(t||!i)return(0,n.t)("plan_settings.auto_approval_settings.options.instant_approval.description.hide_charges");return(0,n.t)("plan_settings.auto_approval_settings.options.instant_approval.description");case a.UpgradeApprovalSettings.MANUAL_APPROVAL:if(!o)return(0,n.t)("plan_settings.auto_approval_settings.options.manual_approval.description.hide_provisional_access");if(t||!i)return(0,n.t)("plan_settings.auto_approval_settings.options.manual_approval.description.hide_free_access");return(0,n.t)("plan_settings.auto_approval_settings.options.manual_approval.description");default:(0,s.xb)(e)}}function g(e,t){switch(e){case a.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS:if(t)return(0,n.t)("plan_settings.auto_approval_settings.options.instant_approval_if_available.tooltip");return null;case a.UpgradeApprovalSettings.INSTANT_APPROVAL:case a.UpgradeApprovalSettings.MANUAL_APPROVAL:return null;default:(0,s.xb)(e)}}function f(e){switch(e){case a.UpgradeApprovalSettings.INSTANT_APPROVAL_IF_AVAILABLE_SEATS:return(0,n.t)("activity_log.event.org_auto_approval_setting_update.auto_approve_if_available");case a.UpgradeApprovalSettings.INSTANT_APPROVAL:return(0,n.t)("activity_log.event.org_auto_approval_setting_update.auto_approve");case a.UpgradeApprovalSettings.MANUAL_APPROVAL:return(0,n.t)("activity_log.event.org_auto_approval_setting_update.manual");default:return""}}let E="Seat changes";function b(e){return e===d.Uu.SCIM?"SCIM provisioned":""}function T(e){switch(e){case d.XI.AUTO_APPROVED:return(0,n.t)("admin_settings.people_tab.upgrade_method.auto_approved");case d.XI.MANUAL_APPROVED:case d.XI.MANUAL_APPROVED_NO_AVAILABLE_SEAT:return(0,n.t)("admin_settings.people_tab.upgrade_method.manually_approved");case d.XI.AUTO_APPROVED_AVAILABLE_SEAT:return(0,n.t)("admin_settings.people_tab.upgrade_method.auto_approved_available_seat");case d.XI.ADMIN_INITIATED:return(0,n.t)("admin_settings.people_tab.upgrade_method.admin_initiated");case d.XI.ADMIN_SELF_UPGRADE:return(0,n.t)("admin_settings.people_tab.upgrade_method.admin_self_upgrade");case d.XI.SCIM:return(0,n.t)("admin_settings.people_tab.upgrade_method.scim");case d.XI.FIGMA_ADMIN:return(0,n.t)("admin_settings.people_tab.upgrade_method.figma_admin");default:return(0,n.t)("admin_settings.people_tab.upgrade_method.migrated")}}function y(e,t,i,a,s,o){if(!e)return(0,n.t)("admin_settings.people_tab.upgrade_reason.fallback.without_user_name");switch(t){case d.XI.AUTO_APPROVED:if(s){switch(i){case d.Uu.CREATE_FILE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.create_file_with_resource",{user:e,resourceName:s});case d.Uu.DEV_MODE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.dev_mode_with_resource",{user:e,resourceName:s});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.edit_file_with_resource",{user:e,resourceName:s});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.drafts_share_with_resource",{user:e,resourceName:s});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.file_move_from_draft_with_resource",{user:e,resourceName:s});case d.Uu.PUBLISH_SITES:case d.$n.PUBLISH_SITES:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.publish_sites",{user:e,resourceName:s});case d.Uu.EXTENSIONS:case d.$n.EXTENSIONS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.extensions_with_resource",{user:e,resourceName:s})}break}switch(i){case d.Uu.CREATE_FILE:case d.$n.CREATE_FILE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.create_file_without_resource",{user:e});case d.Uu.DEV_MODE:case d.$n.DEV_MODE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.dev_mode_without_resource",{user:e});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:case d.$n.EDIT_ACTION:case d.$n.EDIT_BUTTON:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.edit_file_without_resource",{user:e});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.drafts_share_without_resource",{user:e});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:case d.$n.RESOURCE_MOVED_FROM_PLAN_DRAFTS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.file_move_from_draft_without_resource",{user:e});case d.Uu.PUBLISH_SITES:case d.$n.PUBLISH_SITES:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.publish_sites_without_resource",{user:e});case d.Uu.EXTENSIONS:case d.$n.EXTENSIONS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved.extensions_without_resource",{user:e})}break;case d.XI.AUTO_APPROVED_AVAILABLE_SEAT:if(s)switch(i){case d.Uu.CREATE_FILE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.create_file_with_resource",{user:e,resourceName:s});case d.Uu.DEV_MODE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.dev_mode_with_resource",{user:e,resourceName:s});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.edit_file_with_resource",{user:e,resourceName:s});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.drafts_share_with_resource",{user:e,resourceName:s});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.file_move_from_draft_with_resource",{user:e,resourceName:s});case d.Uu.PUBLISH_SITES:case d.$n.PUBLISH_SITES:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.publish_sites",{user:e,resourceName:s});case d.Uu.EXTENSIONS:case d.$n.EXTENSIONS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.extensions_with_resource",{user:e,resourceName:s})}else switch(i){case d.Uu.CREATE_FILE:case d.$n.CREATE_FILE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.create_file_without_resource",{user:e});case d.Uu.DEV_MODE:case d.$n.DEV_MODE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.dev_mode_without_resource",{user:e});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:case d.$n.EDIT_ACTION:case d.$n.EDIT_BUTTON:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.edit_file_without_resource",{user:e});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.drafts_share_without_resource",{user:e});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:case d.$n.RESOURCE_MOVED_FROM_PLAN_DRAFTS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_with_available_seat.file_move_from_draft_without_resource",{user:e});case d.Uu.PUBLISH_SITES:case d.$n.PUBLISH_SITES:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.publish_sites_without_resource",{user:e});case d.Uu.EXTENSIONS:case d.$n.EXTENSIONS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.auto_approved_available_seat.extensions_without_resource",{user:e})}break;case d.XI.MANUAL_APPROVED:case d.XI.MANUAL_APPROVED_NO_AVAILABLE_SEAT:if(a)if(s)switch(i){case d.Uu.CREATE_FILE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.create_file_with_resource",{user:e,actor:a,resourceName:s});case d.Uu.DEV_MODE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.dev_mode_with_resource",{user:e,actor:a,resourceName:s});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.edit_file_with_resource",{user:e,actor:a,resourceName:s});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.drafts_share_with_resource",{user:e,actor:a,resourceName:s});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.file_move_from_draft_with_resource",{user:e,actor:a,resourceName:s});case d.Uu.ADMIN_UPGRADE:case d.$n.ADMIN_UPGRADE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.admin_upgrade.v2",{user:e,actor:a})}else switch(i){case d.Uu.CREATE_FILE:case d.$n.CREATE_FILE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.create_file_without_resource",{user:e,actor:a});case d.Uu.DEV_MODE:case d.$n.DEV_MODE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.dev_mode_without_resource",{user:e,actor:a});case d.Uu.EDIT_ACTION:case d.Uu.EDIT_BUTTON:case d.$n.EDIT_ACTION:case d.$n.EDIT_BUTTON:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.edit_file_without_resource",{user:e,actor:a});case d.Uu.DRAFTS_SHARE:case d.$n.DRAFTS_SHARE:case d.Uu.RESTRICTED_DRAFT_SHARED_EMAIL:case d.$n.RESTRICTED_DRAFT_SHARED_EMAIL:case d.Uu.IN_EDITOR_RESTRICTED_DRAFT:case d.$n.IN_EDITOR_RESTRICTED_DRAFT:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.drafts_share_without_resource",{user:e,actor:a});case d.Uu.RESOURCE_MOVED_FROM_ORG_DRAFTS:case d.$n.RESOURCE_MOVED_FROM_PLAN_DRAFTS:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.file_move_from_draft_without_resource",{user:e,actor:a});case d.Uu.ADMIN_UPGRADE:case d.$n.ADMIN_UPGRADE:return(0,n.t)("admin_settings.people_tab.upgrade_reason.manual_approved.admin_upgrade.v2",{user:e,actor:a})}break;case d.XI.SCIM:if(o){let t=u(o);return(0,n.t)("admin_settings.people_tab.upgrade_reason.scim.scim",{user:e,seatType:t})}break;case d.XI.ADMIN_INITIATED:if(o){let t=u(o);switch(i){case d.Uu.ADMIN_UPGRADE:case d.$n.ADMIN_UPGRADE:case d.$n.DEVELOPER_BUNDLE_OPT_IN:if(a)return(0,n.t)("admin_settings.people_tab.upgrade_reason.admin_initiated.admin_upgrade",{user:e,seatType:t,actor:a});break;case d.Uu.INVITE_REDEEM:case d.$n.INVITE_REDEEM:if(a)return(0,n.t)("admin_settings.people_tab.upgrade_reason.admin_initiated.invite_redeem",{user:e,seatType:t,actor:a});return(0,n.t)("admin_settings.people_tab.upgrade_reason.admin_initiated.invite_redeem.no_actor_fallback",{user:e,seatType:t});case d.Uu.SEAT_MANAGEMENT_AT_SELF_SERVE_CHECKOUT:case d.$n.CHECKOUT:return(0,n.t)("admin_settings.people_tab.upgrade_reason.admin_initiated.checkout",{user:e,seatType:t})}}break;case d.XI.ADMIN_SELF_UPGRADE:return(0,n.t)("admin_settings.people_tab.upgrade_method.admin_self_upgrade.description");case d.XI.FIGMA_ADMIN:switch(i){case d.Uu.SUPPORT_DRIVEN_ORG_MIGRATION:case d.Uu.SUPPORT_DRIVEN_ORG_MERGE:case d.Uu.SUPPORT_DRIVEN_TEAM_ADDITION:case d.Uu.FIGMA_ADMIN:if(o)return(0,n.t)("admin_settings.people_tab.upgrade_reason.figma_admin.figma_admin",{user:e,seatType:u(o)});break;case d.Uu.SCIM_RECOVERY:if(o)return(0,n.t)("admin_settings.people_tab.upgrade_reason.figma_admin.scim_recovery",{user:e,seatType:u(o)});break;case d.Uu.ORG_MERGE:if(o)return(0,n.t)("admin_settings.people_tab.upgrade_reason.figma_admin.org_merge",{user:e,seatType:u(o)});break;case d.Uu.TEAM_ADDED_TO_ORG_THROUGH_FIGMA_ADMIN:if(o)return(0,n.t)("admin_settings.people_tab.upgrade_reason.figma_admin.team_added_to_org_through_figma_admin",{user:e,seatType:u(o)});break;case d.Uu.PAID_STATUS_ON_ORG_CREATION:case d.Uu.SEAT_MANAGEMENT_AT_SELF_SERVE_CHECKOUT:if(o)return(0,n.t)("admin_settings.people_tab.upgrade_reason.figma_admin.paid_status_on_org_creation",{user:e,seatType:u(o)})}break;case null:return(0,n.t)("admin_settings.people_tab.upgrade_method.migrated")}return a?(0,n.t)("admin_settings.people_tab.upgrade_reason.fallback.with_actor",{actor:a,user:e}):(0,n.t)("admin_settings.people_tab.upgrade_reason.fallback.without_actor",{user:e})}},45077(e,t,i){i.d(t,{N:()=>p});var a=i(105652),s=i(645186),n=i(836848),o=i(399368),r=i(923461),l=i(239068),d=i(51334),c=i(413538),_=i(327857),u=i(930501),m=i(424870),h=i(968579);function p(e){let t=(0,s.wA)(),i=(0,c.Hl)({visibility:c.YT.ALL}),p=(0,a.useCallback)(({users:a,seatTypeOption:s,seatIncreaseAuthorized:r,seatSwapIntended:d,upgradeReason:c,upgradeMethod:_,assignedAt:u,upgradeActorName:h})=>{let p={};s!==l.Gu.VIEW&&(p[s]={key:s,license_types:i(s)}),(0,n.vA)(e.planType===m.OL.TEAM),t((0,o.P)({teamId:e.planId,deltas:a.map(({userId:e})=>({userId:e,seatTypeOption:s,seatIncreaseAuthorized:r,seatSwapIntended:d})),entryPoint:e.entryPoint,seatTypeProducts:p,upgradeReason:c,upgradeMethod:_,assignedAt:u,upgradeActorName:h,onSuccess:e.onSuccess,onFailure:e.onFailure}))},[t,e.entryPoint,e.planId,e.planType,e.onSuccess,e.onFailure,i]),{onFailure:g,onSuccess:f,queueFilterCountsRefetch:E}=e,b=(0,a.useCallback)(({users:i,seatTypeOption:a,lastUpdateTimestampOverride:s,seatIncreaseAuthorized:o,seatSwapIntended:c})=>{(0,n.vA)(e.planType===m.OL.ORG),t(r.uo({orgId:e.planId,lastUpdateTimestampOverride:s,seatTypeProducts:{},params:{org_user_ids:i.map(e=>e.planUserId),paid_statuses:a===l.Gu.VIEW?d.N_.dict(()=>u.dQ.STARTER):{[a]:u.dQ.FULL},entry_point:e.entryPoint,...null!=o&&null!=c?{seat_increase_authorized:o,seat_swap_intended:c}:null},successCallback:()=>{f?.(),(0,_.jL)({planType:m.OL.ORG,planId:e.planId})},errorCallback:()=>{g?.()}})),E?.()},[t,e.planId,e.entryPoint,e.planType,f,E,g]);return(0,h.RB)(e.planType,{team:p,org:b})}},552628(e,t,i){i.d(t,{UL:()=>p,kI:()=>m,un:()=>h});var a=i(105652),s=i(449979),n=i(979897),o=i(365146),r=i(506622),l=i(239068),d=i(51334),c=i(531319),_=i(306874),u=i(535872);function m({prices:e,currentSeatType:t,nextSeatType:i,nextSeatAvailable:a,failedToLoadPrices:n}){if(!i||a||t===l.Gu.VIEW||i===l.Gu.VIEW)return!1;if(n||!e)return!0;let o=e[i],r=e[t];return!!((0,s.uy)(o)||(0,s.uy)(r))||o.amount>r.amount}function h({planKey:e,currentSeatType:t,currentSeatBillingInterval:i,enabled:s}){let[o,l]=a.useMemo(()=>{let t=c.c[e.type],a=t.includes(u.IX.MONTH),s=(!a||i===u.IX.YEAR)&&t.includes(u.IX.YEAR);return[a,s]},[e.type,i]),_=(0,r.Ln)(e,d.N_,{renewalTerm:u.IX.MONTH,unit:u.IX.MONTH},{enabled:s&&o}),h=(0,r.Ln)(e,d.N_,{renewalTerm:u.IX.YEAR,unit:u.IX.MONTH},{enabled:s&&l});return a.useMemo(()=>{if(!s||!l)return _;if(!o)return h;let e=[_,h].find(e=>"loaded"!==e.status);if(e)return e;let i=_.data,a=h.data;return i?a?n.Qw.loadedSuspendable(d.N_.dict(e=>t===e||m({prices:i,currentSeatType:t,nextSeatType:e})?a[e]:i[e]),[],{release:()=>{}}):h:_},[s,t,o,_,l,h])}function p(e){let[t]=(0,o.IT)((0,_.oe)(e)),[i]=(0,o.Ad)(t);return i}},636415(e,t,i){i.d(t,{Z:()=>J,bo:()=>eo});var a=i(239976),s=i(105652),n=i(645186),o=i(449979),r=i(295870),l=i(225519),d=i(70555),c=i(336435),_=i(417675);i(323264);var u=i(32186),m=i(92866),h=i(124144),p=i(298709),g=i(699715),f=i(663395),E=i(365146),b=i(315171),T=i(184634),y=i(586785),S=i(938328),R=i(194739),v=i(263618),I=i(204752),x=i(4257),A=i(459270),O=i(596035),N=i(559381),C=i(638633),L=i(882668),w=i(919650),D=i(788758),j=i(45077),k=i(218574),M=i(593598),P=i(354584),F=i(778841),U=i(239068),G=i(51334),B=i(307056),V=i(23512),X=i(44811),H=i(930501),z=i(842706),W=i(867206),K=i(968579),$=i(291595),q=i(677954),Y=i(446133),Z=i(513555),Q=i(552628);let J="https://help.figma.com/hc/articles/360039960434-Manage-seats-in-Figma",ee=G.Ye.dict(()=>0);function et(e){var t,i,n;let{isInUserContextInDowngradeFlowExp:u}=e,m=l.hS({open:e.open,onClose:e.onClose}),p=(e.planUser.handle||e.planUser.name)??"",[g,f]=s.useState(e.nextSeatType??null),b=(0,V.d)({reportErrorsToTeam:r.FigmaTeam.SCALE}),y=(0,W.T5)("ModifyPlanUserSeatModalInner"),[S]=(0,E.Ad)(y);if("loaded"!==S.status){let e=Error("disabled"===S.status?"Plan fetching disabled":"Error fetching plan");throw(0,T.$D)(r.FigmaTeam.SCALE,e),e}let R=S.data;if(!R){let e=Error("No Plan found");throw(0,T.$D)(r.FigmaTeam.SCALE,e),e}let I=(0,D.k)(),x=(0,B.I)({plan:R}),A=(0,Q.UL)({planType:R.key.type,targetPlanUserId:e.planUser.id,targetUserId:e.planUser.userId}),N=A.data?.planUserById??{currentSeat:null},L=!!N.currentSeat,j=N.currentSeat?.billingInterval??null,M=(0,Q.un)({planKey:R.key,currentSeatType:e.planUser.currentSeatType,enabled:I&&!b&&!!x.data,currentSeatBillingInterval:j}),[P]=(0,E.Ad)(M),F=(0,k.Qf)(R.key.parentId,R.key.type),X="loaded"===F.status?G.Ye.dict(e=>F.data[e]?.available??0):ee,K=new z.vr(e.currency),$=G.N_.dict(e=>{let t=P.data?.[e]?.amount??0;return{amount:t,display:K.formatMoney(t,{showCents:!1})}}),q="errors"===F.status,Y="disabled"!==P.status&&("errors"===P.status||!e.currency||!P.data),Z=!!g&&(g===U.Gu.VIEW||(0,o.Vq)(X[g])&&X[g]>0),J=(0,Q.kI)({prices:P.data,currentSeatType:e.planUser.currentSeatType,nextSeatType:g,nextSeatAvailable:Z,failedToLoadPrices:Y}),et=R.key.type===H.OL.TEAM&&!I&&j===H.NW.YEAR&&e.planUser.currentSeatType===U.ud.EXPERT&&g===U.ud.DEVELOPER&&X[U.ud.DEVELOPER]<1,eo=e.upgradeRequest?.billableProductKey;return(0,a.jsx)(h.fu,{name:"Modify Plan User Seat Modal",properties:{upgradeRequestId:e.upgradeRequest?.id,originalRequestedBillableProductKey:e.upgradeRequest?.billableProductKey},children:(0,a.jsx)(d.bL,{height:"dynamic",manager:m,width:"lg",children:(0,a.jsxs)(c.vo,{children:[(0,a.jsx)(c.nB,{children:(0,a.jsxs)(O.Y,{direction:"vertical",spacing:0,padding:{horizontal:8,vertical:16},children:[(0,a.jsx)(C.j,{user:e.planUser,text:(t=g,i=Z,n=p,null===t?(0,_.t)("modify_plan_user_seat_modal.choose_seat",{name:n}):t!==U.Gu.VIEW&&i?(0,_.t)("modify_plan_user_seat_modal.move_to_available_seat",{name:n,seatType:(0,w.JT)(t)}):(0,_.t)("modify_plan_user_seat_modal.move_to_unavailable_seat",{name:n,seatType:(0,w.JT)(t)}))}),u&&(0,a.jsx)(en,{userName:p,lastActiveAt:e.planUser.lastActiveAt,upgradeMethod:e.planUser.upgradeMethod,upgradeReason:e.planUser.upgradeReason,upgradeActorName:e.planUser.upgradeActorName,assignedAt:e.planUser.assignedAt,currentSeatType:e.planUser.currentSeatType,jobTitle:e.planUser.jobTitle}),(0,a.jsx)("div",{className:v.s.mb24.$}),(0,a.jsx)(ei,{billableProductKeyContractPrices:$,currentSeatPaidFor:L,currentSeatType:e.planUser.currentSeatType,displayPricing:I&&!!e.currency&&null!==P.data&&!b&&"loading"!==F.status,isDiscouragedAnnualSeatSwap:et,isInUserContextInDowngradeFlowExp:u,nextSeatType:g,plan:R,prorationEnabled:I,requestedSeatType:eo||null,seatAvailability:b?ee:X,setNextSeatType:f,userId:e.planUser.userId,userName:p}),(0,a.jsx)(es,{failedToLoadAvailability:q,failedToLoadPrices:Y})]})}),!!g&&!e.hideFooter&&(0,a.jsx)(ea,{isDiscouragedAnnualSeatSwap:et,nextSeatType:g,onClose:e.onClose,plan:R,planUserId:e.planUser.id,previousSeatType:e.planUser.currentSeatType,previousSeatWillBecomeAvailable:!b&&(L&&!I||I&&!J),prorationEnabled:I,queueFilterCountsRefetch:e.queueFilterCountsRefetch,refetchSeatCounts:F.refetch,requestContextMetadata:e.requestContextMetadata,seatIncreaseAuthorized:!I||g===U.Gu.VIEW||(0,o.Vq)(X[g])&&X[g]<1,seatSwapIntended:I&&J,setNextSeatType:f,upgradeRequest:e.upgradeRequest,userId:e.planUser.userId,userName:p})]})})})}function ei({currentSeatType:e,nextSeatType:t,setNextSeatType:i,billableProductKeyContractPrices:s,seatAvailability:n,displayPricing:o,prorationEnabled:r,currentSeatPaidFor:l,isDiscouragedAnnualSeatSwap:d,plan:c,requestedSeatType:_,userName:u,userId:m,isInUserContextInDowngradeFlowExp:h}){return t?(0,a.jsx)(L.l,{availableSeats:n[t]??0,currentSeatPaidFor:l,displayPricing:o,fromSeatType:e,isDiscouragedAnnualSeatSwap:d,isInUserContextInDowngradeFlowExp:h,plan:c,pricing:s,prorationEnabled:r,toSeatType:t,userId:m,userName:u}):(0,a.jsx)(L.m,{currentSeatType:e,setNextSeatType:i,availableSeatCounts:n,displayPricing:o,pricing:s,learnMoreLinkHref:J,isInUserContextInDowngradeFlowExp:h,requestedSeatType:_})}function ea({nextSeatType:e,onClose:t,plan:i,planUserId:o,prorationEnabled:l,seatIncreaseAuthorized:d,seatSwapIntended:u,setNextSeatType:h,userId:g,userName:f,previousSeatType:E,queueFilterCountsRefetch:b,previousSeatWillBecomeAvailable:T,isDiscouragedAnnualSeatSwap:y,refetchSeatCounts:S,upgradeRequest:R,requestContextMetadata:v}){let O=i.key.parentId,N=i.key.type,C=(0,n.wA)(),[L,w]=s.useState(!1),D=s.useCallback(()=>{S(),w(!1)},[S]),k=s.useCallback(()=>{let e=T?function(e,t){switch(t){case U.ud.EXPERT:return(0,_.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_full",{userName:e});case U.ud.DEVELOPER:return(0,_.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_dev",{userName:e});case U.ud.COLLABORATOR:return(0,_.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_collab",{userName:e});case U.Gu.VIEW:default:return(0,_.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_view",{userName:e})}}(f,E):(0,_.t)("modify_plan_user_seat_modal.visual_bell.message_with_previous_view",{userName:f});t(),C(x.F.enqueue({message:e,type:"plan-user-seat-change",icon:A.zX.CHECK_WITH_CIRCLE}))},[C,t,f,E,T]),M=(0,j.N)({planId:O,...(0,K.Ef)(N,{team:{entryPoint:Y.B.MEMBERS_TAB},org:{entryPoint:q.h.MEMBERS_TAB}}),queueFilterCountsRefetch:b,onSuccess:k,onFailure:D}),P=(0,X.iZ)(),F=(0,p.L)(r.FigmaTeam.EXPANSION),G=null;return G=y?(0,_.t)("modify_plan_user_seat_modal.button.add_seat"):R?(0,_.t)("admin_dashboard.request_flyout.approve"):(0,_.t)("modify_plan_user_seat_modal.button.confirm"),(0,a.jsx)(c.wi,{children:(0,a.jsxs)(c.jk,{children:[(0,a.jsx)(I.$z,{disabled:L,onClick:()=>h(null),variant:"secondary",trackingProperties:{trackingDescriptor:m.c.BACK},children:(0,_.t)("modify_plan_user_seat_modal.button.back")}),(0,a.jsx)(I.$z,{disabled:L,onClick:()=>{w(!0),R&&v?($.w.approveRequests.bind($.w)({plan_id:i?.key.parentId,plan_type:i?.key.type===H.OL.ORG?$.R.ORG:$.R.TEAM,included_request_ids:[R.id],selection_method:v.selectionMethod,entry_point:v.requestEntryPoint,is_proration_billing_enabled:l,is_seat_increase_authorized:d,new_billable_product_key:R.billableProductKey===e?null:e}).then(e=>{200!==e.status||e.data.meta.failed_attempts>0?D():k()}).catch(()=>{D()}),b?.()):M({users:[{userId:g,planUserId:o}],seatTypeOption:e,seatIncreaseAuthorized:d,seatSwapIntended:u,upgradeReason:N===H.OL.TEAM?H.$n.ADMIN_UPGRADE:H.Uu.ADMIN_UPGRADE,upgradeMethod:H.XI.ADMIN_INITIATED,assignedAt:new Date,upgradeActorName:P?.name||P?.handle||void 0})},variant:"primary",trackingProperties:{trackingDescriptor:m.c.CONFIRM,isDiscouragedAnnualSeatSwap:y,previousSeatType:E,nextSeatType:e,upgradeRequestId:R?.id,originalRequestedBillableProductKey:R?.billableProductKey},trackingOptions:F,children:G})]})})}function es({failedToLoadAvailability:e,failedToLoadPrices:t}){s.useEffect(()=>{(e||t)&&(0,u.sx)("seat_purchasing.non_blocking_fetch_error",{seat_counts_fetch_error:e,price_fetch_error:t,view:"modify_plan_user_seat_modal"},{forwardToDatadog:!0})},[e,t]);let i=null;return(e&&t?i=(0,_.t)("modify_plan_user_seat_modal.error.missing_pricing_and_seat_avability"):e?i=(0,_.t)("modify_plan_user_seat_modal.error.missing_seat_availability"):t&&(i=(0,_.t)("modify_plan_user_seat_modal.error.missing_pricing")),i)?(0,a.jsx)("div",{"data-testid":"modify-seat-modal-error-message",children:(0,a.jsx)(N.E,{color:"danger",children:i})}):null}function en({userName:e,lastActiveAt:t,upgradeReason:i,upgradeMethod:s,assignedAt:n,upgradeActorName:o,currentSeatType:r,jobTitle:l}){let d=l&&"other"!==(0,f.HB)(l),c=t&&7>=(0,g.A)().diff((0,g.A)(t),"days"),u=n?(0,M.tb)(n.toISOString()):null;return(0,a.jsxs)(O.Y,{direction:"vertical",spacing:0,padding:{top:4},children:[(0,a.jsxs)("div",{...{className:"x78zum5 x6s0dn4"},children:[d&&(0,a.jsx)(N.E,{color:"secondary",children:(0,_.t)("modify_plan_user_seat_modal.role",{jobTitle:(0,f.lb)(l)})}),d&&c&&(0,a.jsx)("div",{...{className:"x2lah0s xuxw1ft xt9pc3i"},children:(0,a.jsx)(N.E,{color:"secondary","aria-hidden":"true",children:" \xb7 "})}),c&&(0,a.jsx)(N.E,{color:"secondary",children:(0,_.tx)("modify_plan_user_seat_modal.last_active",{lastActiveAt:(0,a.jsx)(S.h1,{date:t})})})]}),s&&(0,a.jsxs)("div",{...{className:"x78zum5 x6s0dn4"},children:[(0,a.jsx)(R.b,{text:(0,a.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9 x11yfylt"},children:(0,w.mb)(s)}),setToMaxWidth:!0,popoverText:(0,w.Qi)(e,s??null,i??null,o,void 0,r)}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.E,{color:"secondary","aria-hidden":"true",children:" "}),(0,a.jsx)(N.E,{color:"secondary",children:(0,_.tx)("members_table.user_upgrade_date",{upgradeDate:u})})]})]})]})}let eo=(0,P.Ju)(function(e){let t=(0,F.jh)();return(0,a.jsx)(b.u9,{label:"ModifyPlanUserSeatModal",children:(0,a.jsx)(y.tH,{boundaryKey:"ModifyPlanUserSeatModal",fallback:y.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:!1,children:(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(Z.N,{hiddenTitle:"Modify Seat Modal",estimatedWidth:480,estimatedHeight:504,height:"dynamic"}),children:(0,a.jsx)(et,{...e,isInUserContextInDowngradeFlowExp:t})})})})})},399368(e,t,i){i.d(t,{P:()=>c,Z:()=>_});var a=i(417675),s=i(624122),n=i(51477),o=i(377617),r=i(678356),l=i(239068),d=i(446133);let c=(0,o.MM)("TEAM_USER_UPDATE_SEAT_TYPE",async(e,{teamId:t,deltas:i,entryPoint:o,onSuccess:c,onFailure:_},{optimistId:u})=>{await d.H.updateTeamUsers({team_id:t,team_user_deltas:i.map(({userId:e,seatTypeOption:t,seatIncreaseAuthorized:i,seatSwapIntended:a})=>{let s={user_id:e,seat_type:t===l.Gu.VIEW?"":t};return null!=i&&(s.seat_increase_authorized=i),null!=a&&(s.seat_swap_intended=a),s}),entry_point:o}).then(function({data:i}){e.dispatch(s.c(u)),e.dispatch((0,r.yJ)({teamUsers:i.meta,teamId:t})),c?.()}).catch(function(t){e.dispatch(s.r(u)),e.dispatch(n.s.error(function(e){let{reason:t}=e,{message:i}=e;switch(t){case"seat_increase_unauthorized":return(0,a.t)("modify_plan_user_seat_modal.error.seat_increase_unauthorized");case"upgrade_on_suspended_plan":if(i)return(0,a.t)("modify_plan_user_seat_modal.error.upgrade_on_suspended_plan")}return(0,a.t)("team_user.actions.an_error_occurred_while_changing_a_team_member_s_billing_status")}(t.data))),_?.(),console.error(t)})});function _(e,t){let{teamId:i,deltas:a,seatTypeProducts:s,upgradeMethod:n,upgradeReason:o,assignedAt:r,upgradeActorName:d}=t.payload,c=e[i];if(!c)return e;let _={...c},u={};return Object.entries(c).forEach(([e,t])=>{let i=t.team_user?.user_id;e&&i&&(u[i]={originalKey:e,originalMember:t})}),a.forEach(({userId:e,seatTypeOption:t})=>{let{originalKey:i,originalMember:a}=u[e]||{},c=t===l.Gu.VIEW?null:t,m=(c&&s[c])??null;if(!i||!a||!a.team_user||c&&!m)return;let h={...a.team_user,active_seat_type:m},p={...a,upgrade_reason:o,upgrade_method:n,assigned_at:r,upgrade_actor_name:d,team_user:h};_[i]=p}),{...e,[i]:_}}},763318(e,t,i){i.d(t,{C:()=>E});var a=i(297746),s=i(16233),n=i(933330),o=i(2227),r=i(466082),l=i(759231),d=i(575015),c=i(431666),_=i(604794),u=i(384077),m=i(694426),h=i(615129),p=i(351351),g=i(482968),f=i(580416);class E extends h.j{constructor(e){super(e),this._state={mouse:"INACTIVE"},this._uiHidden=!1,this._hoveredRow=-1,this._addBehaviorStateTimeout=null,this._hoveredRowUpdateTimeout=null}handleContextMenuOpen(){}handleBeforeFrame(){}handleMouseUp(){}handleMouseDrag(){}handleMouseLeave(){}renderUnderEditModeUI(){}reset(){}handleMouseMove(e){let t=e.viewport();this._uiHidden=this.shouldHideUI();let i=(0,_.Mu)(e,this.getDefaultChildSize());if(-1!==this._hoveredRow||-1===i||(0,d.PN)())this._hoveredRowUpdateTimeout&&(clearTimeout(this._hoveredRowUpdateTimeout),this._hoveredRowUpdateTimeout=null),this._hoveredRow=i;else if(!this._hoveredRowUpdateTimeout){let t=e.viewport();this._hoveredRowUpdateTimeout=setTimeout(()=>{this._hoveredRow=i,this._hoveredRowUpdateTimeout=null,t.invalidate()},200)}let r=n.Mi.fromVectorD(e.canvasSpaceMouse()),l=(0,f.Zm)(r,t,this._uiHidden,this.getDefaultChildSize(),this.addRowDotVerticalOffset());if(this.clearHoveredRowNodeDuringQuickAdd(),"ADD_CHILD_AFTER_ROW_HOVERED"===l.mouse){let e=a.Ez5?.canvasGrid().getRowGUID(i)??o.AD;s.qm?.setHoveredCanvasGridRowNodeDuringQuickAdd(e)}if((0,f.X1)(this._state.mouse,l.mouse)&&!(0,d.PN)()){if(!this._addBehaviorStateTimeout){let t=e.viewport();this._addBehaviorStateTimeout=setTimeout(()=>{this._state=l,this._addBehaviorStateTimeout=null,t.invalidate()},200)}return}this._addBehaviorStateTimeout&&(clearTimeout(this._addBehaviorStateTimeout),this._addBehaviorStateTimeout=null),this._state=l}handleMouseDown(e){let t;if(this._uiHidden=this.shouldHideUI(),!this._uiHidden){if("ADD_FIRST_CHILD_HOVERED"===this._state.mouse&&(t=this.addBlankChildAtCoord(0,0,"insert_slide_button",!1)),("ADD_CHILD_DOT_HOVERED"===this._state.mouse||"ADD_CHILD_AFTER_ROW_HOVERED"===this._state.mouse)&&(t=this.addBlankChildAtCoord(this._state.coord.row,this._state.coord.col,"insert_slide_button",!1)),"ADD_CHILD_AFTER_FINAL_ROW_HOVERED"===this._state.mouse){let e=l.zl.get(c.BT);t=this.addBlankChildAtCoord(e.length,0,"insert_row_button",!1,(0,f.oq)(e,e.length))}"ADD_ROW_DOT_HOVERED"===this._state.mouse&&(a.Ez5?.canvasGrid().createRow(this._state.row),t=this.addBlankChildAtCoord(this._state.row,0,"insert_row_button",!1)),t&&(a.Egt?.replaceSelection([t],!0),e.accept(this))}}render(e,t){if(!a.Ez5||a.Ez5.canvasGrid().isDraggingChildren.getCopy())return;let i=l.zl.get(c.BT);if((0,g.pP)(p.JT.BOARD_TO_DECK).state!==g.qy.RUNNING&&!this._uiHidden){if(0===i.length&&this.shouldRenderEmptyCanvasPlaceholder()&&this.renderEmptyCanvasPlaceholder(e,t),"ADD_CHILD_DOT_NEARBY"===this._state.mouse&&(0,f.qu)(this._state.canvasPos,e,t,0,this.shouldRenderAsStateGroupRow(this._state.coord.row)),"ADD_CHILD_DOT_HOVERED"===this._state.mouse&&(0,f.$r)(this._state.canvasPos,e,t,0,this.shouldRenderAsStateGroupRow(this._state.coord.row)),"ADD_ROW_DOT_NEARBY"===this._state.mouse&&(0,f.qu)(this._state.canvasPos,e,t,-f.KV),"ADD_ROW_DOT_HOVERED"===this._state.mouse){let i=e.canvasSpaceToViewportSpace(this._state.canvasPos);i.x-=f.KV;let s={x:this._state.rowWidth*e.canvasScale()+f.KV,y:2};t.fillRoundedRect({origin:i,size:s},3,a.Ez5.getCanvasButton()),(0,f.$r)(this._state.canvasPos,e,t,-f.KV,!1)}if(-1!==this._hoveredRow&&this._hoveredRow<i.length){let s={row:this._hoveredRow,col:i[this._hoveredRow].length},n=(0,f.PF)(i,s.row,s.col,this.getDefaultChildSize()),o=a.Ez5.canvasGrid().rectForCoord(s,n,!0),r=this.shouldRenderAsStateGroupRow(s.row),l="ADD_CHILD_AFTER_ROW_HOVERED"===this._state.mouse&&this._state.coord.row===s.row&&this._state.coord.col===s.col,d={x:o.origin.x-a.Ez5.canvasGrid().gridChildSpacing()/2,y:o.origin.y+o.size.y/2};if(l){let i=o.origin.x+o.size.x+(r?a.Ez5.canvasGrid().stateGroupRowPadding():0)>a.Ez5.canvasGrid().rowMaxSize().x+a.Ez5.canvasGrid().gridPadding(),n=a.Ez5?.canvasGrid().isRowSelected(s.row);this._renderActiveAddAssetState(s,o,!!r,!!n,d,e,t,i)}else(0,f.qu)(d,e,t,0,r)}if(i.length&&this._hoveredRow===i.length-1){let s={row:i.length,col:0},n="ADD_CHILD_AFTER_FINAL_ROW_HOVERED"===this._state.mouse,o=(0,f.v2)(i,i.length,this.getDefaultChildSize()),r=(0,f.QQ)(i,this.getDefaultChildSize());if(!r)return;n?((0,f.zw)(a.Ez5.canvasGrid().rectForCoord(s,o,!0),e,t,this._getDashedPlaceholderBgColor(),this._getDashedPlaceholderOutlineColor(),s.row),(0,f.$r)(r,e,t,0)):(0,f.qu)(r,e,t,0)}}}_renderActiveAddAssetState(e,t,i,s,n,l,d,c){if(a.Ez5&&((0,f.zw)(t,l,d,i?a.Ez5?.getBgAssistiveTertiary():this._getDashedPlaceholderBgColor(),i?a.Ez5?.getBgFSAssistive():this._getDashedPlaceholderOutlineColor(),e.row,i,s,c),c&&(0,f.M)(n,l,d),(0,f.$r)(n,l,d,4*!!i,i),i)){let t=a.Ez5.canvasGrid().getRowGUID(e.row)??o.AD,n=(0,r.UN)().get(t)?.name||"",c=a.IPu?.getBuzzVariantText(t)||"",_=a.glU?.getStateGroupError(t)||null,m=a.glU?.getComponentPropDefError(t)||null,h=(0,u.Ds)(l,e.row,i);if(!(!h||.08>l.canvasScale()))(0,u.iZ)(d,h,c,n,_,m,s)}}_getDashedPlaceholderBgColor(){return"ADD_FIRST_CHILD_HOVERED"===this._state.mouse?this.getActiveBgColor():a.Ez5?.getBgFSTertiary()??0xffffff}_getDashedPlaceholderOutlineColor(){return"ADD_FIRST_CHILD_HOVERED"===this._state.mouse?this.getActiveOutlineColor():a.Ez5?.getBorderFSPlaceholder()??0xcccccc}getDefaultChildSize(){return new n.Mi(0,0)}addBlankChildAtCoord(e,t,i,a,s){return null}shouldHideUI(){return!1}shouldRenderEmptyCanvasPlaceholder(){return!0}renderEmptyCanvasPlaceholder(e,t){}addRowDotVerticalOffset(){return 0}getActiveBgColor(){return 0}getActiveOutlineColor(){return 0}shouldRenderAsStateGroupRow(e){let t=a.Ez5?.canvasGrid().getRowGUID(e)??o.AD;return(0,m.xH)(t)&&this.isStateGroupRowAllowed()}clearHoveredRowNodeDuringQuickAdd(){s.qm?.setHoveredCanvasGridRowNodeDuringQuickAdd(o.AD)}isStateGroupRowAllowed(){return!1}}},580416(e,t,i){i.d(t,{$r:()=>E,KV:()=>u,M:()=>f,PF:()=>S,QQ:()=>h,X1:()=>T,Zm:()=>m,oq:()=>v,qu:()=>b,v2:()=>R,zw:()=>g});var a=i(522645),s=i(297746),n=i(359731),o=i(14575),r=i(933330),l=i(759231),d=i(431666),c=i(694426),_=i(957065);let u=8;function m(e,t,i,a,o){let r=s.Ez5?.canvasGrid();if(!r)return{mouse:"INACTIVE"};let c=l.zl.get(d.BT),_=h(c,a);if(!_)return{mouse:"INACTIVE"};if(p(_,e,t)&&0!==c.length)return{mouse:"ADD_CHILD_AFTER_FINAL_ROW_HOVERED",canvasPos:e};let m=c?.length?r.getClosestGridCoord(e,n.gEE.RIGHT):{row:0,col:0};if(-1===m.row||-1===m.col)return{mouse:"INACTIVE"};let g=S(c,m.row,m.col,a),f=r.rectForCoord(m,g,!0),E=e.y>=f.origin.y&&e.y<=f.origin.y+f.size.y,b=e.x>=f.origin.x&&e.x<=f.origin.x+f.size.x;if(0===c.length&&E&&b)if(E&&b)return{mouse:"ADD_FIRST_CHILD_HOVERED"};else return{mouse:"INACTIVE"};if(!E&&!i)return function(e,t,i){let a=s.Ez5?.canvasGrid(),n=l.zl.get(d.BT);if(!a||!n.length)return{mouse:"INACTIVE"};let o=a.rowContentBoundsInCanvas(0,!1),r=o.origin.y+o.size.y;if(e.y<r-300)return{mouse:"INACTIVE"};let c=e.y>r;for(let s=0;s<=n.length;s++){let n=a.rowContentBoundsInCanvas(s,!1),o=n.origin.x-a.gridPadding(),l=n.origin.y,d=n.size.x;if(e.x<o-500||e.x>o+d+500)break;if(c&&e.y<l){let a={x:o-u,y:(r+l)/2+i};return{mouse:p(a,e,t)?"ADD_ROW_DOT_HOVERED":"ADD_ROW_DOT_NEARBY",canvasPos:a,row:s,rowWidth:d}}if(!(e.y>r))break;r=l+n.size.y,c=e.y>r}return{mouse:"INACTIVE"}}(e,t,o);if(c.length&&m.row<c.length){let a=c[m.row]?.length||0;if(!i&&!b&&m.col>0&&m.col<=a){let i=r.gridChildSpacing(),s=f.origin.y+f.size.y/2,n={x:f.origin.x-i/2,y:s},o=p(n,e,t)?"ADD_CHILD_DOT_HOVERED":"ADD_CHILD_DOT_NEARBY";return m.col===a?"ADD_CHILD_DOT_HOVERED"===o?{mouse:"ADD_CHILD_AFTER_ROW_HOVERED",canvasPos:e,coord:m}:{mouse:"INACTIVE"}:{mouse:o,canvasPos:n,coord:m}}}return{mouse:"INACTIVE"}}function h(e,t){if(!s.Ez5)return;let i=s.Ez5.canvasGrid().rowContentBoundsInCanvas(e.length-1,!1),a=R(e,e.length,t);if(!a)return;let n=(0,c.BO)(e.length-1);return new r.Mi(i.origin.x+a.x/2+(n?s.Ez5.canvasGrid().gridPadding():0),i.origin.y+i.size.y+s.Ez5.canvasGrid().gridRowSpacing()/2-(n?s.Ez5.canvasGrid().gridPadding()/2:0))}function p(e,t,i){let a=r.Mi.fromVectorD(i.canvasSpaceToViewportSpace(e)),s=r.Mi.fromVectorD(i.canvasSpaceToViewportSpace(t));return 20>a.distanceTo(s)}function g(e,t,i,l,d,c=0,_=!1,u=!1,m=!1){if(!s.Ez5)return;let h=t.canvasSpaceToViewportSpace(e.origin),p={x:e.size.x*t.canvasScale(),y:e.size.y*t.canvasScale()},f=16*t.canvasScale(),E=(s.Ez5.canvasGrid().gridPadding()||0)*t.canvasScale(),b={origin:_?new r.Mi(h.x+10,h.y):h,size:p};!m&&(i.fillRoundedRect(b,f,l),i.renderDashedLines([b.origin,{x:b.origin.x+b.size.x,y:b.origin.y},{x:b.origin.x+b.size.x,y:b.origin.y},{x:b.origin.x+b.size.x,y:b.origin.y+b.size.y},{x:b.origin.x+b.size.x,y:b.origin.y+b.size.y},{x:b.origin.x,y:b.origin.y+b.size.y},{x:b.origin.x,y:b.origin.y+b.size.y},b.origin],8,8,(0,a.R0)(d),2));if(_){let e=s.Ez5.canvasGrid().rowContentBoundsInCanvas(c,!1),a=t.canvasSpaceToViewportSpace(e.origin),l={x:e.size.x*t.canvasScale(),y:e.size.y*t.canvasScale()},d=m?l.x+12+E/2:Math.min(l.x+b.size.x+E+15,s.Ez5.canvasGrid().rowMaxSize().x*t.canvasScale()),_=new o.r(new r.Mi(a.x,a.y-.5),new r.Mi(d,l.y));u?i.strokeRoundedRect(_,3,s.Ez5.getBgAssistiveHover(),2,n.OR7.CENTER):i.strokeRoundedRectWithDash(_,3,s.Ez5.getBgAssistiveHover(),1,10,5,n.OR7.INSIDE)}}function f(e,t,i){let a=t.canvasSpaceToViewportSpace(e),s={x:a.x+_.Bm+5+4.5,y:a.y-4.12};i.renderWrappingIndicator(s)}function E(e,t,i,a=0,n=!1){s.Ez5&&(n?(0,_.Z5)(e,t,i,s.Ez5.getFSCanvasDefaultFill(),s.Ez5.getBgAssistiveHover(),a):(0,_.GJ)(e,t,i,s.Ez5.getFSCanvasDefaultFill(),s.Ez5.getCanvasButton(),a))}function b(e,t,i,a=0,n=!1){s.Ez5&&(0,_.ZR)(e,t,i,n?s.Ez5.getBgAssistiveHover():s.Ez5.getCanvasButton(),a)}function T(e,t){return"INACTIVE"!==t&&"ADD_CHILD_AFTER_ROW_HOVERED"!==t&&"ADD_CHILD_AFTER_FINAL_ROW_HOVERED"!==t&&("ADD_CHILD_DOT_NEARBY"!==e||"ADD_CHILD_DOT_HOVERED"!==t)&&("ADD_ROW_DOT_NEARBY"!==e||"ADD_ROW_DOT_HOVERED"!==t)&&("ADD_CHILD_DOT_HOVERED"!==e||"ADD_CHILD_DOT_NEARBY"!==t)&&("ADD_ROW_DOT_HOVERED"!==e||"ADD_ROW_DOT_NEARBY"!==t)&&"ADD_FIRST_CHILD_HOVERED"!==t&&t!==e}function y(e){let t=s.Egt?.getNodeSize(e);if(t)return{x:t.width,y:t.height}}function S(e,t,i,a){if(0===e.length)return a;let s=e[t];if(!s)return a;let n=s[i-1];if(!n){let i=e[t-1];return i?S(e,t-1,i.length-1,a):a}return y(n)||a}function R(e,t,i){let a=v(e,t);return(a?y(a):void 0)||i}function v(e,t){if(0===e.length)return;let i=e[t-1];if(!i)return;let a=i[0];if(a)return a}},407715(e,t,i){i.d(t,{k:()=>T});var a=i(522645),s=i(297746),n=i(16233),o=i(736463),r=i(359731),l=i(14575),d=i(933330),c=i(2227),_=i(466082),u=i(759231),m=i(575015),h=i(431666),p=i(604794),g=i(384077),f=i(694426),E=i(615129);let b=class e extends E.j{constructor(e){super(e),this._state={mouse:"INACTIVE"},this._timeout=null}handleContextMenuOpen(){}handleBeforeFrame(){}handleMouseLeave(){}renderUnderEditModeUI(){}handleMouseMove(e){if(n.u7?.canvasViewState().temporarilyHoveredNodes.set([]),this.shouldHideUI()){this._state={mouse:"INACTIVE"};return}let t=this._getRowStateFromCoord(e);if(("HANDLE_HOVERED"===this._state.mouse||"HANDLE_SELECTED"===this._state.mouse)&&n.u7?.canvasViewState().temporarilyHoveredNodes.set(this._state.rowGUIDs),"ROW_HOVERED"!==t.mouse||(0,m.nl)())this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._state=t;else{if(!this._timeout){let i=e.viewport();this._timeout=setTimeout(()=>{this._state=t,this._timeout=null,i.invalidate()},200)}return}}handleMouseDown(e){if("INACTIVE"===this._state.mouse||"ROW_HOVERED"===this._state.mouse)return;let t=e.canvasSpaceMouse(),i=this._state.currentRowIndex;if("HEADER_HOVERED"===this._state.mouse&&2===e.clickCount())return;e.isShiftPressed()?this.addOrRemoveRowFromSelection(i):this.selectRow(i);let a=s.Ez5?.canvasGrid().rowContentBoundsInCanvas(i,!0);"HEADER_HOVERED"===this._state.mouse?this._state={mouse:"HEADER_SELECTED",currentRowIndex:i,canvasMouseDownY:t.y,rowHeight:a?.size.y??0}:this._state={mouse:"HANDLE_SELECTED",currentRowIndex:i,canvasMouseDownY:t.y,rowHeight:a?.size.y??0,rowGUIDs:s.Ez5?.canvasGrid().canvasGridArray.getCopy()[i]??[]},e.accept(this)}handleMouseDrag(e){if("INACTIVE"===this._state.mouse||"HANDLE_HOVERED"===this._state.mouse||"HEADER_HOVERED"===this._state.mouse||"ROW_HOVERED"===this._state.mouse||!s.Ez5)return;let t=this._state.currentRowIndex,i=s.Ez5?.canvasGrid().canvasGridArray.getCopy()[t]??[];n.u7?.canvasViewState().temporarilyHoveredNodes.set(i),s.Ez5.canvasGrid().isDraggingChildren.set(!0);let a=e.canvasSpaceMouse(),o=a.y-this._state.canvasMouseDownY,r=u.zl.get(h.BT);for(let e=0;e<r.length;e++)(0,g.$j)({row:e,y:0,isStateGroupRowAllowed:this.isStateGroupRowAllowed()});let{rowHeight:l,currentRowIndex:d}=this._state,c=d,_=l/2+Math.abs(o),m=0,p=c,f=o<0?l:-l;for(;_>(l+m)/2&&p>=0&&p<r.length;)c=p,p+=o>0?1:-1,_-=m,m=s.Ez5.canvasGrid().rowContentBoundsInCanvas(p,!0).size.y,(0,g.$j)({row:c,y:c===d?o:f,isStateGroupRowAllowed:this.isStateGroupRowAllowed()});"HANDLE_SELECTED"===this._state.mouse||"HANDLE_DRAGGED"===this._state.mouse?this._state={...this._state,mouse:"HANDLE_DRAGGED",canvasMouseY:a.y,targetRowIndex:c}:("HEADER_SELECTED"===this._state.mouse||"HEADER_DRAGGED"===this._state.mouse)&&(this._state={...this._state,mouse:"HEADER_DRAGGED",canvasMouseY:a.y,targetRowIndex:c}),e.accept(this)}handleMouseUp(e){s.Ez5?.canvasGrid().isDraggingChildren.set(!1),("HANDLE_DRAGGED"===this._state.mouse||"HEADER_DRAGGED"===this._state.mouse)&&(e.accept(this),this._state.currentRowIndex!==this._state.targetRowIndex&&s.Ez5?.canvasGrid().moveRow(this._state.currentRowIndex,this._state.targetRowIndex));let t=u.zl.get(h.BT);for(let e=0;e<t.length;e++)(0,g.$j)({row:e,isStateGroupRowAllowed:this.isStateGroupRowAllowed()});this._state={mouse:"INACTIVE"}}render(e,t){if(this.shouldHideUI())return;let i=[],a=s.Ez5?.onCanvasNameEditorMode()===s.nzw.CANVAS_GRID_ROW_NAME||s.Ez5?.onCanvasNameEditorMode()===s.nzw.CANVAS_GRID_ROW_STATE_GROUP;if(this.isRowHeaderSelectable()){let n=u.zl.get(h.BT);for(let o=0;o<n.length;o++)if(s.Ez5?.canvasGrid().isRowSelected(o)&&!a){i.push(o);let a=s.Ez5?.canvasGrid().getRowGUID(o)??c.AD;this._renderActiveRowHeader(a,e,t,o,!0)}}if("INACTIVE"===this._state.mouse)return;let n=(0,f.BO)(this._state.currentRowIndex)&&this.isStateGroupRowAllowed();if("HANDLE_HOVERED"===this._state.mouse||"HANDLE_SELECTED"===this._state.mouse||"HANDLE_DRAGGED"===this._state.mouse||"HEADER_DRAGGED"===this._state.mouse){let i=this._getViewportSpaceReorderHandle(e,this._state.currentRowIndex);this._renderActiveHandle(t,i.activeRect,n)}if("ROW_HOVERED"===this._state.mouse){let i=this._getViewportSpaceReorderHandle(e,this._state.currentRowIndex);this._renderInactiveHandle(t,i.inactiveRect,n)}if(this.isRowHeaderSelectable()&&"HEADER_HOVERED"===this._state.mouse&&!i.includes(this._state.currentRowIndex)&&!a){let i=s.Ez5?.canvasGrid().getRowGUID(this._state.currentRowIndex)??c.AD;this._renderActiveRowHeader(i,e,t,this._state.currentRowIndex,!1)}}_getRowStateFromCoord(t){let i=(0,p.x7)(t),a=(0,p.Mu)(t,this.getDefaultChildSize());if(-1===i&&-1===a)return{mouse:"INACTIVE"};if(this.isRowHeaderSelectable()&&-1!==i)return{mouse:"HEADER_HOVERED",currentRowIndex:i};let n=t.viewport(),o=this._getViewportSpaceReorderHandle(n,a),r=d.Mi.fromVectorD(t.canvasSpaceMouse()),l=d.Mi.fromVectorD(n.canvasSpaceToViewportSpace(r)),c=o.activeRect.expand(new d.Mi(e.reorderMargin,0)).containsPointIncludingBoundary(l)?"HANDLE_HOVERED":"ROW_HOVERED";if("HANDLE_HOVERED"===c){let e=s.Ez5?.canvasGrid().canvasGridArray.getCopy()[a]??[];return{mouse:c,currentRowIndex:a,rowGUIDs:e}}return{mouse:c,currentRowIndex:a}}_renderInactiveHandle(t,i,a){s.Ez5&&t.fillRoundedRect(i,.5*e.handleHeight,a?s.Ez5.getBgAssistiveHover():s.Ez5.getFSNodeHandle())}_renderActiveHandle(t,i,a){if(s.Ez5)for(let n of(t.fillRoundedRect(i,.5*e.handleHeight,a?s.Ez5.getBgAssistiveHover():s.Ez5.getCanvasButton()),e.handleIconOffsets)){let a=new l.r(n,e.handleIconDimensions);t.fillRoundedRect(a.offsetBy(i.topLeft()),e.handleIconDashRadius,s.Ez5.getFSCanvasDefaultFill())}}_renderActiveRowHeader(e,t,i,a,o){let r=(0,_.UN)().get(e)?.name,l=(0,f.xH)(e)&&this.isStateGroupRowAllowed(),d=this._getViewportSpaceRowHeaderBounds(t,a,l),c=this._getViewportSpaceRowDimensions(t,a),u=s.glU?.getStateGroupError(e)||null,m=s.glU?.getComponentPropDefError(e)||null;if(d&&r&&c)if(l)this._renderActiveStateGroupRowHeader(i,d,c,r,o,e,u,m);else{let t=n.qm?.editorTypeConfig().hasSlideRowBeenManuallyRenamed(e);this._renderActiveRowNodeTypeHeader(i,d,r,o,t)}}_renderActiveStateGroupRowHeader(e,t,i,a,o,d,c,_){if(!s.Ez5)return;let u=s.IPu?.getBuzzVariantText(d)||"";o&&n.qm?.shouldRenderHoveredCanvasGridRowNodeDuringQuickAddSelectedDecorations(d)&&e.strokeRoundedRect(new l.r(t.origin,i),g.xC,s.Ez5.getBgAssistiveHover(),2,r.OR7.CENTER),(0,g.iZ)(e,t,u,a,c,_)}_renderActiveRowNodeTypeHeader(e,t,i,r,c=!0){let _;if(!s.Ez5)return;let u=new d.Mi(4,4),m=new l.r(new d.Mi(t.origin.x,t.origin.y-1),new d.Mi(t.size.x,2));r&&e.fillRect(m,s.Ez5.getCanvasButton()),_=r?(0,a.R0)(s.Ez5.getTextOnBrand()):c?(0,a.R0)(s.Ez5.getTextPrimary()):(0,a.R0)(s.Ez5.getTextSecondary());let h=t.size.x,p=n.PV.MEDIUM,f=e.truncateName(i,p,h);e.fillTextWithBox(new d.Mi(t.origin.x-u.x,t.origin.y),f,_,r?(0,a.R0)(s.Ez5.getCanvasButton()):(0,a.R0)(s.Ez5.getBgFSTertiary()),o.GP.LEFT,o.zb.CENTER,0,n.zd.BOX,u,p,g.xC)}_getViewportSpaceReorderHandle(t,i){if(!s.Ez5)return{activeRect:new l.r,inactiveRect:new l.r};let a=s.Ez5.canvasGrid().rowContentBoundsInCanvas(i,!0),n={x:a.origin.x,y:a.origin.y+a.size.y/2};if("HANDLE_DRAGGED"===this._state.mouse)n.y=this._state.canvasMouseY;else if("HEADER_DRAGGED"===this._state.mouse){let e=this._state.canvasMouseY-this._state.canvasMouseDownY;n.y+=e}let o=d.Mi.fromVectorD(t.canvasSpaceToViewportSpace(n));return{activeRect:new l.r(o,new d.Mi(0,0)).expand(new d.Mi(e.activeHandleWidth/2,e.handleHeight/2)).offsetBy(new d.Mi(-1*e.reorderXOffsetViewport,0)),inactiveRect:new l.r(o,new d.Mi(0,0)).expand(new d.Mi(e.inactiveHandleWidth/2,e.handleHeight/3)).offsetBy(new d.Mi(-1*e.reorderXOffsetViewport,0))}}_getViewportSpaceRowDimensions(e,t){if(!s.Ez5||!s.Egt)return null;let i=s.Ez5.canvasGrid().getRowGUID(t),a=s.Egt.getBoundsForNode(i);if(!a)return null;let n=e.canvasScale()*a.width,o=e.canvasScale()*a.height;return new d.Mi(n,o)}_getViewportSpaceRowHeaderBounds(e,t,i){let a=0;"HEADER_DRAGGED"===this._state.mouse?a=this._state.canvasMouseY-this._state.canvasMouseDownY:"HANDLE_DRAGGED"===this._state.mouse&&(a+=this._state.canvasMouseY-this._state.canvasMouseDownY);let s=a*e.canvasScale();return(0,g.Ds)(e,t,i,s)}reset(){}getDefaultChildSize(){return new d.Mi(0,0)}shouldHideUI(){return!1}isRowHeaderSelectable(){return!1}addOrRemoveRowFromSelection(e){}selectRow(e){}isStateGroupRowAllowed(){return!1}};b.handleViewportLength=20,b.reorderMargin=p.b,b.reorderXOffsetViewport=8,b.handleViewportSize=new d.Mi(b.handleViewportLength,b.handleViewportLength),b.handleHeight=p.js,b.activeHandleWidth=p.vJ,b.inactiveHandleWidth=b.activeHandleWidth/4,b.handleIconDashThickness=b.handleHeight/16,b.handleIconDashVerticalOffset=b.handleHeight/2/3,b.handleIconDimensions=new d.Mi(b.activeHandleWidth/2,b.handleIconDashThickness),b.handleIconOffsets=[new d.Mi(b.activeHandleWidth/4,b.handleHeight/2-b.handleIconDashThickness/2-b.handleIconDashVerticalOffset),new d.Mi(b.activeHandleWidth/4,b.handleHeight/2-b.handleIconDashThickness/2),new d.Mi(b.activeHandleWidth/4,b.handleHeight/2-b.handleIconDashThickness/2+b.handleIconDashVerticalOffset)],b.handleRadius=.5*b.handleHeight,b.handleIconDashRadius=.5*b.handleIconDashThickness;let T=b},457686(e,t,i){i.d(t,{b:()=>c});var a=i(239976),s=i(105652),n=i(417675),o=i(224542),r=i.n(o),l=i(665579),d=i(569931);function c(e){let t=s.useRef(null);return e.disabled?(0,a.jsx)("button",{className:"base_like_button--buttonContainerDisabled--Y5ka3 base_like_button--buttonContainer---GqRX cta_button--buttonBase--aj8VW text--fontNeg14--TmjQA text--_fontBase--VaHfk text--_negText--7Cnf0",disabled:e.disabled,"aria-pressed":e.isResourceLiked,children:(0,a.jsx)("div",{className:"base_like_button--likeIconDisabled--iQd7d base_like_button--likeIcon--je1yh text--fontPos18--FkHj- text--_fontBase--VaHfk",children:l.C})}):(0,a.jsx)("button",{className:r()("base_like_button--buttonContainer---GqRX cta_button--buttonBase--aj8VW text--fontNeg14--TmjQA text--_fontBase--VaHfk text--_negText--7Cnf0",{"base_like_button--removeButtonBorder--4bZFM":!!e.removeButtonBorder}),onClick:e.onClick,"aria-label":(0,n.t)("community.like"),"aria-pressed":e.isResourceLiked,"data-tooltip":(0,n.t)("community.like"),"data-tooltip-type":d.Ib.TEXT,"data-testid":"like-button",children:(0,a.jsx)("div",{className:"base_like_button--likeIcon--je1yh text--fontPos18--FkHj- text--_fontBase--VaHfk",ref:t,children:e.isResourceLiked?l.W:l.C})})}},665579(e,t,i){i.d(t,{C:()=>s,W:()=>n});var a=i(239976);let s=(0,a.jsx)("span",{children:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,a.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"}),(0,a.jsx)("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"var(--color-icon)"})]})}),n=(0,a.jsx)("span",{children:(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,a.jsx)("rect",{width:"16",height:"16",fill:"var(--color-background)"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.12543 3.04791C5.67813 1.652 3.3316 1.652 1.8843 3.04791C0.437004 4.44381 0.437004 6.70702 1.8843 8.10293L2.75826 8.94585L2.75823 8.94588L7.99935 14.0009L14.114 8.10338C15.5613 6.70747 15.5613 4.44426 14.114 3.04836C12.6667 1.65245 10.3202 1.65245 8.87288 3.04836L7.99939 3.89083L7.12543 3.04791Z",fill:"#F24822"}),(0,a.jsx)("path",{d:"M1.8843 3.04791L2.23141 3.40779L1.8843 3.04791ZM7.12543 3.04791L7.47254 2.68802L7.12543 3.04791ZM1.8843 8.10293L2.23141 7.74304L2.23141 7.74304L1.8843 8.10293ZM2.75826 8.94585L3.10528 9.30582L3.47859 8.94594L3.10536 8.58597L2.75826 8.94585ZM2.75823 8.94588L2.41121 8.58591L2.0379 8.9458L2.41112 9.30577L2.75823 8.94588ZM7.99935 14.0009L7.65225 14.3608L7.99935 14.6956L8.34646 14.3608L7.99935 14.0009ZM14.114 8.10338L13.7669 7.74349L13.7669 7.74349L14.114 8.10338ZM14.114 3.04836L14.4611 2.68847L14.4611 2.68847L14.114 3.04836ZM8.87288 3.04836L8.52577 2.68847L8.52577 2.68847L8.87288 3.04836ZM7.99939 3.89083L7.65228 4.25072L7.99939 4.5855L8.34649 4.25072L7.99939 3.89083ZM2.23141 3.40779C3.48501 2.19871 5.52472 2.19871 6.77832 3.40779L7.47254 2.68802C5.83154 1.1053 3.17819 1.1053 1.53719 2.68802L2.23141 3.40779ZM2.23141 7.74304C0.987968 6.54376 0.987968 4.60708 2.23141 3.40779L1.5372 2.68802C-0.113961 4.28055 -0.113961 6.87029 1.5372 8.46281L2.23141 7.74304ZM3.10536 8.58597L2.23141 7.74304L1.5372 8.46281L2.41115 9.30574L3.10536 8.58597ZM3.10525 9.30585L3.10528 9.30582L2.41124 8.58588L2.41121 8.58591L3.10525 9.30585ZM8.34646 13.641L3.10533 8.586L2.41112 9.30577L7.65225 14.3608L8.34646 13.641ZM13.7669 7.74349L7.65225 13.641L8.34646 14.3608L14.4611 8.46326L13.7669 7.74349ZM13.7669 3.40824C15.0103 4.60753 15.0103 6.54421 13.7669 7.74349L14.4611 8.46326C16.1123 6.87074 16.1123 4.281 14.4611 2.68847L13.7669 3.40824ZM9.21998 3.40824C10.4736 2.19916 12.5133 2.19916 13.7669 3.40824L14.4611 2.68847C12.8201 1.10575 10.1668 1.10575 8.52577 2.68847L9.21998 3.40824ZM8.34649 4.25072L9.21998 3.40824L8.52577 2.68847L7.65228 3.53094L8.34649 4.25072ZM6.77832 3.40779L7.65228 4.25072L8.34649 3.53094L7.47254 2.68802L6.77832 3.40779Z",fill:"#F24822"})]})})},655988(e,t,i){i.d(t,{w:()=>R});var a=i(645186),s=i(678286),n=i(417675),o=i(14308),r=i(332164),l=i(365146),d=i(4257),c=i(228938),_=i(64045),u=i(869563),m=i(814304),h=i(165117),p=i(995080),g=i(892480),f=i(919462),E=i(44811),b=i(967041),T=i(515641),y=i(699117),S=i(361306);function R(e,t,i,m){var b,y,R,x,A,O,N,C;let L,w,D,j,k,M,P,F,U,G,B,V,X=(b=e,y=t,R=i,x=m,L=(0,a.wA)(),w=(0,E.iZ)(),D=(0,c.Jm)(),j=()=>{(0,u.Sv)(b)||((0,o.Cu)(k()),(0,T.U)(b)?L(h.zm({hubFileId:b.id})):(0,T.xQ)(b)?L(p.C({id:b.id,resourceType:T.vt.WIDGET})):L(p.C({id:b.id,resourceType:T.vt.PLUGIN})))},k=()=>({action:(0,u.Qc)(b)?y?f.s0.HUB_FILE_UNLIKE:f.s0.HUB_FILE_LIKE:(0,u.$3)(b)?y?f.s0.WIDGET_UNLIKE:f.s0.WIDGET_LIKE:y?f.s0.PLUGIN_UNLIKE:f.s0.PLUGIN_LIKE,pluginId:b.id,profileId:b.publisher.id,viewContext:x,searchSessionId:D}),function(){return y?e=>(e=>{if(!(0,u.Sv)(b)){if(e.stopPropagation(),!w)throw Error(`Tried to unlike a ${(0,_.KH)(b)} as a signed out user`);(0,o.Cu)(k()),(0,T.U)(b)?L(h.Qi({hubFileId:b.id,likeId:R||void 0})):(0,T.xQ)(b)?L(p.$({id:b.id,resourceType:T.vt.WIDGET,likeId:R||void 0})):L(p.$({id:b.id,resourceType:T.vt.PLUGIN,likeId:R||void 0}))}})(e):e=>(e=>{if(e.stopPropagation(),w){if(!w.community_profile_id)return void L(g.to({type:S.G$,data:{userId:w.id,variations:[S.FF.OPT_IN],onFinish:()=>j()}}));j()}})(e)}),H=(A=e,O=t,N=i,C=m,M=(0,a.wA)(),P=(0,E.iZ)(),F=(0,c.Jm)(),U=(0,l.gY)(v),G=(0,l.gY)(I),B=()=>{if(!(0,u.Sv)(A))return;let e=(0,u.qY)(A);if(!e)throw Error("Missing resource content");(0,o.Cu)(V());let t=U({resourceId:A.id,contentId:(0,_.Wo)(e),apiResourceType:(0,_.A7)(A)});P&&P.community_profile_id&&(0,r.WB)().optimisticallyCreate({CommunityHubLike:{[`optimistic-${A.id}-${P.community_profile_id}`]:{profileId:P.community_profile_id,resourceId:A.id,hubFileId:null,pluginId:null,hiddenAt:null,createdAt:new Date,updatedAt:new Date,canRead:!0}}},t),t.catch(e=>{M(d.F.enqueue({message:(0,n.t)("community.actions.unable_to_like_this_resource_error",{error:(0,s.J)(e,e.data?.message)}),type:"RESOURCE_LIKE_FAILED",error:!0}))})},V=()=>({action:O?f.M5.RESOURCE_UNLIKE:f.M5.RESOURCE_LIKE,resourceId:A.id,resourceType:(0,u.Vm)(A),profileId:A.publisher.id,viewContext:C,searchSessionId:F}),function(){return O?e=>(e=>{if(!(0,u.Sv)(A))return;let t=(0,u.qY)(A);if(!t)throw Error("Missing resource content");if(e.stopPropagation(),!P)throw Error("Tried to unlike a resource as a signed out user");(0,o.Cu)(V());let i=G({resourceId:A.id,contentId:(0,_.Wo)(t),apiResourceType:(0,_.A7)(A)});N&&(0,r.WB)().optimisticallyDelete({CommunityHubLike:{[N]:null}},i),i.catch(e=>{M(d.F.enqueue({message:(0,n.t)("community.actions.unable_to_unlike_this_resource_error",{error:(0,s.J)(e,e.data.message)}),type:"RESOURCE_UNLIKE_FAILED",error:!0}))})})(e):e=>(e=>{if(e.stopPropagation(),P){if(!P.community_profile_id)return void M(g.to({type:S.G$,data:{userId:P.id,variations:[S.FF.OPT_IN],onFinish:()=>B()}}));B()}})(e)});return(0,u.Sv)(e)?H:X}let v=b.M4.Mutation(({resourceId:e,contentId:t,apiResourceType:i},{query:a})=>(a.mutate((0,m.Z)({apiResourceType:i,id:t}),e=>{e&&(e.like_count+=1)}),y.a.likeResource({resourceId:e}))),I=b.M4.Mutation(({resourceId:e,contentId:t,apiResourceType:i},{query:a})=>(a.mutate((0,m.Z)({apiResourceType:i,id:t}),e=>{e&&(e.like_count-=1)}),y.a.unlikeResource({resourceId:e})))},200902(e,t,i){i.d(t,{o2:()=>S,vj:()=>R,w8:()=>T});var a=i(239976),s=i(105652),n=i(977290),o=i(942356),r=i(833915),l=i(769347),d=i(417675),c=i(224542),_=i.n(c),u=i(763205),m=i(574622),h=i(37605),p=i(543678),g=i(343696),f=i(197773),E=i(174828),b=i(695010);function T(e){if(e&&"exception"!==e.type&&"TOO_MANY_TAGS"===e.key){let{maxTags:t}=e.data;return(0,d.t)("community.publishing.select_up_to_n_tags_error",{maxTagsPerResource:t})}}let y=s.forwardRef(function({tagsFieldsManager:e,onTouched:t,disabled:i},n){let{tagsV2Field:{setValue:o},validV2Tags:r,lockedTags:l}=e,d=(0,h.Lz)(e.tagsV2Field,[]),c=s.useCallback(e=>!!d.find(t=>(0,p.s)(t,e)),[d]),_=s.useCallback(e=>l.some(t=>(0,p.s)(t,e)),[l]),u=s.useCallback(t=>!!(i||!(0,h.Zc)(e.tagsV2Field)||_(t))||!c(t)&&d.length>=g.jI,[i,c,d.length,e.tagsV2Field,_]),m=s.useCallback(e=>{o&&(c(e)?o(d.filter(t=>!(0,p.s)(t,e))):o([...d,e]))},[c,d,o]),f=r.find(e=>!u(e)),E=s.useRef(null);return s.useImperativeHandle(n,()=>({focus:e=>{E.current?.focus(e)}}),[]),(0,a.jsx)("div",{className:b.I8,children:r.map(e=>{let i=c(e),s=u(e),n=(0,g.uS)(e);return(0,a.jsx)(S,{tag:e,isDisabled:s,isSelected:i,onTouched:t,toggleTag:m,firstNonDisabledTag:f,firstNonDisabledCheckboxRef:E,translatedTag:n},e.text)})})});function S({tag:e,isDisabled:t,isSelected:i,onTouched:s,toggleTag:o,firstNonDisabledTag:d,firstNonDisabledCheckboxRef:c,translatedTag:u,useSecondaryStyles:m}){return(0,a.jsxs)("span",{className:_()(b.Tc,{[b.r9]:t,[b.ne]:m}),children:[(0,a.jsx)(n.F,{ref:e===d?c:void 0,id:`tagsV2Select-tag-${e.text}`,className:b.It,"aria-label":u,onChange:()=>{s?.(),o(e)},checked:i,disabled:t}),i?(0,a.jsx)(r.l,{className:_()(b.oE,{[b.Iz]:m})}):(0,a.jsx)(l.J,{className:b.WW}),(0,a.jsx)("label",{htmlFor:`tagsV2Select-tag-${e.text}`,children:u})]},e.text)}let R=s.forwardRef(function({tagsFieldsManager:e,touchedFieldsTracker:t,autoScrollAutocompleteResultsIntoView:i,PublishModalRowComponent:n=f.A,autocompleteInputContainerClassName:r,disabled:l},c){let{tagsV1Field:_,tagsV2Field:p,validV2Tags:b}=e,S=(0,m.w)(_,!t.tagsV1.touched),R=(0,u.U)(S,E.lN,b),v=(0,m.w)(p,!t.tagsV2.touched),I=(0,u.U)(v,T),x=(0,h.Lz)(_,[]),A=s.useRef((0,h.Lz)(_,[]).length>0),[O,N]=s.useState(A.current);s.useEffect(()=>{x.length>0&&N(!0)},[x]);let C=s.useRef(null),L=s.useRef(null);return s.useImperativeHandle(c,()=>({focus:e=>{I?C.current?.focus(e):L.current?.focus(e)}}),[I]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n,{label:(0,d.t)("community.publishing.recommended_tags"),subLabel:b.length>g.jI?(0,d.t)("community.publishing.select_up_to_n_tags_to_help_people_discover_your_resource",{maxTagsPerResource:g.jI}):(0,d.t)("community.publishing.select_tags_to_help_people_discover_your_resource"),error:I,afterErrorContent:!l&&!O&&(0,a.jsx)(o.$n,{variant:"link",onClick:()=>{N(!0)},children:(0,d.t)("community.publishing.add_custom_tags")}),disabled:l,children:(0,a.jsx)(y,{ref:C,tagsFieldsManager:e,touched:t.tagsV2.touched,onTouched:t.tagsV2.onTouched,disabled:l})}),O&&(0,a.jsx)(n,{label:(0,d.t)("community.publishing.custom_tags"),error:R,disabled:l,children:(0,a.jsx)(E.Hs,{ref:L,tagsV1Field:_,validV2Tags:b,touched:t.tagsV1.touched,onTouched:t.tagsV1.onTouched,autoFocusAutocompleteInput:!A.current,autoScrollAutocompleteResultsIntoView:i,autocompleteInputContainerClassName:r,disabled:l})})]})})},401822(e,t,i){i.d(t,{l:()=>M,v:()=>P});var a=i(239976),s=i(105652),n=i(528856),o=i(425006),r=i(942356),l=i(730436),d=i(417675),c=i(270450);i(323264);var _=i(224542),u=i.n(_),m=i(124144),h=i(411681),p=i(172987),g=i(306512),f=i(263618),E=i(478740),b=i(249532),T=i(506120),y=i(841180),S=i(763205),R=i(574622),v=i(37605),I=i(497145),x=i(470019),A=i(801540),O=i(919462),N=i(738600),C=i(72017),L=i(695603),w=i(197773),D=i(868746),j=i(709117);function k(e){if(e&&"exception"!==e.type&&"THUMBNAIL_MEDIUM_MISSING"===e.key)return(0,d.t)("community.publishing.you_must_set_a_thumbnail_for_your_resource")}let M=s.forwardRef(function({carouselMediaFieldManager:e,touched:t,onTouched:i,trackingEventName:_,showThumbnailWithLetterbox:h,disabled:p,label:y},x){let{trackEvent:A}=(0,m.j6)(),{setThumbnailMediumFromFile:M,setThumbnailMediumFromInput:P,hasDefaultThumbnailMedium:F,defaultThumbnailMediumSource:U,restoreDefaultThumbnailMedium:G,deleteMedia:B}=e,{allowVideos:V}=e.deps,X=(0,v.Zc)(e),H=(0,R.w)(e,!t),z=(0,S.U)(H,k),W=(0,v.Lz)(e,void 0),K=W?.thumbnailMedium,$="loading"===e.status,q=s.useRef(null),[Y,Z]=s.useState(!1),Q=s.useCallback(e=>{q.current?.click(),e.stopPropagation()},[]),J=!K&&!1===F&&"file_thumbnail"===U,ee=s.useRef(null),et=s.useRef(null),ei=s.useId(),ea=`${ei}-input`,es=`${ei}-description`,en=`${ei}-error`;s.useImperativeHandle(x,()=>({focus:e=>{ee.current?ee.current.focus(e):et.current?.focus(e)}}),[]);let eo=s.useMemo(()=>[...N.CW,...V?C.VY:[]],[V]);return(0,a.jsx)(w.A,{label:X?y||(0,d.t)("community.publishing.set_a_thumbnail"):(0,d.t)("community.publishing.thumbnail_preview"),labelHtmlFor:ea,subLabel:X?(0,d.t)("community.publishing.recommended_size_in_pixels",{mediaWidth:I.Vb,mediaHeight:I.wj}):void 0,subLabelId:es,error:z,errorId:en,afterErrorContent:(0,a.jsxs)("div",{className:u()(D.Pf,{[D.R]:!J}),"aria-hidden":!J,children:[(0,a.jsx)("div",{className:D.wI,children:(0,c.getFeatureFlags)().dse_library_pg_thumbnails?(0,d.t)("community.publishing.you_can_right_click_a_frame_and_select_set_as_file_thumbnail"):(0,d.t)("community.publishing.you_can_right_click_a_frame_and_select_set_as_thumbnail")}),(0,a.jsxs)("div",{className:D.oo,"aria-hidden":!0,children:[(0,a.jsx)(g.oW,{srcSet:`${j} 2x`,alt:""}),(0,a.jsxs)("div",{className:D.or,children:[(0,a.jsx)("div",{children:(0,d.t)("fullscreen_actions.mask-selection")}),(0,c.getFeatureFlags)().dse_library_pg_thumbnails?(0,a.jsx)("div",{children:(0,a.jsx)("div",{children:(0,d.t)("fullscreen_actions.set_as_file_thumbnail")})}):(0,a.jsx)("div",{children:(0,d.t)("fullscreen_actions.set_as_thumbnail")})]})]})]}),required:X,children:(0,a.jsxs)("div",{className:D.kL,onClick:Q,onDragOver:e=>{let t=(0,b.S)(e.dataTransfer.items[0]?.type,C.yj)||(V?(0,b.S)(e.dataTransfer.items[0]?.type,C.Mr):void 0);M&&1===e.dataTransfer.items.length&&t&&eo.includes(t)?(e.dataTransfer.dropEffect="copy",e.currentTarget.setAttribute("data-droppable","true")):(e.dataTransfer.dropEffect="none",e.currentTarget.setAttribute("data-droppable","false")),e.preventDefault()},onDragLeave:e=>{e.currentTarget.removeAttribute("data-droppable"),e.preventDefault()},onDrop:e=>{if(e.currentTarget.removeAttribute("data-droppable"),!M)return;let t=e.dataTransfer.items[0]?.getAsFile();t&&(i?.(),M(t),e.preventDefault())},children:[(0,a.jsx)("input",{ref:q,accept:eo.join(", "),"aria-describedby":es,"aria-errormessage":z?en:void 0,"aria-invalid":!!z,className:f.s.hidden.$,"data-testid":"resource-publishing-thumbnail-uploader-input",disabled:Y||!P||p,id:ea,onChange:async e=>{Y||!P||p||(i?.(),Z(!0),await P(e.target),A(_,{step:O.WX.ADD_CUSTOM_THUMBNAIL}),Z(!1))},type:"file"}),$?(0,a.jsx)("div",{className:D.y7,children:(0,a.jsx)(E.k,{size:"md"})}):K?(0,a.jsxs)("div",{className:D.iT,children:[(0,a.jsx)("div",{className:D.xn,children:h&&"image"===K.type?(0,a.jsx)(T.Q,{src:K.url,loading:"lazy",alt:(0,d.t)("community.publishing.thumbnail_image"),draggable:!1,crossOrigin:"use-credentials"}):(e=>{switch(e.type){case"image":return(0,a.jsx)(g.oW,{src:e.url,loading:"lazy",alt:(0,d.t)("community.publishing.thumbnail_image"),draggable:!1});case"video":return(0,a.jsx)("video",{...{className:"x186iv6y xl1xv1r x5yr21d x192jxwq x1f0ztbi"},controls:!0,controlsList:"nofullscreen nodownload noplaybackrate",disablePictureInPicture:!0,src:e.url});default:(0,n.assertNever)(e)}})(K)}),(0,a.jsx)(o.E,{ref:ee,className:D.Ik,"aria-label":(0,d.t)("community.publishing.clear_thumbnail_image"),onClick:e=>{i?.(),B?.(K),e.stopPropagation()},disabled:!B||p,children:(0,a.jsx)(l.X,{})})]}):(0,a.jsxs)("div",{className:D.y7,children:[(0,a.jsx)(L.L,{}),(0,a.jsxs)("div",{className:D.Yj,children:[G&&(0,a.jsx)(r.$n,{disabled:Y||p,onClick:e=>{i?.(),G(),e.stopPropagation()},children:"file_thumbnail"===U?(0,d.t)("community.publishing.use_file_thumbnail"):(0,d.t)("community.publishing.use_default_thumbnail")}),(0,a.jsx)(r.$n,{ref:et,variant:G?"link":void 0,onClick:Q,disabled:Y||!P||p,children:V?(0,d.t)("community.publishing.upload_images_or_videos"):(0,d.t)("community.publishing.upload_image")})]})]})]})})});function P({size:e="large",defaultImageUrl:t,existingHubFile:i,onThumbnailChange:n}){let o=(0,h.H)(n),l=(0,y.d)(x.v,{existingResourceContent:i,createNewVersionOnSubmit:!0,allowVideos:!1,generateInitialValue:void 0},void 0),c=(0,A.n)(l),_=(0,v.Lz)(l,void 0)?.thumbnailMedium,u=c.setThumbnailMediumFromInput&&!!l.setValue&&!!n,m=s.useRef(null),[f,b]=s.useState(!1),[T,S]=(0,p.M)(),R=s.useCallback(e=>{e?.stopPropagation(),u&&m.current?.click()},[u]),I=s.useCallback(async e=>{!f&&c.setThumbnailMediumFromInput&&(b(!0),await c.setThumbnailMediumFromInput(e.target),b(!1))},[f,c]);return s.useEffect(()=>{let e=(0,v.Lz)(l,void 0)?.thumbnailMedium;o.current?.(e)},[o,l]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{ref:m,type:"file",accept:"image/*",onChange:I,disabled:f||!u,className:"x1s85apg"}),(0,a.jsxs)("div",{ref:T,...{0:{className:"x1n2onr6 xb3r6kr x186iv6y x19y5rnk x1v8gsql xh8yej3"},2:{className:"x1n2onr6 xb3r6kr x1xjupan x192jxwq x1v8gsql xh8yej3"},1:{className:"x1n2onr6 xb3r6kr x186iv6y x19y5rnk x1v8gsql xh8yej3 xbyyjgo"},3:{className:"x1n2onr6 xb3r6kr x1xjupan x192jxwq x1v8gsql xh8yej3 xbyyjgo"}}[!u|("small"===e)<<1],children:[(0,a.jsx)(g.oW,{...{0:{className:"x1lliihq xh8yej3 x5yr21d xl1xv1r x19y5rnk"},2:{className:"x1lliihq xh8yej3 x5yr21d xl1xv1r x192jxwq"},1:{className:"x1lliihq xh8yej3 x5yr21d xl1xv1r x19y5rnk x197sbye"},3:{className:"x1lliihq xh8yej3 x5yr21d xl1xv1r x192jxwq x197sbye"}}[!!f|("small"===e)<<1],src:_?.url||t,loading:"lazy",alt:(0,d.t)("community.publishing.thumbnail_image")}),S&&u&&(0,a.jsx)("button",{type:"button",...{0:{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x68m4m9 x78zum5 x6s0dn4 xl56j7k x1hc1fzr xzdg38j x19y5rnk"},1:{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x68m4m9 x78zum5 x6s0dn4 xl56j7k x1hc1fzr xzdg38j x192jxwq"}}["small"===e|0],onClick:e=>{f||R(e)},children:(0,a.jsx)("div",{...{className:"x78zum5 xdt5ytf x6s0dn4 x1nfngrj"},children:(0,a.jsx)(r.$n,{onClick:R,disabled:f,children:(0,d.tx)("templates.publishing.upload_custom_thumbnail")})})}),f&&(0,a.jsx)("div",{...{0:{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x11gdpij x78zum5 x6s0dn4 xl56j7k x19y5rnk"},1:{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x11gdpij x78zum5 x6s0dn4 xl56j7k x192jxwq"}}["small"===e|0],children:(0,a.jsx)(E.k,{size:"small"===e?"sm":"md"})})]})]})}},64110(e,t,i){i.d(t,{M:()=>eS,S:()=>ev});var a=i(239976),s=i(105652),n=i(645186),o=i(270307),r=i(742675),l=i(770589),d=i(942356),c=i(336435),_=i(678286),u=i(417675);i(323264);var m=i(963947),h=i.n(m),p=i(270351),g=i(124144),f=i(411681),E=i(315171),b=i(478740),T=i(491221),y=i(679313),S=i(282780),R=i(51853),v=i(746748),I=i(974563),x=i(96840),A=i(840975),O=i(226062),N=i(37605),C=i(171664),L=i(197691),w=i(814954),D=i(555045),j=i(465265),k=i(570730),M=i(488120),P=i(841631),F=i(667603),U=i(869299),G=i(197773),B=i(54184),V=i(147779),X=i(81294),H=i(21552),z=i(174828),W=i(200902),K=i(401822),$=i(340957),q=i(486181),Y=i(625372),Z=i(801540),Q=i(871804),J=i(353426),ee=i(72815),et=i(341299),ei=i(892480),ea=i(919462),es=i(307580),en=i(738600),eo=i(425578),er=i(474686),el=i(692455),ed=i(680281),ec=i(841312),e_=i(44811),eu=i(65868),em=i(515641),eh=i(338301),ep=i(439736),eg=i(911068),ef=i(932984),eE=i(537668),eb=i(403461);function eT({draft:e,publishedDomainInfo:t,fastForwardOnMount:i}){let o,m,{existingHubFile:E}=e.deps,y=(0,n.wA)(),{trackEvent:V}=(0,g.j6)(),q=(0,f.H)(V),Y=s.useCallback(()=>{y(ei.Ce()),q.current(ea.in,{step:ea.WX.CLOSED})},[y,q]),es=(0,O.D)(e.fieldStates);(0,ee.W)(e.fieldStates.viewerMode);let en=(0,J.J)({tagsV1Field:e.fieldStates.tagsV1,tagsV2Field:e.fieldStates.tagsV2}),eo=(0,Z.n)(e.fieldStates.carouselMedia),er=(0,Q.w)(e.fieldStates.cocreators),el=s.useMemo(()=>({details:!0,thumbnail:!0,advanced:!0}),[]),[ed,ec,e_]=r.t.useTabs(el,{orientation:"vertical"}),eu=(0,T.b)(e_),{stepWithErrors:em,clearStepWithErrors:eh,checkProgress:ep,checkOverallProgress:eg}=(0,x.o)([{id:"details",checkpoints:[{check:()=>(0,N.i_)(e.fieldStates.name),onFail:()=>(0,w.__)(w.tZ.NAME_INPUT)},{check:()=>(0,N.i_)(e.fieldStates.description),onFail:()=>(0,w.__)(w.tZ.DESCRIPTION_INPUT)},{check:()=>(0,N.i_)(e.fieldStates.tagsV2)&&(0,N.i_)(e.fieldStates.tagsV1),onFail:()=>(0,w.__)(w.tZ.TAGS_SECTION)}],onFail:()=>{es.name.onTouched?.(),es.description.onTouched?.(),es.tagsV2.onTouched?.(),es.tagsV1.onTouched?.()}},{id:"thumbnail",checkpoints:[{check:()=>(0,N.i_)(e.fieldStates.carouselMedia),onFail:()=>(0,w.__)(w.tZ.THUMBNAIL_UPLOADER)}],onFail:()=>{es.carouselMedia.onTouched?.()}},{id:"advanced",checkpoints:[{check:()=>(0,N.i_)(e.fieldStates.profileHandle),onFail:()=>(0,w.__)(w.tZ.PROFILE_HANDLE_INPUT)},{check:()=>(0,N.i_)(e.fieldStates.cocreators),onFail:()=>(0,w.__)(w.tZ.COCREATORS_INPUT)},{check:()=>(0,N.i_)(e.fieldStates.tosAccepted),onFail:()=>(0,w.__)(w.tZ.TOS_AGREED_CHECKBOX)},{check:()=>(0,N.i_)(e.fieldStates.supportContact),onFail:()=>(0,w.__)(w.tZ.SUPPORT_CONTACT_INPUT)}],onFail:()=>{es.profileHandle.onTouched?.(),es.cocreators.onTouched?.(),es.supportContact.onTouched?.(),es.tosAccepted.onTouched?.()}}],eu.activeTab);s.useEffect(()=>{eh()},[e.fieldStates,eh]);let{draftSubmissionResult:ef,clearDraftSubmissionResult:eT,submit:ey}=(0,A.r)(e,s.useCallback(()=>{q.current(ea.in,{step:ea.WX.PUBLISH})},[q])),eS=s.useRef(i?(0,N.MQ)(e)?"ready":"waiting_for_draft_to_stabilize":"disabled");s.useEffect(()=>{switch(eS.current){case"waiting_for_draft_to_stabilize":(0,N.MQ)(e)&&(eS.current="ready");break;case"ready":eg(),eS.current="progress_check";break;case"progress_check":em&&em!==eu.activeTab?(eu.setActiveTab(em),eS.current="tab_switch"):(em||ey?.(),eS.current="completed");break;case"tab_switch":ep(),eS.current="completed"}},[ep,eg,em,ey,eu,e]);let[eR,ev]=s.useState(B.X.STOPPED),ex=eR===B.X.PLAYING;o=ef?(0,a.jsx)(B.S,{publishedResourceContent:"data"in ef?ef.data.hubFile:void 0,draftSubmissionStatus:ef.result,carouselMediaField:e.fieldStates.carouselMedia,nameField:e.fieldStates.name,authorField:e.fieldStates.author,onAnimationStateChange:ev,viewerModeField:e.fieldStates.viewerMode,hideLikeAndUsage:!0}):(0,a.jsxs)("div",{className:eb.KT,children:[(0,a.jsxs)("div",{className:eb.Cd,children:[(0,a.jsxs)(r.t.TabStrip,{manager:eu,children:[(0,a.jsx)(H.y,{...ed.details,index:1,text:(0,u.t)("community.publishing.write_a_description"),selected:"details"===eu.activeTab,hasErrors:"details"===em}),(0,a.jsx)(H.y,{...ed.thumbnail,index:2,text:(0,u.t)("community.publishing.fine_tune_the_preview"),selected:"thumbnail"===eu.activeTab,hasErrors:"thumbnail"===em}),(0,a.jsx)(H.y,{...ed.advanced,index:3,text:(0,u.t)("community.publishing.add_the_final_details"),selected:"advanced"===eu.activeTab,hasErrors:"advanced"===em})]}),(0,a.jsxs)("div",{className:eb.ME,"aria-hidden":!0,children:[(0,a.jsx)("div",{className:eb.jc,children:(0,u.t)("community.publishing.resource_preview")}),(0,a.jsx)(F.x,{carouselMediaField:e.fieldStates.carouselMedia,nameField:e.fieldStates.name,authorField:e.fieldStates.author})]})]}),(0,a.jsxs)("div",{className:eb.DK,children:[(0,a.jsxs)(r.t.TabPanel,{...ec.details,children:[(0,a.jsx)(w.Mm,{id:w.tZ.NAME_INPUT,children:t=>(0,a.jsx)(P.A,{ref:t,nameField:e.fieldStates.name,...es.name})}),(0,a.jsx)(w.Mm,{id:w.tZ.DESCRIPTION_INPUT,children:t=>(0,a.jsx)(M.A,{ref:t,descriptionField:e.fieldStates.description,...es.description})}),(0,N.i_)(e.fieldStates.category)&&(0,a.jsx)(w.Mm,{id:w.tZ.TAGS_SECTION,children:e=>en.validV2Tags.length>0?(0,a.jsx)(W.vj,{ref:e,tagsFieldsManager:en,touchedFieldsTracker:es,autoScrollAutocompleteResultsIntoView:{behavior:"smooth",block:"end"}}):(0,a.jsx)(z.Yv,{ref:e,tagsV1Field:en.tagsV1Field,...es.tagsV1,autoScrollAutocompleteResultsIntoView:{behavior:"smooth",block:"end"}})}),t&&(0,a.jsx)(G.A,{label:(0,u.t)("community.publishing.preview_url"),children:(0,a.jsx)(l.N,{href:t.fullURL,newTab:!0,children:t.fullURL})})]}),(0,a.jsx)(r.t.TabPanel,{...ec.thumbnail,children:(0,a.jsx)(w.Mm,{id:w.tZ.THUMBNAIL_UPLOADER,children:e=>(0,a.jsx)(K.l,{ref:e,carouselMediaFieldManager:eo,trackingEventName:ea.in,...es.carouselMedia})})}),(0,a.jsxs)(r.t.TabPanel,{...ec.advanced,children:[(0,a.jsx)(w.Mm,{id:w.tZ.PROMPT_VISIBILITY_CHECKBOX,children:t=>(0,a.jsx)(D.s,{ref:t,chatHistoryVisibilityField:e.fieldStates.chatHistoryVisibility})}),(0,a.jsx)(L.A,{authorField:e.fieldStates.author}),(0,a.jsx)(w.Mm,{id:w.tZ.PROFILE_HANDLE_INPUT,children:t=>(0,a.jsx)(U.S,{ref:t,profileHandleField:e.fieldStates.profileHandle,...es.profileHandle})}),(0,a.jsx)(w.Mm,{id:w.tZ.COCREATORS_INPUT,children:(0,a.jsx)(j.A,{cocreatorsFieldManager:er,...es.cocreators})}),(0,a.jsx)(w.Mm,{id:w.tZ.TOS_AGREED_CHECKBOX,children:t=>(0,a.jsx)($.B,{ref:t,tosAcceptedField:e.fieldStates.tosAccepted})}),(0,a.jsx)(k.A,{commentsSettingField:e.fieldStates.commentsSetting}),(0,a.jsx)(w.Mm,{id:w.tZ.SUPPORT_CONTACT_INPUT,children:t=>(0,a.jsx)(X.a,{ref:t,priceField:e.fieldStates.price,supportContactField:e.fieldStates.supportContact,...es.supportContact})})]})]})]}),m=ex||ef?.result!=="success"?ex||ef?.result!=="failure"?(0,a.jsxs)(a.Fragment,{children:[eu.isOnFirstTab?(0,a.jsx)(d.$n,{variant:"secondary",onClick:Y,children:(0,u.t)("general.cancel")}):!ex&&(0,a.jsx)(d.$n,{variant:"secondary",onClick:eu.selectPreviousTab,children:(0,u.t)("general.back")}),eu.isOnLastTab?(0,a.jsx)(d.$n,{disabled:ef?.result==="pending"||ex,onClick:()=>{ep()&&ey?.()},"data-testid":"resource-publishing-make-form-view-submit-button",children:ef?.result==="pending"||ex?(0,a.jsx)(b.k,{size:"sm"}):(0,u.t)("community.publishing.publish")}):(0,a.jsx)(d.$n,{onClick:()=>{ep()&&eu.selectNextTab()},"data-testid":"resource-publishing-make-form-view-next-step-button",children:(0,u.t)("general.next")})]}):(0,a.jsx)(R.h,{holdTimeInMs:5e3,onMouseHold:async()=>{y(et.lW({stringToCopy:JSON.stringify({figFileKey:e.deps.figFile?.key,existingHubFileId:E?.id,createNewVersionOnSubmit:e.deps.createNewVersionOnSubmit,userId:e.deps.user.id,orgId:e.deps.org?.id,orgUserId:e.deps.orgUser?.id,allowedAuthors:e.deps.allowedAuthors,allowedCocreators:await (0,C.a)(e.deps.allowedCocreatorsPromise.then(e=>e.map(e=>e.id))),authedProfilesById:Object.fromEntries(Object.entries(e.deps.authedProfilesById).map(([e,t])=>[e,h()(t,"id","team_id","org_id")])),authedActiveCommunityProfile:e.deps.authedActiveCommunityProfile&&h()(e.deps.authedActiveCommunityProfile,"id","team_id","org_id"),errors:"error"===e.status?e.errors.map(S.L):[]},void 0,2),ignoreLineBreaks:!1,successText:(0,u.t)("community.publishing.debug_info_copied_to_clipboard")}))},children:(0,a.jsx)(d.$n,{variant:"secondary",onClick:eT,children:(0,u.t)("general.go_back")})}):(0,a.jsx)(eI,{publishedHubFile:ef.data.hubFile,publishedDomainInfo:t});let eA=s.useMemo(()=>{if(!ex&&ef?.result!=="success"){if(em)return em===eu.activeTab?(0,u.t)("community.publishing.please_fill_out_required_fields_and_correct_any_errors"):(0,u.t)("community.publishing.updates_are_needed_in_another_step");if("error"===e.status){let t,i=e.errors.find(e=>"submission"===e.type),a=i?.data.rawError;return(t=(0,eE.l)(i))||!a||(t=(0,_.J)(a)),t??(0,u.t)("community.publishing.an_error_occurred_please_try_again")}}},[e,ef?.result,ex,em,eu.activeTab]);s.useEffect(()=>{q.current(ea.in,{step:ea.WX.OPENED})},[q]);let eN=(0,N.Lz)(e.fieldStates.name,""),eC=(0,p.A)(()=>{q.current(ea.in,{step:ea.WX.EDIT_NAME})},2e3);s.useEffect(()=>{eN&&es.name.touched&&eC()},[eN,eC,es.name.touched]);let eL=(0,N.Lz)(e.fieldStates.description,""),ew=(0,p.A)(()=>{q.current(ea.in,{step:ea.WX.EDIT_DESCRIPTION})},1e4);return s.useEffect(()=>{eL&&es.description.touched&&ew()},[eL,ew,es.description.touched]),(0,a.jsxs)(v.I,{onClose:Y,width:"fit-content",height:"dynamic",children:[(0,a.jsxs)(c.vo,{children:[(0,a.jsx)(c.Y9,{children:(0,a.jsx)(c.hE,{children:(0,u.tx)("community.publishing.publish_your_file_to_community")})}),(0,a.jsx)(c.nB,{padding:0,scrolling:"manual",children:o}),(0,a.jsxs)(c.wi,{children:[(0,a.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x167g77z"},children:[!ex&&(0,a.jsx)(eO,{existingHubFile:E}),eA&&(0,a.jsx)("span",{className:eb.$o,"aria-live":"assertive","aria-atomic":!0,children:eA})]}),(0,a.jsx)(c.jk,{children:m})]})]}),(0,a.jsx)(I.r,{draft:e,customRetryAction:{draftFailedToSubmit:ey}})]})}function ey({figFile:e,existingHubFile:t}){let i=(0,e_.Pc)(),a=(0,n.d4)(e=>(0,eu.xw)(e)??void 0,o.c2),r=(0,ec.sZ)(),l=(0,n.d4)(i=>(0,en.Rv)(e?.team_id??null,i,t??null,e?.parent_org_id??null),o.c2),{status:d,allowedAuthors:c}=(0,en.d0)(e?.team_id??null,t??null,e?.parent_org_id??null),_=(0,el.u8)({oldValue:l,oldValueReady:!0,newValue:c,newValueReady:"loaded"===d,label:er.A.MakeFormView.getAllowedAuthorsForHubFile,enableFullRead:(0,eo.UZ)(eo.CF.GROUP_5),enableShadowRead:(0,eo.hc)(eo.CF.GROUP_5)}),u=(0,n.d4)(e=>e.authedProfilesById),m=(0,n.d4)(e=>e.authedActiveCommunityProfile??void 0),h=s.useMemo(async()=>e?await (0,en.mN)(e)??[]:[],[e]),p=(0,ed.eY)(),g=(0,eg.t)(),f=t?.is_chat_history_removed!=null?!t.is_chat_history_removed:void 0;return{user:i,org:r,orgUser:a,allowedAuthors:_,allowedCocreatorsPromise:h,authedProfilesById:u,authedActiveCommunityProfile:m,sceneGraph:p,siteTitle:(g.title??g.placeholder).trim(),shouldShowChatHistory:f}}let eS=(0,E._d)(function(e){let t=ey({figFile:e.figFile,existingHubFile:e.existingHubFile}),i=(0,Y.m_)({...e,...t}),s=(0,ef._t)(e.figFile?.key??"");return(0,a.jsx)(g.fu,{name:eh.e0.COMMUNITY_HUB_FILE_PUBLISH_MODAL_V2,properties:{userId:t.user.id,orgId:t.org?.id,resourceType:em.vt.HUB_FILE,resourceId:e.existingHubFile?.id,fileKey:e.figFile?.key,editorType:e.figFile?.editor_type,isPaid:(0,q.wC)(i.fieldStates.price)},children:(0,a.jsx)(eT,{draft:i,publishedDomainInfo:s})})},"MakeFormView");function eR({draft:e,publishedDomainInfo:t,canPublishAsHubFile:i,cannotPublishAsHubFileReason:o,onPublishFailure:r}){let l=(0,n.wA)(),d=(0,f.H)(r),{trackEvent:m}=(0,g.j6)(),h=(0,f.H)(m),[p,E]=s.useState();s.useEffect(()=>{h.current(ea.in,{step:ea.WX.OPENED})},[h]),s.useEffect(()=>{i&&!p&&(async()=>{if(e.submit){h.current(ea.in,{step:ea.WX.PUBLISH}),E({result:"pending"});let t=await e.submit();"failure"===t.result?(h.current(ea.in,{step:ea.WX.ERROR}),d.current?.("failed_to_submit")):h.current(ea.in,{step:ea.WX.SUCCESS}),E(t)}})()},[e,p,i,d,h]),s.useEffect(()=>{o&&(h.current(ea.in,{step:ea.WX.ERROR,errorType:"source_file_cannot_be_published",errorReason:o}),E({result:"failure"}),d.current?.("source_file_cannot_be_published"))},[o,d,h]),s.useEffect(()=>{!p&&!e.submit&&(0,N.MQ)(e)&&(h.current(ea.in,{step:ea.WX.ERROR,errorType:"errors_in_form"}),E({result:"failure"}),d.current?.("errors_in_form"))},[e,p,d,h]);let b=s.useCallback(()=>{l(ei.Ce())},[l]),[T,y]=s.useState(B.X.STOPPED),S=T===B.X.PLAYING,R=s.useMemo(()=>{if(!S&&p?.result==="failure"){let t;if(o)return(0,es.Yw)(o);let i="error"===e.status?e.errors.find(e=>"submission"===e.type):void 0,a=i?.data.rawError;return(t=(0,eE.l)(i))||!a||(t=(0,_.J)(a)),t??(0,u.t)("community.publishing.an_error_occurred_please_try_again")}},[e,p?.result,S,o]);return(0,a.jsxs)(v.I,{onClose:b,width:"fit-content",height:"dynamic",children:[(0,a.jsxs)(c.vo,{children:[(0,a.jsx)(c.Y9,{children:(0,a.jsx)(c.hE,{children:(0,u.tx)("community.publishing.publish_your_file_to_community")})}),(0,a.jsx)(c.nB,{padding:0,scrolling:"manual",children:(0,a.jsx)(B.S,{publishedResourceContent:p?.result==="success"?p.data.hubFile:void 0,draftSubmissionStatus:p?.result??"pending",carouselMediaField:e.fieldStates.carouselMedia,nameField:e.fieldStates.name,authorField:e.fieldStates.author,onAnimationStateChange:y,viewerModeField:e.fieldStates.viewerMode,hideLikeAndUsage:!0})}),(0,a.jsxs)(c.wi,{children:[(0,a.jsx)("span",{className:eb.$o,"aria-live":"assertive","aria-atomic":!0,children:R}),(0,a.jsx)(c.jk,{children:p?.result==="success"&&!S&&(0,a.jsx)(eI,{publishedHubFile:p.data.hubFile,publishedDomainInfo:t})})]})]}),(0,a.jsx)(I.r,{draft:e,customRetryAction:{draftFailedToSubmit:e.submit}})]})}let ev=(0,E._d)(function(e){let t=ey({figFile:e.figFile,existingHubFile:e.existingHubFile}),i=(0,Y.NY)({...e,...t,autoAcceptToSIfNeeded:!0},{name:t.siteTitle,chatHistoryVisibility:e.shouldShowChatHistory,...e.customThumbnailMedium&&{carouselMedia:{allMedia:[e.customThumbnailMedium],thumbnailMedium:e.customThumbnailMedium}},...e.tagsV2.length&&{tagsV2:e.tagsV2}}),n=(0,ef._t)(e.figFile?.key??""),{canPublishAsHubFile:o,reason:r}=(0,es.Of)("StreamlinedMakeFormView",e.figFile),[l,d]=s.useState(!1);return l?(0,a.jsx)(eT,{draft:i,publishedDomainInfo:n,fastForwardOnMount:!0}):(0,a.jsx)(eR,{draft:i,publishedDomainInfo:n,onPublishFailure:e=>{"errors_in_form"===e&&d(!0)},canPublishAsHubFile:o,cannotPublishAsHubFileReason:r})},"StreamlinedMakeFormView");function eI({publishedHubFile:e,publishedDomainInfo:t}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ex,{publishedResourceContent:e}),(0,a.jsx)(eA,{publishedDomainInfo:t})]})}function ex({publishedResourceContent:e}){return(0,a.jsx)(l.N.Button,{variant:"secondary",href:(0,V.jT)(e),newTab:!0,trusted:!0,"data-testid":"resource-publishing-success-screen-actions-see-in-community-button",children:(0,u.t)("community.publishing.see_in_community")})}function eA({publishedDomainInfo:e}){return e?(0,a.jsx)(l.N.Button,{href:e.fullURL,newTab:!0,trusted:!0,"data-testid":"resource-publishing-success-screen-actions-go-to-web-button",children:(0,u.t)("community.publishing.go_to_web")}):null}function eO({existingHubFile:e}){let t=(0,n.wA)(),i=(0,y.FT)(),o=s.useCallback(()=>{e&&i&&t(ei.to({type:ep.V,data:{hubFile:e,confirmationTitle:(0,u.t)("community.hub_files.remove_file_from_community_hub"),content:(0,u.t)("community.hub_files.unpublishing_this_file_will_remove_it_from_the_community_hub_and_prevent_people_from_finding_and_using_this_file"),confirmText:(0,u.t)("community.resource.unpublish")}}))},[t,e,i]);return e&&i?(0,a.jsx)(d.$n,{variant:"destructiveSecondary",onClick:o,children:(0,u.t)("community.resource.unpublish")}):null}},117360(e,t,i){i.d(t,{Zp:()=>l,iB:()=>r});var a=i(967041),s=i(515641),n=i(278736),o=i(781670);let r=a.M4.Query({fetch:async e=>(await n.c.getAll({editorType:e})).data.meta}),l=a.M4.Query({fetch:async({categorySlug:e,tagSlug:t,locale:i})=>(await n.c.getCategoryBySlug(e,{tagSlug:t,locale:i})).data.meta});a.M4.Query({fetch:async e=>(await o.A.getCommunityShelves({categorySlug:e,shelfType:s.cS.CATEGORY_PAGE})).data.meta[0]})},303114(e,t,i){i.d(t,{e:()=>r});var a=i(239976),s=i(923500),n=i(72026);let o="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==",r=(0,n.makeComponentSet)(function(e){return(0,a.jsxs)(s.ComponentSet,{name:"Avatar",children:[(0,a.jsx)(s.Component,{name:"type=Letter,size=Large",fill:"#FFC700",stroke:"#0000001A",cornerRadius:32,direction:"vertical",spacing:8,padding:8,width:32,height:32,verticalAlignItems:"center",horizontalAlignItems:"center",children:(0,a.jsx)(s.Text,{name:"letter",fill:"#FFF",verticalAlignText:"center",horizontalAlignText:"center",lineHeight:24,fontFamily:"Inter",letterSpacing:-.14399999618530274,children:e.letter??"A"})}),(0,a.jsx)(s.Component,{name:"type=Letter,size=Small",fill:"#FFC700",stroke:"#0000001A",cornerRadius:32,direction:"vertical",spacing:8,padding:8,width:26,height:26,verticalAlignItems:"center",horizontalAlignItems:"center",children:(0,a.jsx)(s.Text,{name:"letter",fill:"#FFF",verticalAlignText:"center",horizontalAlignText:"center",lineHeight:24,fontFamily:"Inter",fontSize:14,letterSpacing:-.014000000208616257,children:e.letter??"A"})}),(0,a.jsx)(s.Component,{name:"type=Image,size=Large",effect:{spread:1,color:"#FFF",offset:{x:0,y:0},blur:0,type:"drop-shadow"},fill:{type:"image",src:o,imageRef:"efe98099a0aa97c1aa64e286bc82e633cc9aed22",scalingFactor:.5},stroke:"#0000001A",cornerRadius:32,direction:"vertical",spacing:8,padding:8,width:32,height:32,verticalAlignItems:"center",horizontalAlignItems:"center"}),(0,a.jsx)(s.Component,{name:"type=Image,size=Small",fill:{type:"image",src:o,imageRef:"efe98099a0aa97c1aa64e286bc82e633cc9aed22",scalingFactor:.5},stroke:"#0000001A",cornerRadius:13,direction:"vertical",spacing:8,padding:8,width:26,height:26,verticalAlignItems:"center",horizontalAlignItems:"center"})]})})},884368(e,t,i){i.d(t,{F:()=>o});var a=i(759231),s=i(615606),n=i(614368);let o=new class{openTemplatePicker(){a.zl.set(s.YA,!0)}isBuzzApprovalsEnabled(){return(0,n.yL)()}}},79900(e,t,i){i.d(t,{RD:()=>r,i2:()=>n,ie:()=>o});var a=i(270307),s=i(449979);function n(e){return"IMAGE"===e.type&&(0,s.Vq)(e.imageVar?.value?.cmsAliasValue?.collectionId)}function o(e,t,i){let s=[...e],o=s.findIndex(e=>n(e)),r=i?s.findIndex(e=>(function(e,t){let{visible:i,...s}=e,{visible:n,...o}=t;return(0,a.c2)(s,o)})(i,e)):-1;return -1!==o?s[o]=t:-1!==r?s[r]=t:s.push(t),s}function r(e,t){return{type:"IMAGE",color:{r:1,g:1,b:1,a:1},opacity:1,imageScaleMode:"FILL",imageVar:{value:{cmsAliasValue:{collectionId:e,fieldId:t,itemId:""}},dataType:"CMS_ALIAS",resolvedDataType:"IMAGE"}}}},940040(e,t,i){let a;i.d(t,{BT:()=>l,Ju:()=>c,q$:()=>d,rS:()=>a});var s=i(295870),n=i(16233),o=i(184634);let r=[];function l(e){if(r.push(e),r.length){if(!n.w3)return void(0,o.$D)(s.FigmaTeam.CODE_CONNECT,Error("HandoffBindingsCpp unavailable when registering node change callback"));n.w3.setIsNodeChangeCallbackRegistered(!0)}}function d(e){if(!(r=r.filter(t=>t!==e)).length){if(!n.w3)return void(0,o.$D)(s.FigmaTeam.CODE_CONNECT,Error("HandoffBindingsCpp unavailable when unregistering node change callback"));n.w3.setIsNodeChangeCallbackRegistered(!1)}}function c(){a={nodeChange:e=>{for(let t of r)t(e)}}}},704001(e,t,i){i.d(t,{g:()=>a});let a=(0,i(759231).eU)(new Set)},859143(e,t,i){i.d(t,{U:()=>o});var a=i(414072),s=i(295549),n=i(280801);function o(e,{searchLocalPlugins:t,searchPublishedPlugins:i}){let o,r,l=(o=a.D.getState().localPlugins,(0,n.NW)(s.nT.DevHandoff,o)),d=(r=a.D.getState().publishedPlugins,(0,n.xC)(s.nT.DevHandoff,r));return(0,n.DM)({idToSearch:e,localExtensionsByFileId:t?l:void 0,publishedExtensions:i?d:void 0})}},678821(e,t,i){i.d(t,{ZH:()=>r,r$:()=>o,r5:()=>l});var a=i(87683),s=i(917262),n=i(86118);(0,i(377617).nF)(e=>{let t=e.getState().appWindow.inFullScreenMode;n.eD?n.eD.setFullScreen(!t):s.R7.fullscreen&&(t?s.R7.getFullscreenElement()?s.R7.exitFullscreenFunc():e.dispatch(r()):s.R7.requestFullscreenFunc.call(document.documentElement))});let o=(0,a.NC)("WINDOW_DID_ENTER_FULL_SCREEN"),r=(0,a.NC)("WINDOW_DID_EXIT_FULL_SCREEN");function l(e){!s.R7.fullscreen||n.eD||(document.addEventListener(s.R7.fullscreenChangeEventName,function(){let t=e.getState();s.R7.getFullscreenElement()&&!t.appWindow.inFullScreenMode?e.dispatch(o()):t.appWindow.inFullScreenMode&&e.dispatch(r())}),document.addEventListener(s.R7.fullscreenErrorEventName,function(t){console.warn("failed to enter fullscreen:",t),e.getState().appWindow.inFullScreenMode&&e.dispatch(r())}))}},390735(e,t,i){var a=i(417675),s=i(759231);i(575015);var n=i(917262),o=i(4257),r=i(459270);i(858461),i(981517),i(126658);var l=i(622179);function d(e){if(!e)return;e.presenterViewer=null;let t=new Set(["close","open","alert","confirm","prompt","focus","blur","postMessage","addEventListener","removeEventListener","dispatchEvent","setTimeout","clearTimeout","setInterval","clearInterval","requestAnimationFrame","cancelAnimationFrame","document","location","history","navigator","screen","innerWidth","innerHeight","outerWidth","outerHeight","scrollX","scrollY","pageXOffset","pageYOffset","localStorage","sessionStorage","console","performance","parent","top","self","window","frames","length","name","opener","origin","devicePixelRatio","crypto","isSecureContext","visualViewport","customElements","trustedTypes","onload","onunload","onbeforeunload","onerror","onresize","onmessage","onmessageerror","onfocus","onblur","Object","Array","Function","String","Number","Boolean","Date","RegExp","Error","Promise","Map","Set","WeakMap","WeakSet","JSON","Math","parseInt","parseFloat","isNaN","isFinite","encodeURI","decodeURI","encodeURIComponent","decodeURIComponent"]);for(let i of Object.keys(e))if(!t.has(i))try{let t=e[i];("object"==typeof t||"function"==typeof t)&&t&&t instanceof e.Object&&(e[i]=null)}catch(e){}}i(738033);let c=(0,s.um)({readyForMessages:!1},(e,t)=>{switch(t.type){case 0:{d(e.avWindow);let i=function(e,t,i,l){if(""===t)return void e(o.F.enqueue({message:(0,a.t)("slides.presenter_view.unknown_error"),error:!0}));if(!i)return void e(o.F.enqueue({message:(0,a.t)("slides.presenter_view.network_error"),error:!0}));let d=t.split("/")[4],_=`audience-view-${d}`;new URL(t);let u=.8*window.screen.availHeight,m=(0,n.FJ)(t,_,`height=${u},width=${16*u/9},left=0,top=0,popup=yes`);if(null===m){let n={text:(0,a.t)("slides.presenter_view.open_popup"),action:()=>{s.zl.set(c,{type:0,dispatch:e,url:t,isOnline:i})}};e(o.F.enqueue({message:(0,a.t)("slides.presenter_view.pop_up_error"),error:!0,button:n})),s.zl.set(c,{type:2})}else"manual"!==l&&e(o.F.enqueue({icon:r.zX.NOTES_ON_RECTANGLE,message:(0,a.t)("slides.presenter_view.visual_bells.opened_audience_view_in_separate_window")}));return m}(t.dispatch,t.url,t.isOnline,t.openReason);if(i)return{avWindow:i,readyForMessages:!1,openReason:t.openReason};return{readyForMessages:!1}}case 1:if(e.avWindow)return{avWindow:e.avWindow,readyForMessages:!0,openReason:e.openReason};return{readyForMessages:!1};case 3:return{avWindow:t.window,readyForMessages:!0,openReason:e.openReason};case 2:return d(e.avWindow),{readyForMessages:!1}}}),_=(0,l.Wh)(()=>(0,s.eU)(new Set));(0,l.Wh)(()=>(0,s.eU)(e=>e(_),(e,t,i)=>{let a=e(_);i&&t(_,new Set([...a,i]))}))},642116(e,t,i){i.d(t,{DI:()=>l,NY:()=>d,V2:()=>n,cL:()=>c,dY:()=>o,sV:()=>s,zx:()=>r});var a=i(87683);let s=(0,a.NC)("CANVAS_SEARCH_SET_MODE"),n=(0,a.NC)("CANVAS_SEARCH_SET_SCOPE"),o=(0,a.NC)("CANVAS_SEARCH_CLEAR_CATEGORY_FILTERS"),r=(0,a.NC)("CANVAS_SEARCH_SWITCH_CATEGORY_FILTER_EXCLUSIVE"),l=(0,a.NC)("CANVAS_SEARCH_TOGGLE_CATEGORY_FILTER"),d=(0,a.NC)("CANVAS_SEARCH_SET_QUERY"),c=(0,a.NC)("CANVAS_SEARCH_RESET")},995080(e,t,i){i.d(t,{$:()=>m,C:()=>u});var a=i(678286),s=i(417675),n=i(332164),o=i(245694),r=i(4257),l=i(377617),d=i(343696),c=i(396238),_=i(515641);let u=(0,l.nF)((e,{id:t,resourceType:i},{loadingKey:l})=>{let u=o.Ay.post(`/api/${(0,d.n)(i)}/${t}/like`,{orgId:e.getState().currentUserOrgId});(0,c.N)(u,e,l),u.catch(t=>{e.dispatch(r.F.enqueue({message:i===_.vt.PLUGIN?(0,s.t)("community.actions.unable_to_like_this_plugin_error",{error:(0,a.J)(t,t.data.message)}):(0,s.t)("community.actions.unable_to_like_this_widget_error",{error:(0,a.J)(t,t.data.message)}),type:`${i.toUpperCase()}_LIKE_FAILED`,error:!0}))});let m=e.getState().user,h=m&&(0,d.sD)(m,e.getState().authedProfilesById);m?.id&&h&&(0,n.WB)().optimisticallyCreate({CommunityHubLike:{[`optimistic-${t}-${h.id}`]:{pluginId:t,hubFileId:null,resourceId:null,profileId:h.id,hiddenAt:null,createdAt:new Date,updatedAt:new Date,canRead:!0}}},u)},({id:e})=>`LIKE_RESOURCE_${e}`),m=(0,l.nF)((e,{id:t,resourceType:i,likeId:a},{loadingKey:l})=>{let u=o.Ay.del(`/api/${(0,d.n)(i)}/${t}/like`,{orgId:e.getState().currentUserOrgId});(0,c.N)(u,e,l),u.catch(t=>{e.dispatch(r.F.enqueue({message:i===_.vt.PLUGIN?(0,s.t)("community.actions.unable_to_unlike_this_plugin_error",{error:t.data.message}):(0,s.t)("community.actions.unable_to_unlike_this_widget_error",{error:t.data.message}),type:`${i.toUpperCase()}_UNLIKE_FAILED`,error:!0}))}),e.getState().user?.id&&a&&(0,n.WB)().optimisticallyDelete({CommunityHubLike:{[a]:null}},u)})},636100(e,t,i){i.d(t,{F6:()=>p,Ho:()=>m,K6:()=>u,PU:()=>f,V9:()=>b,mu:()=>g,sm:()=>_,sp:()=>T,wE:()=>E,yc:()=>h});var a=i(297746),s=i(16233),n=i(359731),o=i(87683),r=i(115378),l=i(688537),d=i(621805),c=i(377617);let _=(0,o.NC)("MULTIPLAYER_EMOJI_UPDATE_EMOJI_WHEEL_POSITION"),u=(0,o.NC)("MULTIPLAYER_EMOJI_CLEAR_STATE"),m=(0,c.nF)(e=>{s.GT?.setIsInCursorChat(!1),e.dispatch(u())}),h=(0,o.NC)("MULTIPLAYER_EMOJI_START_CHATTING"),p=(0,c.nF)((e,t)=>{let i=e.getState();0>[n.NLJ.HAND,n.NLJ.SELECT,n.NLJ.HAND_SELECT].indexOf(i.mirror.appModel.currentTool)&&a.glU?.triggerAction("set-tool-default",null),(0,d.q)().then(e=>{e||(s.GT?.setIsInCursorChat(!0),(0,r.ds)("Started chatting",i.openFile?.key,i,{source:t.source}))}),e.dispatch(h(t))}),g=(0,o.NC)("MULTIPLAYER_EMOJI_STOP_REACTING"),f=(0,o.NC)("MULTIPLAYER_EMOJI_START_REACTING"),E=(0,c.nF)((e,t)=>{l.R9.resetReactions(),e.dispatch(f(t))}),b=(0,o.NC)("MULTIPLAYER_EMOJI_TOGGLE_EMOJI_WHEEL"),T=(0,c.nF)((e,t)=>{let i=e.getState();(0,r.ds)("Toggled emoji wheel",i.openFile?.key,i,{wheelType:t.wheelType,...t.source&&{source:t.source}}),e.dispatch(b(t))})},678356(e,t,i){i.d(t,{Nu:()=>m,Xw:()=>h,pE:()=>g,yJ:()=>p});var a=i(417675),s=i(87683),n=i(245694),o=i(51477),r=i(4257),l=i(377617),d=i(256342),c=i(396238),_=i(115690),u=i(206556);let m=(0,l.nF)((e,{licenseType:t,editorType:i,seatTypeKey:s,fileKey:l,message:d,teamId:c,entryPoint:_,onError:m,onSuccess:h,hideSuccessMessage:p,folderId:g})=>{n.Ay.post(`/api/teams/${c}/team_users/request_upgrade`,{editor_type:t,billable_product_key:s,file_key:l,message:d,team_id:c,entry_point:_,folder_id:g,entry_point_editor_type:i,entry_point_license_type:t}).then(function(t){if(200===t.status&&h?.(t.data.meta?.id),!p){let t;switch(_){case u.tc.IN_EDITOR_RESTRICTED_DRAFT:case u.tc.RESTRICTED_DRAFT_SHARED_EMAIL:t=(0,a.t)("team_user.actions.request_sent_well_let_you_know");break;case u.tc.ASK_TO_EDIT_ONE_CLICK:t=(0,a.t)("1_click_expansion.request_sent_well_let_you");break;case"create-file-project-view":case u.tc.USER_SETTINGS:t=(0,a.t)("upgrades.request_sent_toast");break;default:t=(0,a.t)("team_user.actions.team_members_request_to_upgrade_succeeded")}e.dispatch(r.F.enqueue({message:t,type:"pro-upgrade-request-sent"}))}}).catch(function(t){e.dispatch(o.s.error((0,a.t)("team_user.actions.team_members_request_to_upgrade_failed"))),m?.()})}),h=(0,l.nF)((e,{teamId:t},{loadingKey:i})=>{if(!t)return;let s=e.getState(),n="team"===s.selectedView.view&&"members"===s.selectedView.teamViewTab||"teamUpgrade"===s.selectedView.view||"eduReview"===s.selectedView.view;if(!(0,d.Sc)(s.loadingState,i)&&!n)return;let r=_.$.getTeamUsers({teamId:t});(0,c.N)(r,e,i),r.then(i=>{e.dispatch(g({teamUsers:i.data.meta,teamId:t}))},t=>{console.error(t),t&&403!==t.status&&e.dispatch(o.s.error((0,a.t)("team_user.actions.an_error_occurred_while_retrieving_fetching_the_list_of_users_on_this_team")))})},({teamId:e})=>`TEAM_USER_INITIALIZED_FOR_TEAM_${e}`),p=(0,s.NC)("TEAM_USER_PUT"),g=(0,s.NC)("TEAM_USER_INITIAL_SET")},255416(e,t,i){i.d(t,{Im:()=>Q,aS:()=>function e(t,i){switch(t.type){case"run-menu-action":return{displayText:a.PluginMenu.nameOfMenuItem(t),callback:i(t)};case"separator":return{displayText:"",separator:!0};case"header":return{header:!0,displayText:t.name};case"submenu":{let a=[];return t.submenu.forEach(t=>{a.push(e(t,i))}),{displayText:t.name,children:a}}default:(0,s.xb)(t)}},ft:()=>K,gy:()=>W,qs:()=>Z});var a=i(322916),s=i(836848),n=i(295870),o=i(297746),r=i(798913),l=i(508919),d=i(270450),c=i(759231),_=i(32186),u=i(414072),m=i(925778),h=i(135276),p=i(184634),g=i(4257),f=i(174791),E=i(699008),b=i(489319),T=i(277562),y=i(173973),S=i(486475),R=i(34004),v=i(206556),I=i(892480),x=i(919462),A=i(92839),O=i(470410),N=i(194579),C=i(583400),L=i(867109),w=i(162327),D=i(540180),j=i(26487),k=i(280801),M=i(805295),P=i(465833),F=i(970065),U=i(515641),G=i(850691),B=i(163224),V=i(276899),X=i(875546),H=i(982326);let z=(0,j.M)();function W(e){return[...e].sort((e,t)=>new Intl.Collator().compare(a.PluginMenu.nameOfMenuItem(e),a.PluginMenu.nameOfMenuItem(t)))}function K({nameStringKey:e,menuAction:t,disabled:i,property:a,propertyValue:s,iconType:n}){return{type:"run-menu-action",name:{type:"string-key",key:e,string:(0,A.A)(e)},menuAction:t,disabled:i,property:a,propertyValue:s,iconType:n,path:[]}}function $(){N.Y5.dispatch(g.F.enqueue({message:"File must be fully loaded to run plugin.",type:"missing-file-key-to-run-plugin",error:!0}))}function q(e){return"publishedPlugins"in e&&"allSavedPlugins"in e&&"activeTextReviewPlugin"in e&&"userCanViewPlugins"in e}function Y(e){return"publishedWidgets"in e}function Z(e){return"insert-local-widget"===e.menuAction.type||"insert-installed-widget"===e.menuAction.type}function Q(e,t,i){let{openFile:a,localExtensions:g}=e,A=(0,k.T)(),j=(0,d.getFeatureFlags)().ext_require_appropriate_seat&&!e.userCanRunExtensions,W=`extension-action-${t}`;switch(i.type){case"insert-local-widget":{if(j)return M.R0.instance.handleUpgrade(v.Q7.RUN_WIDGET);if(!Y(e))return void(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Expected WidgetsMenuArgs"),{tags:{menuActionType:"insert-local-widget"}});if(!a)return void $();let t=g[i.localFileId];t?r.l7.user("insert-widget",()=>(0,w.j)({pluginID:t.plugin_id,widgetName:t.name,pluginVersionID:""})):(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Widget not found"),{tags:{menuActionType:"insert-local-widget",localFileId:i.localFileId}});return}case"insert-installed-widget":{if(j)return M.R0.instance.handleUpgrade(v.Q7.RUN_WIDGET);if(!Y(e))return void(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Expected WidgetsMenuArgs"),{tags:{menuActionType:"insert-installed-widget"}});let t=e.publishedWidgets[i.pluginId],a=(0,k.Ar)(t);t&&a?r.l7.user("insert-widget",()=>(0,w.j)({pluginID:t.id,widgetName:a.name,pluginVersionID:a.id})):(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Widget not found"),{tags:{menuActionType:"insert-installed-widget",widgetId:i.pluginId}});return}case"run-local-plugin":{if(j)return M.R0.instance.handleUpgrade(v.Q7.RUN_PLUGIN);if(!q(e))return void(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Expected PluginsMenuArgs"),{tags:{menuActionType:"run-local-plugin"}});if(i.parameterOnly&&i.parameterEntry)return void(0,H.nO)(i,t,N.Y5.dispatch);let s=g[i.localFileId];if(!s)return void(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Plugin not found"),{tags:{menuActionType:"run-local-plugin"},extra:{localFileId:i.localFileId,localExtensions:g}});let o=(0,k.JT)({plugin:s});o.canRun?M.R0.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:s,command:i.command||"",queryMode:!1,runMode:"default",triggeredFrom:t,openFileKey:a?.key||"",isWidget:!1}}):(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Cannot run plugin"),{tags:{menuActionType:"run-local-plugin",canRunMessage:o.message}});return}case"run-installed-plugin":{if(j)return M.R0.instance.handleUpgrade(v.Q7.RUN_PLUGIN);if(!q(e))return void(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Expected PluginsMenuArgs"),{tags:{menuActionType:"run-installed-plugin"}});if(i.parameterOnly&&i.parameterEntry)return void(0,H.nO)(i,t,N.Y5.dispatch);let s=function(e,t){let{allSavedPlugins:i,orgSavedPlugins:a,recentlyUsedPlugins:s,publishedPlugins:n}=t;if(i[e])return i[e];if(a&&a[e])return a[e];let o=s?.find(t=>t.plugin_id===e&&!(0,B.ZQ)(t));if(o)return o;let r=n[e];return(0,k.Ar)(r)}(i.pluginId,{allSavedPlugins:e.allSavedPlugins,orgSavedPlugins:e.orgSavedPlugins,recentlyUsedPlugins:e.recentlyUsedPlugins,publishedPlugins:e.publishedPlugins});if(!s)return void(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Plugin not found"),{tags:{menuActionType:"run-installed-plugin",pluginId:i.pluginId}});let o=(0,k.JT)({plugin:s});o.canRun?M.R0.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:s,command:i.command||"",queryMode:!1,runMode:"default",triggeredFrom:t,openFileKey:a?.key||"",isWidget:!1}}):(0,p.$D)(n.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,Error("runExtensionMenuAction: Cannot run plugin"),{tags:{menuActionType:"run-installed-plugin",pluginId:i.pluginId,canRunMessage:o.message}});return}case"set-text-review-plugin":if(j)return M.R0.instance.handleUpgrade(v.Q7.RUN_PLUGIN);(0,C.Br)(i.textReviewPluginInfo),L.$4.reset();return;case"run-last":if(j)return M.R0.instance.handleUpgrade(v.Q7.RUN_PLUGIN);N.Y5.triggerAction("plugins-run-last",{source:"menu"});return;case"manage-widgets":N.Y5.dispatch(S.EG({toolType:"widget"})),N.Y5.triggerAction("clear-tool",{source:"menu"}),(0,R.s)({initialX:0,initialY:0,initialTab:"figjam"===A?F.pL.WIDGETS:void 0,initialFdResourceTab:"figma"===A?F.sk.WIDGET:void 0,initialFdView:"figma"===A?"development":void 0,scrollDevelopmentSectionIntoView:"figjam"===A,source:W});return;case"manage-plugins":{if("dev"===A||"inspect"===A){(0,C.ax)(o._gJ.PLUGIN),c.zl.set(b.HT,"development"),setTimeout(()=>{c.zl.set(b.uP,!0)},0),V.mN.getInstance()?.getIframeId()===V.Wh.INSPECT&&(0,P.wY)();return}if("buzz"===A){c.zl.set(E.Lk,E.x.PLUGINS),c.zl.set(f.zM,"development"),V.mN.getInstance()?.getIframeId()===V.Wh.BUZZ_LEFT_PANEL&&(0,P.wY)();return}N.Y5.dispatch(S.EG({toolType:"plugin"})),N.Y5.triggerAction("clear-tool",{source:"menu"});let e="figma"===A||"slides"===A;(0,R.s)({initialX:0,initialY:0,initialTab:"figjam"===A?F.pL.PLUGINS:void 0,initialFdResourceTab:e?F.sk.PLUGIN:void 0,scrollDevelopmentSectionIntoView:"figjam"===A,initialFdView:e?"development":void 0,source:W});return}case"browse":return void m.Ay.redirect("/community/plugins","_blank");case"browse-plugins":if((0,O.nV)(),N.Y5.dispatch(S.EG({toolType:"plugin"})),N.Y5.triggerAction("clear-tool",{source:"menu"}),(0,_.sx)(x.s0.FIND_MORE_PLUGINS,{isWidget:!1,triggeredFrom:t}),"dev"===A||"inspect"===A){(0,C.ax)(o._gJ.PLUGIN),c.zl.set(b.HT,"recents_and_saved"),V.mN.getInstance()?.getIframeId()===V.Wh.INSPECT&&(0,P.wY)();return}if("buzz"===A){c.zl.set(E.Lk,E.x.PLUGINS),c.zl.set(f.zM,"recents_and_saved"),V.mN.getInstance()?.getIframeId()===V.Wh.BUZZ_LEFT_PANEL&&(0,P.wY)();return}(0,R.s)({initialX:0,initialY:0,initialTab:"figjam"===A?F.pL.PLUGINS:void 0,initialFdResourceTab:"figma"===A?F.sk.PLUGIN:void 0,initialFdView:"figma"===A?"recents_and_saved":void 0,source:W});return;case"select-all-widgets":return void N.Y5.triggerAction("select-all-widgets");case"browse-widgets":(0,O.nV)(),N.Y5.dispatch(S.EG({toolType:"widget"})),N.Y5.triggerAction("clear-tool",{source:"menu"}),(0,_.sx)(x.s0.FIND_MORE_PLUGINS,{isWidget:!0,triggeredFrom:t}),(0,R.s)({initialX:0,initialY:0,initialTab:"figjam"===A?F.pL.WIDGETS:void 0,initialFdResourceTab:"figma"===A?F.sk.WIDGET:void 0,source:W});return;case"set-widget-thumbnail":{if(!a)return void $();let e=(0,l.NT)().get(i.widgetId);if(!e)return;let t=(0,D.xG)(e),s=URL.createObjectURL(t);u.D.dispatch((0,y.r)({localFileId:i.localFileId,publishedPluginId:i.widgetId,entryPoint:G.k2.EDITOR,localSnapshotUrl:s,localSnapshotBlob:t,widgetNodeId:i.widgetId}));return}case"publish-widget":if(j)return M.R0.instance.handleUpgrade(v.Q7.MANAGE_EXTENSIONS);if(!a)return void $();u.D.dispatch((0,y.r)({localFileId:i.localFileId,publishedPluginId:i.widgetId,entryPoint:G.k2.EDITOR}));return;case"view-api-docs":{let e="https://www.figma.com/plugin-docs/api/api-reference/";(0,h.e)(e)||open(e,"_blank");return}case"create-new-plugin":if(j)return M.R0.instance.handleUpgrade(v.Q7.MANAGE_EXTENSIONS);N.Y5.dispatch((0,I.to)({type:X.h,data:{resourceType:U.bD.PLUGIN}}));return;case"create-new-widget":if(j)return M.R0.instance.handleUpgrade(v.Q7.MANAGE_EXTENSIONS);N.Y5.dispatch((0,I.to)({type:X.h,data:{resourceType:U.bD.WIDGET}}));return;case"import-widget-from-manifest":if(j)return M.R0.instance.handleUpgrade(v.Q7.MANAGE_EXTENSIONS);N.Y5.dispatch((0,T.JZ)({resourceType:"widget"}));return;case"import-plugin-from-manifest":if(j)return M.R0.instance.handleUpgrade(v.Q7.MANAGE_EXTENSIONS);N.Y5.dispatch((0,T.JZ)({resourceType:"plugin"}));return;case"open-console":case"toggle-console":if(!z)return;if("toggle-realms"===i.actualTypeForBackwardsCompatibility)return void N.Y5.triggerAction("toggle-use-realms-for-plugin-dev");z.toggleDevTools("bottom"),i.showError?console.error(i.showError):(0,_.sx)("Plugin Open Dev Tools");return;case"toggle-use-local-related-link-plugin":{if(!z)return;let e=u.D.getState().mirror.appModel.useLocalRelatedLinkPlugin;(0,C.gX)({useLocalRelatedLinkPlugin:!e});return}case"open-dir":if(!z)return;z.openExtensionDirectory(i.localFileId);return;case"unpurchased-plugin":return;case"toggle-hot-reload-plugin-dev":{let e=u.D.getState().mirror.appModel.hotReloadPluginDev;(0,C.gX)({hotReloadPluginDev:!e});return}default:(0,s.xb)(i)}}},568749(e,t,i){i.d(t,{C1:()=>d,Nv:()=>_,TI:()=>u,rC:()=>l,z5:()=>c});var a=i(417675),s=i(412991),n=i(290256),o=i(914587);class r extends o.A{constructor(e={}){super(),this.options=e}parse(e,t,i=!1){let a=t?.a??1,n=(0,s.H0)(e,this.options.parseAlpha?a:void 0,i);if(!n)throw Error("Could not parse hex");return this.options.parseAlpha?n:(0,s.X9)(n,a)}format(e){if(!e)return"";let t=this.floatToHex(e.r),i=this.floatToHex(e.g),a=this.floatToHex(e.b);if(this.options.formatAlpha&&1!==e.a){let s=this.floatToHex(e.a);return`#${t}${i}${a}${s}`.toUpperCase()}return`#${t}${i}${a}`.toUpperCase()}formatForAndroid(e){if(1===e.a)return this.format(e);let t=this.floatToHex(e.a),i=this.floatToHex(e.r),a=this.floatToHex(e.g),s=this.floatToHex(e.b);return`#${t}${i}${a}${s}`.toUpperCase()}getIncrementTargets(e,t){let{start:i,end:a}=t,s=i===a,n={};return(i<=2||s&&3===i)&&(n.r=!0),(i<=4&&a>3||s&&5===i)&&(n.g=!0),(i<=6&&a>5||s&&7===i)&&(n.b=!0),n}getSelection(e,t){let i={start:1,end:1};return t.r?i.start=1:t.g?i.start=3:i.start=5,t.b?i.end=7:t.g?i.end=5:i.end=3,i}floatToHex(e){let t=this.normalize255(e).toString(16);return 1===t.length&&(t="0"+t),t}}class l extends r{constructor(e={}){super(e)}format(e,{withAlpha:t=!1,showDot:i=!1}={}){let a=this.floatToHex(e.r),s=this.floatToHex(e.g),n=this.floatToHex(e.b),o=this.floatToHex(e.a),r=(100*e.a).toLocaleString("en",{maximumFractionDigits:2})+"%";return t?i?`${a}${s}${n} \xb7 ${r}`.toUpperCase():`${a}${s}${n}${o}`.toUpperCase():`${a}${s}${n}`.toUpperCase()}getIncrementTargets(e,t){let{start:i,end:a}=t,s=i===a,n={};return(i<=1||s&&2===i)&&(n.r=!0),(i<=3&&a>2||s&&4===i)&&(n.g=!0),(i<=5&&a>4||s&&6===i)&&(n.b=!0),n}getSelection(e,t){let i={start:1,end:1};return t.r?i.start=1:t.g?i.start=3:i.start=5,t.b?i.end=7:t.g?i.end=5:i.end=3,i.start-=1,i.end-=1,i}}class d extends l{constructor(e={}){super(e)}parse(e,t,i=!1){return"auto".startsWith(e.toLowerCase())?n.Q8:super.parse(e,t,i)}format(e){return e?(0,n.gl)(e)?(0,a.t)("fullscreen.mixed"):(0,n.SX)(e)?(0,a.t)("fullscreen.properties_panel.stack_panel.auto"):super.format(e):""}clamp(e){return(0,n.SX)(e)?e:super.clamp(e)}}let c=new r,_=new r({parseAlpha:!0,formatAlpha:!0}),u=new l;new d},450428(e,t,i){i.d(t,{i:()=>s});var a=i(263740);function s(e){return"which"in e?3===e.which||a.A.mac&&1===e.which&&e.ctrlKey:"button"in e&&(2===e.button||a.A.mac&&0===e.button&&e.ctrlKey)}},577112(e,t,i){let a;i.d(t,{_:()=>b,ky:()=>T});var s=i(105652),n=i(295870),o=i(731112),r=i(297746),l=i(236723),d=i(103735),c=i(851289),_=i(148814),u=i(920727),m=i(173021),h=i(184634),p=i(762593),g=i(336724),f=i(194579),E=i(587891);function b(){let e=(0,E.g)(),{addThemeListener:t}=(0,o.G)(),i=(0,g.E3)(),a=s.useRef(i);s.useEffect(()=>{a.current=i},[i]),s.useEffect(()=>{e&&r.SIf&&T.updateColorsInFullscreen(r.SIf.colorTokensState())},[e,i]),s.useEffect(()=>t(()=>{f.Y5.isReady()&&r.SIf&&T.updateColorsInFullscreen(r.SIf.colorTokensState())}),[t])}let T={getTokenValue:y,updateColorsInFullscreen:function(e){let t={},i=getComputedStyle(document.body),s=e.currentTokens.getCopy();for(let o in a||(a=function(){let e,t=document.head.querySelector('link[href*="figma_app"][href*="css"]');try{t instanceof HTMLLinkElement&&(e=t.sheet?.cssRules)}catch{}return!!(e&&e.length>0)}()),s){let s=y(i,o),r=function(e){if(!e)return;let t=S(e);if(!t)return;let{r:i,g:a,b:s,alpha:n}=t;return((void 0===n?255:Math.round(255*n))<<24|Math.round(255*s)<<16|Math.round(255*a)<<8|Math.round(255*i))>>>0}(s);if(void 0!==r)t[o]=r;else if(a)(0,h.$D)(n.FigmaTeam.FPL,Error(`Failed to find valid value for color token ${o}, found ${s}`));else{(0,h.us)("Cannot fetch color tokens from CSS, CSS was not loaded"),e.hasRunTokenSync.set(!0);return}}e.currentTokens.set(t),e.hasRunTokenSync.set(!0)}};function y(e,t){let i;if(t.startsWith("fs"))i="color-"+t;else{let e="color"+t.charAt(0).toUpperCase()+t.slice(1);i=(0,p.VZ)(e).replace("desktop-backgrounded","desktopBackgrounded").replace("desktop-foreground","desktopForeground").replace("desktop-fullscreen","desktopFullscreen")}return e.getPropertyValue(`--${i}`)?.trim()||void 0}(0,l.b2)(d.A),(0,l.b2)(c.A),(0,l.b2)(_.A),(0,l.b2)(u.A);let S=(0,m.A)("rgb")},506622(e,t,i){i.d(t,{Ln:()=>R,SG:()=>v,Tc:()=>T,Y$:()=>_,jv:()=>S,vK:()=>f,vu:()=>I});var a,s=i(449979),n=i(295870),o=i(979897),r=i(184634),l=i(531319),d=i(967041),c=i(340478),_=((a=_||{}).CURRENT="current",a.AT_NEXT_RENEWAL="atNextRenewal",a);function u(e){(0,r.$D)(n.FigmaTeam.BILLING,e,t=>(t.setExtras({error:e}),t))}let m=d.M4.Query({fetch:e=>c.n.getRates(e).then(e=>e.data.meta).catch(e=>{throw u(e),e}),label:"billing_prices_active_rates"}),h=d.M4.Query({fetch:e=>c.n.getContractRates(e).then(e=>e.data.meta).catch(e=>{throw u(e),e}),label:"billing_prices_contract_rates"}),p=d.M4.Query({fetch:async({planKey:e})=>{try{return(await c.n.getContractRates({planType:e.type,planParentId:e.parentId||""})).data.meta}catch(e){throw u(e),e}},enabled:({planKey:e})=>null!==e.parentId&&""!==e.parentId&&"0"!==e.parentId,label:"billing_prices_current_contract_rates"}),g=d.M4.Query({fetch:async({planKey:e})=>{try{return(await c.n.getPricesAtContractRenewal({planType:e.type,planParentId:e.parentId||""})).data.meta}catch(e){throw u(e),e}},enabled:({planKey:e})=>null!==e.parentId&&""!==e.parentId&&"0"!==e.parentId,label:"billing_prices_at_contract_renewal"});function f(e,t={}){!function(e){let{planParentId:t,planType:i}=e;return""!==t&&!(0,s.uy)(i)}(e)&&(t.enabled=!1);let[i]=(0,d.IT)(h(e),t);return i.transform(({product_prices:e})=>e[0]?.currency??null)}d.M4.Query({fetch:async({planKey:e})=>{try{return(await c.n.getAdminContractRates({planType:e.type,planParentId:e.parentId||""})).data.meta}catch(e){throw u(e),e}},enabled:({planKey:e})=>null!==e.parentId&&""!==e.parentId&&"0"!==e.parentId,label:"billing_prices_admin_current_contract_rates"}),d.M4.Query({fetch:async({planKey:e,renewalTerm:t,nextInvoiceInterval:i})=>{try{return(await c.n.getAdminTeamPricesAtNextInvoice({planType:e.type,planParentId:e.parentId||"",renewalTerm:t,nextInvoiceInterval:i})).data.meta}catch(e){throw u(e),e}},enabled:({planKey:e})=>null!==e.parentId&&""!==e.parentId&&"0"!==e.parentId,label:"billing_prices_admin_team_at_next_invoice"});class E extends Error{}function b(e,t){let i=e[0]?.[t];if(i&&e.every(e=>e[t]===i))return i;throw new E(`Could not infer value for ${t} from price data`)}function T(e){return b(Object.values(e),"currency")}function y(e,t,i,a){try{return e.transform(e=>{if(a&&0===e.product_prices.length)return null;let o="currency"in i?i.currency:b(e.product_prices,"currency"),d="tier"in i?i.tier:b(e.product_prices,"tier"),c=t.dict(t=>{let a={billableProductKey:t,billableProductVariantId:null,...i,currency:o,tier:d};try{return(0,l.y)(e,a)}catch(e){(0,r.$D)(n.FigmaTeam.BILLING,e);return}});if(Object.keys(c).forEach(e=>{(0,s.uy)(c[e])&&delete c[e]}),0===Object.keys(c).length)throw Error("No prices found");return c})}catch(e){return(0,r.$D)(n.FigmaTeam.BILLING,e),o.Qw.errorSuspendable(e,{release:()=>{}})}}function S({billableProductKeys:e,baseQuery:t,planKey:i,options:a={}}){let s=m(i??null),[n]=(0,d.IT)(s,a);return y(n,e,t)}function R(e,t,i,a={}){let s=p({planKey:e}),[n]=(0,d.IT)(s,a);return y(n,t,i,!0)}function v(e,t,i,a={}){let s=g({planKey:e}),[n]=(0,d.IT)(s,a);return y(n,t,i,!0)}function I(e){if("loaded"===e.status)return e;if("errors"===e.status){let t=[e.errors].flat()[0];if(t)throw t}throw Error(`Unexpected result status: ${JSON.stringify(e)}`)}},338349(e,t,i){i.d(t,{y:()=>c});var a=i(645186),s=i(865702),n=i(295870),o=i(184634),r=i(671282),l=i(892480),d=i(7091);function c(e,t){let i=(0,a.wA)();return(0,d.dh)(t)?()=>i((0,l.to)({type:r.V,data:{entrypoint:t,teamId:e,openCheckoutInNewTab:!0}})):((0,o.$D)(n.FigmaTeam.EXPANSION,Error("Missing upsell source for plan comparison modal."),void 0,!0),s.lQ)}},178643(e,t,i){i.d(t,{z:()=>g});var a=i(422762),s=i(953996);function n(e){return function(t){return t<.5?(t/2**(e-1))**(1/e):1-(2-2*t)**(1/e)/2}}function o(e){return function(t){return t**(1/e)}}function r(e){return function(t){return 1-(1-t)**(1/e)}}let l={easeInSine:e=>2*Math.acos(1-e)/Math.PI,easeOutSine:e=>2*Math.asin(e)/Math.PI,easeInOutSine:e=>Math.acos(-2*e+1)/Math.PI,easeInQuad:o(2),easeOutQuad:r(2),easeInOutQuad:n(2),easeInCubic:o(3),easeOutCubic:r(3),easeInOutCubic:n(3),easeInQuart:o(4),easeOutQuart:r(4),easeInOutQuart:n(4),easeInQuint:o(5),easeOutQuint:r(5),easeInOutQuint:n(5),easeInExpo:e=>0===e?0:(Math.log2(e)+10)/10,easeOutExpo:e=>1===e?1:-Math.log2(1-e)/10,easeInOutExpo:e=>0===e?0:1===e?1:e<.5?(Math.log2(2*e)+10)/20:(10-Math.log2(2-2*e))/20,easeInCirc:e=>Math.sqrt(1-(1-e)**2),easeOutCirc:e=>1-Math.sqrt(1-e**2),easeInOutCirc:e=>e<.5?Math.sqrt(1-(1-2*e)**2)/2:(2-Math.sqrt(1-(2*e-1)**2))/2},d={in:{sine:l.easeInSine,quad:l.easeInQuad,cubic:l.easeInCubic,quart:l.easeInQuart,quint:l.easeInQuint,expo:l.easeInExpo,circ:l.easeInCirc},out:{sine:l.easeOutSine,quad:l.easeOutQuad,cubic:l.easeOutCubic,quart:l.easeOutQuart,quint:l.easeOutQuint,expo:l.easeOutExpo,circ:l.easeOutCirc},inOut:{sine:l.easeInOutSine,quad:l.easeInOutQuad,cubic:l.easeInOutCubic,quart:l.easeInOutQuart,quint:l.easeInOutQuint,expo:l.easeInOutExpo,circ:l.easeInOutCirc}};var c=i(239976),_=i(851304),u=i(944844);function m(){return(0,c.jsx)("div",{className:"msal_animation--overlay--E-zJx"})}class h{constructor({rootNodes:e,msalFrames:t,order:i,timing:a,isSticky:s,duration:n,ease:o}){this.addOverlay=e=>{e.removed?this.cancel():(this.activeOverlays.add(e.id),(0,_.Vm)(e.id,(0,c.jsx)(m,{})))},this.removeOverlay=e=>{e.removed?this.cancel():this.isSticky||(this.activeOverlays.delete(e.id),(0,_.ks)(e.id))},this.removeAllOverlays=()=>{Array.from(this.activeOverlays).forEach(e=>(0,_.ks)(e))},this.shouldSkipNode=e=>!this.msalFrames.has(e.id),this.activeOverlays=new Set,this.rootNodes=e,this.msalFrames=new Set(t.map(e=>e.id)),this.rootNodes.forEach(e=>this.msalFrames.add(e.id)),this.isCanceled=!1,this.cancelFunctions=[],this.order=i,this.timing=a,this.isSticky=s,this.duration=n,this.ease=o,this.animateIn=this.animateIn.bind(this),this.animateOut=this.animateOut.bind(this),this.cancel=this.cancel.bind(this),this.resolve=()=>{},this.promise=new Promise(e=>this.resolve=e)}animateIn(e){return{type:"ANIMATION",duration:1,exec:()=>{this.addOverlay(e)},start:0,data:{addNode:e.id}}}animateOut(e){return{type:"ANIMATION",duration:0,exec:()=>{this.removeOverlay(e)},start:0,data:{removeNode:e.id}}}animate(){return Promise.all(this.rootNodes.map(e=>{let t=(0,u.BY)({node:e,order:this.order,timing:this.timing,shouldSkipNode:this.shouldSkipNode,animateIn:this.animateIn,animateOut:this.animateOut}),i=(0,u.gC)(t,this.ease,this.duration),{cancel:a,animationFinish:s}=(0,u.vU)(i);return this.cancelFunctions.push(a),s})).then(this.resolve).catch(this.resolve),this.promise}cancel(){this.cancelFunctions.forEach(e=>e()),this.cancelFunctions=[],this.removeAllOverlays(),this.resolve()}}let p=["mousedown","keydown"];function g(e,t){let i=new h({rootNodes:e,msalFrames:t,order:"PREFIX",timing:"SERIES",isSticky:!0,duration:750,ease:d.inOut.sine});function n(){p.forEach(e=>{document.removeEventListener(e,n,{capture:!0})}),i.cancel()}return(0,s.lu)((0,a.d)().activeCanvasCurrentZoom,{onChangeImmediate:i.cancel}),p.forEach(e=>{document.addEventListener(e,n,{once:!0,capture:!0})}),i.animate()}},282245(e,t,i){i.d(t,{Lf:()=>n,U4:()=>l,W6:()=>s,rQ:()=>r,y8:()=>o}),i(575015);var a=i(153745);function s(e,t){(0,a.x1)("Autosave",e,t,{reportAsSentryError:!0})}function n(e,t){s(e,{"original message":t.message})}function o(e){return"autosave-file"===e.type}function r(){return!1}async function l(){try{if(!navigator.storage?.estimate)return Promise.resolve({usageBytes:void 0,quotaBytes:void 0});let{usage:e,quota:t}=await navigator.storage.estimate();return{usageBytes:e,quotaBytes:t}}catch(e){return(0,a.xi)("Autosave","Failed to get storage usage",{message:e?.message}),Promise.resolve({usageBytes:void 0,quotaBytes:void 0})}}},86656(e,t,i){i.d(t,{F:()=>l});var a=i(105652),s=i(699715),n=i(365146),o=i(930501),r=i(306874);function l(e){let[t]=(0,n.IT)((0,r.zqW)(e?.planParentId?{orgId:e.planParentId}:null),{enabled:e?.planType===o.OL.ORG&&!!e?.planParentId});return(0,a.useMemo)(()=>t.transform(e=>e.org?.activeOrgBillingPeriod?{...e.org.activeOrgBillingPeriod,effectiveEndAt:(0,s.A)(e.org.activeOrgBillingPeriod.effectiveEndAt).toDate(),startAt:(0,s.A)(e.org.activeOrgBillingPeriod.startAt).toDate()}:null),[t])}},23512(e,t,i){i.d(t,{d:()=>d,h:()=>l});var a=i(979897),s=i(365146),n=i(184634),o=i(867206),r=i(86656);function l({planType:e,planParentId:t}){let{status:i,errors:s,suspense:n,data:o}=(0,r.F)({planType:e,planParentId:t});switch(i){case"loading":return a.Qw.loadingSuspendable(n);case"loaded":return a.Qw.loadedSuspendable(o?.isEla??!1,s,n);case"disabled":return a.Qw.loadedSuspendable(!1,[],n);case"errors":return a.Qw.errorSuspendable(s,n)}}function d({reportErrorsToTeam:e}){let t=(0,o.XP)({reportErrorsToTeam:e}),i=l({planType:t.type,planParentId:t.key.parentId}),[a]=(0,s.Ad)(i);if("loaded"!==a.status){let t=Error("Error fetching isELA info");throw(0,n.$D)(e,t),t}return a.data}},531319(e,t,i){i.d(t,{c:()=>r,y:()=>o});var a=i(424870),s=i(535872);class n extends Error{}function o(e,t){if(0===e.product_prices.length)throw new n("Product price list is empty");let{tier:i,currency:a,renewalTerm:o,unit:r,billableProductKey:l,billableProductVariantId:d}=t,c=r;i===s.Ju.PRO&&o===s.IX.YEAR&&c===s.IX.MONTH&&(c=s.IX.YEAR),i===s.Ju.PRO&&o===s.IX.MONTH&&c===s.IX.YEAR&&(c=s.IX.MONTH),(i===s.Ju.ORG||i===s.Ju.ENTERPRISE)&&o===s.IX.YEAR&&c===s.IX.YEAR&&(c=s.IX.MONTH);let _=e.product_prices.filter(e=>e.tier===i&&e.currency===a&&e.renewal_term===o&&e.unit===c&&e.billable_product_key===l&&e.billable_product_variant_id===d);if(1===_.length){if(c===s.IX.YEAR&&r===s.IX.MONTH){let e=_[0].amount/12;return{..._[0],unit:r,amount:e}}if(c===s.IX.MONTH&&r===s.IX.YEAR){let e=12*_[0].amount;return{..._[0],unit:r,amount:e}}return _[0]}if(_.length>1)throw new n(`Multiple product prices available for: ${JSON.stringify(t)}`);throw new n(`No product price available for: ${JSON.stringify(t)})`)}let r={[a.OL.TEAM]:[s.IX.MONTH,s.IX.YEAR],[a.OL.ORG]:[s.IX.YEAR]}},968074(e,t,i){i.d(t,{O:()=>n});var a=i(417675),s=i(239068);function n(e){switch(e){case s.ud.EXPERT:return(0,a.t)("billing_modals.billing_remodel_edu.full_seat");case s.ud.DEVELOPER:return(0,a.t)("billing_modals.billing_remodel_edu.dev_seat");case s.ud.COLLABORATOR:return(0,a.t)("billing_modals.billing_remodel_edu.collab_seat");case s.ud.CONTENT:return(0,a.t)("billing_modals.billing_remodel_edu.content_seat");case s.Gu.VIEW:return(0,a.t)("billing_modals.billing_remodel_edu.view_seat");default:return""}}},58257(e,t,i){i.d(t,{o:()=>n});var a=i(359731);let s=null;function n(e){return(!s&&(s=a.dS3?.getEditScopeMigrationMap()??new Map),s).get(e)??e}},992827(e,t,i){i.d(t,{$V:()=>l,IA:()=>o,U9:()=>c,nC:()=>d,qL:()=>_,vS:()=>r});var a=i(359731),s=i(417675);function n(e){switch(e){case 1:return(0,s.t)("fullscreen.accessibility.node_resize_decrease");case 2:return(0,s.t)("fullscreen.accessibility.node_resize_increase");default:return(0,s.t)("fullscreen.accessibility.node_resize_none")}}function o(e,t){let i,a,o,r=0,l=0,d=0;switch(0!==e.x&&(r|=1,l=e.x>0?2:1),0!==e.y&&(r|=2,d=e.y>0?2:1),r){case 0:return;case 1:i=(0,s.t)("fullscreen.accessibility.node_resize_horizontal"),a=n(l),o=Math.abs(e.x);break;case 2:i=(0,s.t)("fullscreen.accessibility.node_resize_vertical"),a=n(d),o=Math.abs(e.y);break;default:let c=Math.abs(e.x),_=n(l),u=Math.abs(e.y),m=n(d);return(0,s.t)("fullscreen.accessibility.node_resize_bidirectional",{nodeType:t,resizedComparisonX:_,nodeResizeXDelta:(0,s.t)("fullscreen.accessibility.node_unit",{numUnits:c}),resizedComparisonY:m,nodeResizeYDelta:(0,s.t)("fullscreen.accessibility.node_unit",{numUnits:u})})}return(0,s.t)("fullscreen.accessibility.node_resize_unidirectional",{nodeType:t,nodeSizeDelta:o,resizeComparison:a,nodeDirection:i})}function r(e,t){let i,a,n=0;switch(e.x>0?n|=4:e.x<0&&(n|=8),e.y<0?n|=1:e.y>0&&(n|=2),n){case 0:return;case 1:i=(0,s.t)("fullscreen.accessibility.node_movement_up"),a=Math.abs(e.y);break;case 2:i=(0,s.t)("fullscreen.accessibility.node_movement_down"),a=Math.abs(e.y);break;case 4:i=(0,s.t)("fullscreen.accessibility.node_movement_right"),a=Math.abs(e.x);break;case 8:i=(0,s.t)("fullscreen.accessibility.node_movement_left"),a=Math.abs(e.x);break;default:let o=(4&n)==4?(0,s.t)("fullscreen.accessibility.node_movement_right"):(0,s.t)("fullscreen.accessibility.node_movement_left"),r=Math.abs(e.x),l=(1&n)==1?(0,s.t)("fullscreen.accessibility.node_movement_up"):(0,s.t)("fullscreen.accessibility.node_movement_down"),d=Math.abs(e.y);return(0,s.t)("fullscreen.accessibility.node_movement_bidirectional",{nodeType:t,nodePositionXDelta:(0,s.t)("fullscreen.accessibility.node_unit",{numUnits:r}),nodeDirectionX:o,nodePositionYDelta:(0,s.t)("fullscreen.accessibility.node_unit",{numUnits:d}),nodeDirectionY:l})}return(0,s.t)("fullscreen.accessibility.node_movement_unidirectional",{nodeType:t,nodePositionDelta:a,nodeDirection:i})}function l(e,t){let i=e>0?(0,s.t)("fullscreen.accessibility.node_rotate_cw"):(0,s.t)("fullscreen.accessibility.node_rotate_ccw"),a=Math.round(180/Math.PI*Math.abs(e));return(0,s.t)("fullscreen.accessibility.node_rotate",{nodeType:t,nodeRotateDelta:a,nodeRotateDirection:i})}function d(e,t,i,a){return e>0?t():e<-0?i():a?.()}function c(e,t){let i;switch(e){case a.UwK.TOP:i=(0,s.t)("fullscreen.accessibility.selection_aligned_top");break;case a.UwK.VERTICAL_CENTER:i=(0,s.t)("fullscreen.accessibility.selection_aligned_vertical_center");break;case a.UwK.BOTTOM:i=(0,s.t)("fullscreen.accessibility.selection_aligned_bottom");break;case a.UwK.LEFT:i=(0,s.t)("fullscreen.accessibility.selection_aligned_left");break;case a.UwK.HORIZONTAL_CENTER:i=(0,s.t)("fullscreen.accessibility.selection_aligned_horizontal_center");break;case a.UwK.RIGHT:i=(0,s.t)("fullscreen.accessibility.selection_aligned_right");break;case a.UwK.VERTICAL_INTERSECTING:return(0,s.t)("fullscreen.accessibility.selection_aligned_vertical_intersecting");case a.UwK.HORIZONTAL_INTERSECTING:return(0,s.t)("fullscreen.accessibility.selection_aligned_horizontal_intersecting");default:return}return t===a.vAL.ALIGNING_TO_PARENT?(0,s.t)("fullscreen.accessibility.selection_aligned_to_parent",{direction:i}):e===a.UwK.HORIZONTAL_CENTER||e===a.UwK.VERTICAL_CENTER?(0,s.t)("fullscreen.accessibility.selection_aligned_to_nodes_vert_hor_intersection",{direction:i}):(0,s.t)("fullscreen.accessibility.selection_aligned_to_nodes_in_selection",{direction:i})}function _({sourceNodeName:e,targetNodeName:t,leftDistance:i,rightDistance:a,topDistance:n,bottomDistance:o}){let r=null===e?(0,s.t)("fullscreen.accessibility.design.measurement.selection"):e,l=e=>null===e?null:(0,s.t)("fullscreen.accessibility.design.measurement.distance",{distance:Math.abs(e)});if(null!==i&&null!==a&&null!==n&&null!==o)return(0,s.t)("fullscreen.accessibility.design.measurement.overlapping_announcement",{sourceNodeName:r,targetNodeName:t,leftDistance:l(i)||"",rightDistance:l(a)||"",topDistance:l(n)||"",bottomDistance:l(o)||""});{let e=[],d=[];null!==i&&e.push((0,s.t)("fullscreen.accessibility.design.measurement.gap.left",{distance:l(i)||""})),null!==a&&e.push((0,s.t)("fullscreen.accessibility.design.measurement.gap.right",{distance:l(a)||""})),null!==n&&e.push((0,s.t)("fullscreen.accessibility.design.measurement.gap.top",{distance:l(n)||""})),null!==o&&e.push((0,s.t)("fullscreen.accessibility.design.measurement.gap.bottom",{distance:l(o)||""}));let c=e.length>0?e.join(", ")+".":"",_=d.length>0?" "+d.join(", ")+".":"";return(0,s.t)("fullscreen.accessibility.design.measurement.gap_announcement",{sourceNodeName:r,targetNodeName:t,gapDescription:c,counterDescription:_})}}},942103(e,t,i){let a;i.d(t,{D:()=>h,J:()=>a});var s=i(627916),n=i(537104),o=i(915036),r=i(359731);let l={editorType:r._YF.DESIGN,isReadOnly:!1,currentTool:r.NLJ.NONE,editMode:r.m1T.DESIGN_LAYOUT,selectedNodeCount:0,selectedFrameCount:0,selectedTextNodeCount:0,selectedSectionCount:0,selectedWidgetCount:0,directlySelectedNodeCount:0,directlySelectedSymbolCount:0,directlySelectedInstanceSublayerCount:0,hasInteractionsInSelection:!1,areAnyNodesHidden:!1,hasRasterPaint:!1,hasGradientPaint:!1},d=(0,o.eU)(l);var c=i(987708);function _(e){return{action_flags:e}}let u=[{code_name:"NONE",json_name:"none",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"PLACE",json_name:"place",is_edit:!0,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"QUIT",json_name:"quit",is_edit:!1,enabled:_(["figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"BACK_TO_FILES",json_name:"back-to-files",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_FONT_SETTINGS",json_name:"open-font-settings",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"SAVE",json_name:"save",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"SAVE_AS",json_name:"save-as",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_SAVEPOINT",json_name:"create-savepoint",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","variables_table","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_VERSION_HISTORY",json_name:"toggle-version-history",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"EXPORT_SELECTED_EXPORTABLES",json_name:"export-selected-exportables",is_edit:!1,enabled:_(["mode_selection","property","feedback_and_history","dev_handoff","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"EXPORT_SELECTED_EXPORTABLES_DIRECT",json_name:"export-selected-exportables-direct",is_edit:!1,enabled:_(["dev_handoff","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"EXPORT_NODE_DIRECT_COOPER",json_name:"export-node-direct-cooper",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"EXPORT_ASSETS_HANDOFF",json_name:"export-assets-handoff",is_edit:!1,enabled:_(["dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"EXPORT_ALL_EXPORTABLES",json_name:"export-all-exportables",is_edit:!1,enabled:_(["property","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"EXPORT_SELECTION_OR_CURRENT_PAGE",json_name:"export-selection-or-current-page",is_edit:!1,enabled:_(["mode_selection","property","feedback_and_history","figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"EXPORT_SELECTED_VIDEO",json_name:"export-selected-video",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","figjam","sites"]),handler:c.X,team:c.R},{code_name:"COMBINE_SELECTED_VIDEO_STACK",json_name:"combine-selected-video-stack",is_edit:!0,enabled:_(["mode_paint_selection","property"]),handler:c.X,team:c.R},{code_name:"EXPORT_BUZZ_ASSETS",json_name:"export-buzz-assets",is_edit:!1,enabled:_(["cooper"]),handler:c.X,team:c.R},{code_name:"IMPORT_FROM_CSV",json_name:"import-from-csv",is_edit:!0,enabled:_(["mode_selection","property","feedback_and_history","figjam","sites"]),handler:c.X,team:c.R},{code_name:"IMPORT",json_name:"import",is_edit:!0,enabled:_(["mode_selection","property","feedback_and_history","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PAGE_NEW",json_name:"page-new",is_edit:!0,enabled:_(["mode_selection","feedback_and_history"]),handler:c.X,team:c.R},{code_name:"PAGE_PREVIOUS",json_name:"page-previous",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","figjam"]),handler:c.X,team:c.R},{code_name:"PAGE_NEXT",json_name:"page-next",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","figjam"]),handler:c.X,team:c.R},{code_name:"PAGE_DELETE",json_name:"page-delete",is_edit:!0,enabled:_(["mode_selection","feedback_and_history","figjam"]),handler:c.X,team:c.R},{code_name:"PAGE_DUPLICATE",json_name:"page-duplicate",is_edit:!0,enabled:_(["mode_selection","feedback_and_history","figjam"]),handler:c.X,team:c.R},{code_name:"PAGE_MOVE_TO",json_name:"page-move-to",is_edit:!0,enabled:_(["mode_selection","feedback_and_history","figjam"]),handler:c.X,team:c.R},{code_name:"PAGE_RENAME",json_name:"page-rename",is_edit:!0,enabled:_(["mode_selection","feedback_and_history","figjam"]),handler:c.X,team:c.R},{code_name:"TRACK_PAGE_RENAME",json_name:"track-page-rename",is_edit:!0,enabled:_(["mode_selection","feedback_and_history","figjam"]),handler:c.X,team:c.R},{code_name:"BATCH_PAGE_RENAME",json_name:"batch-page-rename",is_edit:!0,enabled:_(["mode_selection","feedback_and_history","figjam"]),handler:c.X,team:c.R},{code_name:"PAGE_MOVE_TO_MENU",json_name:"page-move-to-menu",is_edit:!0,enabled:_(["mode_selection","feedback_and_history"]),handler:c.X,team:c.R},{code_name:"PAGE_MOVE_TO_NEW_FILE",json_name:"page-move-to-new-file",is_edit:!0,enabled:_(["mode_selection","dev_handoff"]),handler:c.X,team:c.R},{code_name:"PAGE_COPY_LINK",json_name:"page-copy-link",is_edit:!1,enabled:_(["figjam","dev_handoff","variables_table","slides","cooper","feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"COPY_LINK",json_name:"copy-link",is_edit:!1,enabled:_(["figjam","dev_handoff","variables_table","feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"UNDO",json_name:"undo",is_edit:!0,enabled:_(["mode_all","feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"REDO",json_name:"redo",is_edit:!0,enabled:_(["mode_all","feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"CUT",json_name:"cut",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"COPY",json_name:"copy",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"COPY_AS_MENU",json_name:"copy-as-menu",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"COPY_PASTE_MENU",json_name:"copy-paste-menu",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"COPY_AS_CODE",json_name:"copy-as-code",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"COPY_AS_CSS",json_name:"copy-as-css",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"COPY_AS_CSS_RECURSIVE",json_name:"copy-as-css-recursive",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"COPY_AS_ANDROID",json_name:"copy-as-android",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"COPY_AS_IOS",json_name:"copy-as-ios",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"COPY_AS_SVG",json_name:"copy-as-svg",is_edit:!1,enabled:_(["mode_selection","property","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"COPY_AS_PNG",json_name:"copy-as-png",is_edit:!1,enabled:_(["mode_selection","property","figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PANELS_MENU",json_name:"panels-menu",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"MASTER_COMPONENT_MENU",json_name:"main-component",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"COPY_PROPERTIES",json_name:"copy-properties",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"COPY_TEXT",json_name:"copy-text",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"COPY_LAYER_NAME",json_name:"copy-layer-name",is_edit:!1,enabled:_(["dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"PASTE",json_name:"paste",is_edit:!0,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PASTE_HERE",json_name:"paste-here",is_edit:!0,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PASTE_PROPERTIES",json_name:"paste-properties",is_edit:!0,enabled:_(["mode","mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PASTE_OVER_SELECTION",json_name:"paste-over-selection",is_edit:!0,enabled:_(["mode","figjam","mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PASTE_TO_REPLACE",json_name:"paste-to-replace",is_edit:!0,enabled:_(["mode","figjam","mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PASTE_WIDGETS_AS_SUBLAYERS",json_name:"paste-widgets-as-sublayers",is_edit:!0,enabled:_(["mode","mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SHOW_ROTATION_ORIGIN",json_name:"show-rotation-origin",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_CHILD",json_name:"select-child",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_PARENT",json_name:"select-parent",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_NEXT_SIBLING",json_name:"select-next-sibling",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","tool","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_PREVIOUS_SIBLING",json_name:"select-previous-sibling",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","tool","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_NEXT_NODE",json_name:"select-next-node",is_edit:!1,enabled:_(["figjam","dev_handoff","slides","cooper","tool","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_PREVIOUS_NODE",json_name:"select-previous-node",is_edit:!1,enabled:_(["figjam","dev_handoff","slides","cooper","tool","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_ALL",json_name:"select-all",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_ALL_WIDGETS",json_name:"select-all-widgets",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_ALL_SLIDES",json_name:"select-all-slides",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper"]),handler:c.X,team:c.R},{code_name:"SELECT_INVERSE",json_name:"select-inverse",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MOVE_TEXT_SELECTION_END",json_name:"move-text-selection-end",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MOVE_TEXT_SELECTION_START",json_name:"move-text-selection-start",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"EXTEND_TEXT_SELECTION_END",json_name:"extend-text-selection-end",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"EXTEND_TEXT_SELECTION_START",json_name:"extend-text-selection-start",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MOVE_TEXT_SELECTION_FORWARD",json_name:"move-text-selection-forward",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MOVE_TEXT_SELECTION_BACKWARD",json_name:"move-text-selection-backward",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"EXTEND_TEXT_SELECTION_FORWARD",json_name:"extend-text-selection-forward",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"EXTEND_TEXT_SELECTION_BACKWARD",json_name:"extend-text-selection-backward",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_MATCHING",json_name:"select-matching",is_edit:!1,enabled:_(["feedback_and_history","mode_selection","slides","cooper","slides_single_slide_view_change","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_SIMILAR",json_name:"select-similar",is_edit:!1,enabled:_(["feedback_and_history","mode_selection","slides_single_slide_view_change","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_NODE",json_name:"select-node",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_NODE_MENU",json_name:"select-node-menu",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"SET_DEFAULT_STYLE",json_name:"set-default-style",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"FIND_SYMBOL",json_name:"find-symbol",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"FIND_COMPONENT_IN_FILE",json_name:"find-component-in-file",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_SYMBOL",json_name:"create-symbol",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_MULTIPLE_SYMBOLS",json_name:"create-multiple-symbols",is_edit:!0,enabled:_(["mode_selection","slides","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_MULTIPLE_SYMBOLS_AND_STATE_GROUP",json_name:"create-multiple-symbols-and-state-group",is_edit:!0,enabled:_(["mode_selection","slides","sites"]),handler:c.X,team:c.R},{code_name:"PUBLISH_SELECTION",json_name:"publish-selection",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"PUBLISH_CHANGES_TO_LIBRARY",json_name:"publish-changes-to-library",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"PUBLISH_TEMPLATE",json_name:"publish-template",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PUSH_CHANGES_TO_MAIN",json_name:"push-changes-to-main",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_SYMBOL",json_name:"reset-symbol",is_edit:!0,enabled:_(["mode_selection","property","slides","sites"]),handler:c.X,team:c.R},{code_name:"RESET_FAUXVERRIDE",json_name:"reset-fauxverride",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_RESPONSIVE_CONTAINER_OVERRIDES",json_name:"reset-responsive-container-overrides",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_SIZE",json_name:"reset-size",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_EXPORTS",json_name:"reset-exports",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_EFFECTS",json_name:"reset-effects",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_LAYER",json_name:"reset-layer",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_VISIBLE",json_name:"reset-visible",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_NAME",json_name:"reset-name",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_FILL",json_name:"reset-fill",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_STROKE",json_name:"reset-stroke",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_TEXT",json_name:"reset-text",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_TEXT_STYLE",json_name:"reset-text-style",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_PROTOTYPE_INTERACTIONS",json_name:"reset-prototype-interactions",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_OVERLAY",json_name:"reset-overlay",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESTORE_SYMBOL_OR_STATE_GROUP",json_name:"restore-symbol-or-state-group",is_edit:!0,enabled:_(["mode_selection","slides","sites"]),handler:c.X,team:c.R},{code_name:"SWAP_TO_RELATED_SYMBOL",json_name:"swap-to-related-symbol",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"ADD_VARIANT",json_name:"add-variant",is_edit:!0,enabled:_(["mode_selection","slides","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_STATE_GROUP",json_name:"create-state-group",is_edit:!0,enabled:_(["mode_selection","slides","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_STATE",json_name:"create-state",is_edit:!0,enabled:_(["mode_selection","slides","sites"]),handler:c.X,team:c.R},{code_name:"SWAP_TO_RELATED_STATE",json_name:"swap-to-related-state",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_BUZZ_TEMPLATES",json_name:"create-buzz-templates",is_edit:!0,enabled:_(["cooper"]),handler:c.X,team:c.R},{code_name:"CREATE_BUZZ_TEMPLATE_SET_ROW",json_name:"create-buzz-template-set-row",is_edit:!0,enabled:_(["mode_selection","cooper"]),handler:c.X,team:c.R},{code_name:"CREATE_BUZZ_TEMPLATES_FROM_ROW",json_name:"create-buzz-templates-from-row",is_edit:!0,enabled:_(["mode_selection","cooper"]),handler:c.X,team:c.R},{code_name:"ADD_VARIANT_TO_BUZZ_TEMPLATE_SET",json_name:"add-variant-to-buzz-template-set",is_edit:!0,enabled:_(["mode_selection","cooper"]),handler:c.X,team:c.R},{code_name:"DETACH_LOCKED_TEMPLATE",json_name:"detach-locked-template",is_edit:!0,enabled:_(["mode_selection","cooper"]),handler:c.X,team:c.R},{code_name:"CREATE_WEBPAGE",json_name:"create-webpage",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_RESPONSIVE_NODE_SET",json_name:"create-responsive-node-set",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_TEMPLATE",json_name:"create-template",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CONVERT_TO_SLOT",json_name:"convert-to-slot",is_edit:!0,enabled:_(["mode_selection","property","sites","slides","cooper"]),handler:c.X,team:c.R},{code_name:"GROUP_SELECTION_INTO_SLOT",json_name:"group-selection-into-slot",is_edit:!0,enabled:_(["mode_selection","sites","slides","cooper"]),handler:c.X,team:c.R},{code_name:"EMPTY_SLOT_CONTENTS",json_name:"empty-slot-contents",is_edit:!0,enabled:_(["mode_selection","property","sites","slides","cooper"]),handler:c.X,team:c.R},{code_name:"RESET_SLOT_ASSIGNMENT",json_name:"reset-slot-assignment",is_edit:!0,enabled:_(["mode_selection","property","sites","slides","cooper"]),handler:c.X,team:c.R},{code_name:"SWAP_NODES",json_name:"swap-nodes",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"DETACH_INSTANCE",json_name:"detach-instance",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_DETACHED_SYMBOL_ID",json_name:"remove-detached-symbol-id",is_edit:!0,enabled:_(["dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"UPDATE_INSTANCE_LAYOUT_VERSION",json_name:"update-instance-layout-version",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"REGENERATE_ALL_INSTANCES",json_name:"regenerate-all-instances",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REGENERATE_SELECTED_INSTANCES",json_name:"regenerate-selected-instances",is_edit:!0,enabled:_(["selection"]),handler:c.X,team:c.R},{code_name:"REGENERATE_FILE_GEOMETRY",json_name:"regenerate-file-geometry",is_edit:!0,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REGENERATE_MISSING_THUMBNAILS",json_name:"regenerate-missing-thumbnails",is_edit:!0,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"BACKUP_ALL_OVERRIDES",json_name:"backup-all-overrides",is_edit:!0,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"DETACH_ALL_INSTANCES",json_name:"detach-all-instances",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_VARIABLES",json_name:"toggle-variables",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"REMOVE_ORPHANED_VARIABLES",json_name:"remove-orphaned-variables",is_edit:!0,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_RESPONSIVE_TEXT_STYLE_VARIANTS",json_name:"remove-responsive-text-style-variants",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"REPAIR_SELECTED_INSTANCES",json_name:"repair-selected-instances",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REPAIR_BREAKPOINT_MULTIEDIT",json_name:"repair-breakpoint-multiedit",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"DETACH_DELETED_VARIABLES",json_name:"detach-deleted-variables",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"DETACH_DELETED_STYLES",json_name:"detach-deleted-styles",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REPAIR_STATE_GROUP_VERSIONS",json_name:"repair-state-group-versions",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REPAIR_VARIABLE_CONNECTIONS",json_name:"repair-variable-connections",is_edit:!0,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REPAIR_VARIABLE_MODE_VALUES",json_name:"repair-variable-mode-values",is_edit:!0,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"RESTORE_SOFT_DELETED_VARIABLE_SETS",json_name:"restore-soft-deleted-variable-sets",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"RERESOLVE_VARIABLE_REFERENCES",json_name:"reresolve-variable-references",is_edit:!0,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"RESTORE_AUTOLAYOUT_POSITION",json_name:"restore-autolayout-position",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"RESET_TRANSFORM",json_name:"reset-transform",is_edit:!0,enabled:_(["mode_selection","property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"RESET_VARIABLE_MODES",json_name:"reset-variable-modes",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"RESET_ALL_VARIABLE_MODES",json_name:"reset-all-variable-modes",is_edit:!0,enabled:_(["cooper"]),handler:c.X,team:c.R},{code_name:"FIND_SHARED_INSTANCES_NEED_RELINKING",json_name:"find-shared-instances-need-relinking",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"RELINK_INSTANCES_TO_LOCAL_COMPONENT",json_name:"relink-instances-to-local-component",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"CALC_DELETED_COMPONENT_PUBLISHED_VERSION",json_name:"calculate-deleted-components-published-version",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REPUBLISH_SELECTED_COMPONENTS",json_name:"republish-selected-components",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"REPUBLISH_AUTO_LAYOUT_COMPONENTS",json_name:"republish-auto-layout-components",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_BROKEN_FIXED_SCROLLING_NODES",json_name:"select-broken-fixed-scrolling-nodes",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"CLEAR_SELECTION_COMPONENT_PROPS",json_name:"clear-component-props-data-for-selection",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REGENERATE_COMPONENT_PROPS",json_name:"regenerate-component-props",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"PRUNE_INVALID_COMPONENT_PROP_REFS",json_name:"prune-invalid-component-prop-refs",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"PRUNE_DERIVED_DATA",json_name:"prune-derived-data",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REPAIR_MISSING_OVERRIDE_KEYS",json_name:"repair-missing-override-keys",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REPAIR_CORRUPT_OVERRIDE_KEYS_FOR_SELECTION",json_name:"repair-corrupt-override-keys-for-selected",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"RESTORE_SOFT_DELETED_SELECTION",json_name:"restore-soft-deleted-selection",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REPAIR_DUPLICATE_SUBSCRIBED_ASSETS",json_name:"repair-duplicate-subscribed-assets",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"REFLOW_IMMUTABLE_FRAMES",json_name:"reflow-immutable-frames",is_edit:!0,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"DISABLE_ALL_UNFRAMED_MASKS",json_name:"disable-all-unframed-masks",is_edit:!0,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"RESIZE_TO_FIT",json_name:"resize-to-fit",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_FRAME_ORIENTATION",json_name:"toggle-frame-orientation",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"START_CHAT",json_name:"start-chat",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_FRAME_CLIPPING",json_name:"toggle-frame-clipping",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"HIDE_SIBLING_LAYERS",json_name:"hide-sibling-layers",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"COLLAPSE_LAYERS",json_name:"collapse-layers",is_edit:!0,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"DUPLICATE",json_name:"duplicate",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DUPLICATE_IN_PLACE",json_name:"duplicate-in-place",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"QUICK_CREATE",json_name:"quick-create",is_edit:!0,enabled:_(["mode_selection","tool","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"QUICK_CREATE_DIAGRAM_SIBLING",json_name:"quick-create-diagram-sibling",is_edit:!0,enabled:_(["mode_selection","tool","figjam"]),handler:c.X,team:c.R},{code_name:"FLIP_HORIZONTAL",json_name:"flip-horizontal",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"FLIP_VERTICAL",json_name:"flip-vertical",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ROTATE_180",json_name:"rotate-180",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ROTATE_90_COUNTERCLOCKWISE",json_name:"rotate-90-counterclockwise",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ROTATE_90_CLOCKWISE",json_name:"rotate-90-clockwise",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"BRING_TO_FRONT",json_name:"bring-to-front",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"BRING_FORWARD",json_name:"bring-forward",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SEND_BACKWARD",json_name:"send-backward",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SEND_TO_BACK",json_name:"send-to-back",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CONVERT_TO_RASTER",json_name:"convert-to-raster",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"FLATTEN_SELECTION",json_name:"flatten-selection",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_ANNOTATIONS",json_name:"remove-annotations",is_edit:!0,enabled:_(["mode_selection","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"ADD_ANNOTATION",json_name:"add-annotation",is_edit:!0,enabled:_(["mode_selection","dev_mode_access","tool","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_FILL",json_name:"remove-fill",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_GUIDE",json_name:"remove-guide",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_HORIZONTAL_GUIDES",json_name:"remove-horizontal-guides",is_edit:!0,enabled:_(["property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_VERTICAL_GUIDES",json_name:"remove-vertical-guides",is_edit:!0,enabled:_(["property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_STROKE",json_name:"remove-stroke",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SWAP_FILL_AND_STROKE",json_name:"swap-fill-and-stroke",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_SAME_FILL",json_name:"select-same-fill",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_SAME_STROKE",json_name:"select-same-stroke",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_SAME_EFFECT",json_name:"select-same-effect",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_SAME_TEXT",json_name:"select-same-text",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_SAME_FONT",json_name:"select-same-font",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_SAME_STYLE",json_name:"select-same-style",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_SAME_INSTANCE",json_name:"select-same-instance",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_SAME_VARIANT",json_name:"select-same-variant",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_ALL_TEXT",json_name:"select-all-text",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REPLACE_SELECTED_TEXT",json_name:"replace-selected-text",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"LOCK_ASPECT_RATIO",json_name:"aspect-ratio-lock",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"UNLOCK_ASPECT_RATIO",json_name:"aspect-ratio-unlock",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"FRAME_SELECTION",json_name:"frame-selection",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"GROUP_SELECTION",json_name:"group-selection",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"UNGROUP_SELECTION",json_name:"ungroup-selection",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_TEXT_NODE",json_name:"create-text-node",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_TRIANGLE",json_name:"create-triangle",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_ELLIPSE",json_name:"create-ellipse",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_ROUNDED_RECTANGLE",json_name:"create-rounded-rectangle",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_DIAMOND",json_name:"create-diamond",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_COMMENT",json_name:"create-comment",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_STICKY",json_name:"create-sticky",is_edit:!0,enabled:_(["mode_selection","figjam","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_SECTION",json_name:"create-section",is_edit:!0,enabled:_(["mode_selection","figjam","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_SLIDE",json_name:"create-slide",is_edit:!0,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"CREATE_ROW",json_name:"create-row",is_edit:!0,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"MASK_SELECTION",json_name:"mask-selection",is_edit:!0,enabled:_(["mode_selection","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"RENAME_SELECTION",json_name:"rename-selection",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_SECTION_FROM_SELECTION",json_name:"create-section-from-selection",is_edit:!0,enabled:_(["mode_selection","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_AS_PRIMARY_BREAKPOINT",json_name:"set-as-primary-breakpoint",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"REPLACE_SELECTED_FRAME_WITH_SECTION",json_name:"replace-selected-frame-with-section",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CONVERT_SELECTED_NODES_TO_FRAME",json_name:"convert-selected-nodes-to-frame",is_edit:!0,enabled:_(["mode_selection","property","sites","slides","cooper"]),handler:c.X,team:c.R},{code_name:"ADD_SELECTION_READY_STATUS",json_name:"add-selection-ready-status",is_edit:!0,enabled:_(["property","selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"MARK_INCOMPLETE",json_name:"mark-incomplete",is_edit:!0,enabled:_(["property","selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"SET_SELECTION_COMPLETED_STATUS",json_name:"set-selection-completed-status",is_edit:!0,enabled:_(["property","selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_SELECTION_STATUS",json_name:"remove-selection-status",is_edit:!0,enabled:_(["property","selection","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_STATUS_IN_FOCUS_VIEW",json_name:"remove-status-in-focus-view",is_edit:!0,enabled:_(["property","selection","dev_handoff"]),handler:c.X,team:c.R},{code_name:"CONVERT_TABLE_TO_STICKY_GRID",json_name:"convert-table-to-sticky-grid",is_edit:!0,enabled:_(["mode_selection","figjam","sites"]),handler:c.X,team:c.R},{code_name:"FIND_INSPIRATION",json_name:"find-inspiration",is_edit:!1,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"FIND_CODEBASE_SUGGESTIONS",json_name:"find-codebase-suggestions",is_edit:!1,enabled:_(["mode_selection","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"INSPECT_FRAGMENT",json_name:"inspect-fragment",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_BRUSH_MENU",json_name:"create-brush-menu",is_edit:!1,enabled:_(["mode_selection","feedback_and_history"]),handler:c.X,team:c.R},{code_name:"CREATE_STRETCH_BRUSH",json_name:"create-stretch-brush",is_edit:!1,enabled:_(["mode_selection","feedback_and_history"]),handler:c.X,team:c.R},{code_name:"CREATE_SCATTER_BRUSH",json_name:"create-scatter-brush",is_edit:!1,enabled:_(["mode_selection","feedback_and_history"]),handler:c.X,team:c.R},{code_name:"MIGRATE_PATTERN_SPACING",json_name:"migrate-pattern-spacing",is_edit:!0,enabled:_(["mode_selection","feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"STACK_SELECTION",json_name:"stack-selection",is_edit:!0,enabled:_(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"STACK_SELECTED_NODES",json_name:"stack-selected-nodes",is_edit:!0,enabled:_(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"UNSTACK_SELECTION",json_name:"unstack-selection",is_edit:!0,enabled:_(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"GRID_SELECTION",json_name:"grid-selection",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"SET_SELECTION_FILL_HORIZONTAL",json_name:"set-selection-fill-horizontal",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_SELECTION_HUG_HORIZONTAL",json_name:"set-selection-hug-horizontal",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_SELECTION_FILL_VERTICAL",json_name:"set-selection-fill-vertical",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_SELECTION_HUG_VERTICAL",json_name:"set-selection-hug-vertical",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_ARC",json_name:"create-arc",is_edit:!0,enabled:_(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"APPLY_TRANSFORM_MODIFIERS",json_name:"apply-transform-modifiers",is_edit:!0,enabled:_(["mode_selection","property","sites"]),handler:c.X,team:c.R},{code_name:"OUTLINE_STROKE",json_name:"outline-stroke",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"LIVE_BOOLEAN_UNION",json_name:"live-boolean-union",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"LIVE_BOOLEAN_SUBTRACT",json_name:"live-boolean-subtract",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"LIVE_BOOLEAN_INTERSECT",json_name:"live-boolean-intersect",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"LIVE_BOOLEAN_XOR",json_name:"live-boolean-xor",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ADD_TRANSFORM_MODIFIER_TO_SELECTION",json_name:"add-transform-modifier-to-selection",is_edit:!0,enabled:_(["mode_selection","property"]),handler:c.X,team:c.R},{code_name:"ADD_LINEAR_REPEAT_TO_SELECTION",json_name:"add-linear-repeat-to-selection",is_edit:!0,enabled:_(["mode_selection","property"]),handler:c.X,team:c.R},{code_name:"ADD_SKEW_MODIFIER_TO_SELECTION",json_name:"add-skew-modifier-to-selection",is_edit:!0,enabled:_(["mode_selection","property"]),handler:c.X,team:c.R},{code_name:"ALIGN_TOP",json_name:"align-top",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_VERTICAL_CENTER",json_name:"align-vertical-center",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_BOTTOM",json_name:"align-bottom",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_LEFT",json_name:"align-left",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_HORIZONTAL_CENTER",json_name:"align-horizontal-center",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_RIGHT",json_name:"align-right",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_TOP_AS_GROUP",json_name:"align-top-as-group",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_VERTICAL_CENTER_AS_GROUP",json_name:"align-vertical-center-as-group",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_BOTTOM_AS_GROUP",json_name:"align-bottom-as-group",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_LEFT_AS_GROUP",json_name:"align-left-as-group",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_HORIZONTAL_CENTER_AS_GROUP",json_name:"align-horizontal-center-as-group",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ALIGN_RIGHT_AS_GROUP",json_name:"align-right-as-group",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ROUND_TO_PIXELS",json_name:"round-to-pixels",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"ARRANGE_AS_GRID",json_name:"arrange-as-grid",is_edit:!0,enabled:_(["mode_selection_detected_grid","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ARRANGE_AS_LIST",json_name:"arrange-as-list",is_edit:!0,enabled:_(["mode_selection_detected_list","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TIDY_UP",json_name:"tidy-up",is_edit:!0,enabled:_(["mode_selection_smart_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PACK_HORIZONTAL",json_name:"pack-horizontal",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"PACK_VERTICAL",json_name:"pack-vertical",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"DISTRIBUTE_HORIZONTAL_SPACING",json_name:"distribute-horizontal-spacing",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DISTRIBUTE_VERTICAL_SPACING",json_name:"distribute-vertical-spacing",is_edit:!0,enabled:_(["mode_selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DISTRIBUTE_TOP",json_name:"distribute-top",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DISTRIBUTE_VERTICAL_CENTER",json_name:"distribute-vertical-center",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"DISTRIBUTE_BOTTOM",json_name:"distribute-bottom",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DISTRIBUTE_LEFT",json_name:"distribute-left",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DISTRIBUTE_HORIZONTAL_CENTER",json_name:"distribute-horizontal-center",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"DISTRIBUTE_RIGHT",json_name:"distribute-right",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_BOLD",json_name:"toggle-bold",is_edit:!0,enabled:_(["mode_selection","tool","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_TOGGLE_ITALIC",json_name:"text-toggle-italic",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_BOLD_INCREASE",json_name:"text-bold-increase",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_BOLD_DECREASE",json_name:"text-bold-decrease",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_TOGGLE_UNDERLINE",json_name:"text-toggle-underline",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_TOGGLE_STRIKETHROUGH",json_name:"text-toggle-strikethrough",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_REMOVE_DECORATION",json_name:"text-remove-decoration",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_DELETE_SELECTION_OR_END",json_name:"text-delete-selection-or-end",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_DELETE_SELECTION_OR_NEXT_CHARACTER",json_name:"text-delete-selection-or-next-character",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_UPGRADE_TEXT_EXPLICIT_LAYOUT_VERSION",json_name:"text-upgrade-explicit-layout-version",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_UPGRADE_TO_BIDI",json_name:"text-upgrade-to-bidi",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_TOGGLE_ORDERED_LIST",json_name:"text-toggle-ordered-list",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_TOGGLE_UNORDERED_LIST",json_name:"text-toggle-unordered-list",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_CLEAR_LIST_FORMATTING",json_name:"text-clear-list-formatting",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_INDENT_LIST",json_name:"text-indent-list",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_DEDENT_LIST",json_name:"text-dedent-list",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_DIRECTIONALITY_MENU",json_name:"text-directionality-menu",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_DIRECTIONALITY_LTR",json_name:"text-set-directionality-ltr",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_DIRECTIONALITY_LTR_QA",json_name:"text-set-directionality-ltr-qa",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_DIRECTIONALITY_RTL",json_name:"text-set-directionality-rtl",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_DIRECTIONALITY_RTL_QA",json_name:"text-set-directionality-rtl-qa",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_EDIT_HYPERLINK",json_name:"text-edit-hyperlink",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper"]),handler:c.X,team:c.R},{code_name:"FOCUS_LINK_PANEL",json_name:"focus-link-panel",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_CASE_MENU",json_name:"text-case-menu",is_edit:!1,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_SET_ORIGINAL_CASE",json_name:"text-original-case",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_SET_UPPER_CASE",json_name:"text-upper-case",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_SET_LOWER_CASE",json_name:"text-lower-case",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_SET_TITLE_CASE",json_name:"text-title-case",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_SET_SMALL_CAPS",json_name:"text-small-caps",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_SET_FORCED_SMALL_CAPS",json_name:"text-forced-small-caps",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_RELAYOUT",json_name:"text-relayout",is_edit:!0,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_ALIGN_MENU",json_name:"text-align-menu",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_ALIGN_LEFT",json_name:"text-align-left",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_ALIGN_CENTER",json_name:"text-align-center",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_ALIGN_RIGHT",json_name:"text-align-right",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_ALIGN_JUSTIFIED",json_name:"text-align-justified",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_ALIGN_TOP",json_name:"text-align-top",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_ALIGN_MIDDLE",json_name:"text-align-middle",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_ALIGN_BOTTOM",json_name:"text-align-bottom",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_STYLE_TITLE",json_name:"text-style-title",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_STYLE_H1",json_name:"text-style-h1",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_STYLE_H2",json_name:"text-style-h2",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_STYLE_H3",json_name:"text-style-h3",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_STYLE_NORMAL",json_name:"text-style-normal",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_ADJUST_MENU",json_name:"text-adjust-menu",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_LINE_HEIGHT_DECREASE",json_name:"text-line-height-decrease",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_LINE_HEIGHT_INCREASE",json_name:"text-line-height-increase",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_FONT_SIZE_DECREASE",json_name:"text-font-size-decrease",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_FONT_SIZE_INCREASE",json_name:"text-font-size-increase",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_LETTER_SPACING_DECREASE",json_name:"text-letter-spacing-decrease",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TEXT_LETTER_SPACING_INCREASE",json_name:"text-letter-spacing-increase",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"GOTO_LAYER",json_name:"goto-layer",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"COMMIT",json_name:"commit",is_edit:!1,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"AFTER_UNDO_REDO_COMMIT",json_name:"after-undo-redo-commit",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"PURGE_ALL_MEMORY",json_name:"purge-all-memory",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"REDRAW_CANVAS",json_name:"redraw-canvas",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"AFTER_FIRST_RENDER",json_name:"after-first-render",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"REQUEST_EDIT_MODE",json_name:"request-edit-mode",is_edit:!1,enabled:_(["mode_selection","figjam","sites"]),handler:c.X,team:c.R},{code_name:"REQUEST_EDIT_MODE_VIA_TOOLBAR",json_name:"request-edit-mode-via-toolbar",is_edit:!1,enabled:_(["mode_selection","figjam","cooper","sites"]),handler:c.X,team:c.R},{code_name:"LEAVE_EDIT_MODE",json_name:"leave-edit-mode",is_edit:!1,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_EDIT_MODE",json_name:"toggle-edit-mode",is_edit:!1,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_GRADIENT_EDIT_MODE",json_name:"toggle-gradient-edit-mode",is_edit:!1,enabled:_(["mode_paint_selection","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_PROGRESSIVE_BLUR_EDIT_MODE",json_name:"toggle-progressive-blur-edit-mode",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RASTER_EDIT_MODE",json_name:"toggle-raster-edit-mode",is_edit:!1,enabled:_(["mode_paint_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CROP_IMAGE",json_name:"crop-image",is_edit:!0,enabled:_(["mode_paint_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ADD_IMAGE_OVERLAY",json_name:"add-image-overlay",is_edit:!0,enabled:_(["mode_paint_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_IMAGE_OVERLAY",json_name:"remove-image-overlay",is_edit:!0,enabled:_(["mode_paint_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ROTATE_IMAGE_90_CLOCKWISE",json_name:"rotate-image-90-clockwise",is_edit:!0,enabled:_(["mode_paint_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ENTER_LAYOUT_MODE",json_name:"enter-layout-mode",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"ENTER_PREVIEW_MODE",json_name:"enter-preview-mode",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"ENTER_HISTORY_MODE",json_name:"enter-history-mode",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ENTER_BRANCHING_MODE",json_name:"enter-branching-mode",is_edit:!1,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"ENTER_LIBRARY_MODE",json_name:"enter-library-mode",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"DEV_HANDOFF_FOCUS_PREVIOUS",json_name:"dev-handoff-focus-previous",is_edit:!1,enabled:_(["mode","feedback_and_history","dev_handoff","tool"]),handler:c.X,team:c.R},{code_name:"DEV_HANDOFF_FOCUS_NEXT",json_name:"dev-handoff-focus-next",is_edit:!1,enabled:_(["mode","feedback_and_history","dev_handoff","tool"]),handler:c.X,team:c.R},{code_name:"TOGGLE_UI",json_name:"toggle-ui",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","overview_mode","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_KEYBOARD_SHORTCUTS",json_name:"toggle-keyboard-shortcuts",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_HELP_WIDGET",json_name:"toggle-help-widget",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_LAYERS",json_name:"toggle-layers",is_edit:!1,enabled:_(["slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_PUBLISH",json_name:"toggle-publish",is_edit:!1,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_LIBRARY",json_name:"toggle-library",is_edit:!1,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_COMPONENT_INSERT_MODAL",json_name:"component-insert",is_edit:!1,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SIDEBAR",json_name:"toggle-sidebar",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","figjam","slides","overview_mode","dev_variables_table_view","dev_mode_component_browser","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SNAPPING_TO_PIXELS",json_name:"toggle-snapping-to-pixels",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SNAPPING_TO_OBJECTS",json_name:"toggle-snapping-to-objects",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_SNAPPING_TO_GEOMETRY",json_name:"toggle-snapping-to-geometry",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_SMART_QUOTES",json_name:"toggle-smart-quotes",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_FLIP_DURING_RESIZE",json_name:"toggle-flip-during-resize",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"DISABLE_PINCH_ZOOM_FIX",json_name:"disable-pinch-zoom-fix",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_LAYER_HOVER",json_name:"toggle-layer-hover",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_STICKY_TOOLS",json_name:"toggle-sticky-tools",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_COPY_RENAMING",json_name:"toggle-copy-renaming",is_edit:!1,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_VIEWPORT_OVERLAY_HIDING",json_name:"toggle-viewport-overlay-hiding",is_edit:!1,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_KEYBOARD_ZOOM_TO_SELECTION",json_name:"toggle-keyboard-zoom-to-selection",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_MULTIPLAYER_CURSORS",json_name:"toggle-multiplayer-cursors",is_edit:!1,enabled:_(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_PROPERTY_LABELS",json_name:"toggle-show-property-labels",is_edit:!1,enabled:_(["slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ZOOM_IN",json_name:"zoom-in",is_edit:!1,enabled:_(["feedback_and_history","figjam","zoom","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ZOOM_OUT",json_name:"zoom-out",is_edit:!1,enabled:_(["feedback_and_history","figjam","zoom","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ZOOM_RESET",json_name:"zoom-reset",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ZOOM_TO_FIT",json_name:"zoom-to-fit",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ZOOM_TO_SELECTION",json_name:"zoom-to-selection",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SHOW_SELECTED_NODES",json_name:"show-selected-nodes",is_edit:!0,enabled:_(["mode_selection","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"HIDE_SELECTED_NODES",json_name:"hide-selected-nodes",is_edit:!0,enabled:_(["mode_selection","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOWN_FOR_SELECTED_NODES",json_name:"toggle-shown-for-selected-nodes",is_edit:!0,enabled:_(["mode_selection","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"UNHIDE_ALL",json_name:"unhide-all",is_edit:!0,enabled:_(["figjam","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"LOCK_SELECTED_NODES",json_name:"lock-selected-nodes",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"LOCK_SELECTED_SECTION_ONLY",json_name:"lock-selected-section-only",is_edit:!0,enabled:_(["mode_selection","figjam","sites"]),handler:c.X,team:c.R},{code_name:"UNLOCK_SELECTED_NODES",json_name:"unlock-selected-nodes",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_LOCKED_FOR_SELECTED_NODES",json_name:"toggle-locked-for-selected-nodes",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"UNLOCK_ALL",json_name:"unlock-all",is_edit:!0,enabled:_(["figjam","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"DELETE_AND_HEAL_SELECTION",json_name:"delete-and-heal-selection",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"JOIN_SELECTION",json_name:"join-selection",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SMOOTH_JOIN_SELECTION",json_name:"smooth-join-selection",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"BREAK_VECTOR_NETWORK_INTO_PATHS",json_name:"break-vector-network-into-paths",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DESELECT_ALL",json_name:"deselect-all",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DELETE_SELECTION",json_name:"delete-selection",is_edit:!0,enabled:_(["mode_selection","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_MENU",json_name:"toggle-menu",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"INSERT_INTERACTIVE_ELEMENT_INTO_ACTIVE_SLIDE",json_name:"insert-interactive-element-into-active-slide",is_edit:!0,enabled:_(["slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_PREFERENCES",json_name:"toggle-preferences",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","variables_table","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ENTER",json_name:"enter",is_edit:!1,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"ESCAPE",json_name:"escape",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MULTI_EDIT_TEXT",json_name:"multi-edit-text",is_edit:!0,enabled:_(["mode_selection","slides","cooper","slides_single_slide_view_change","sites"]),handler:c.X,team:c.R},{code_name:"FOCUS_MODE",json_name:"focus-mode",is_edit:!1,enabled:_(["mode_selection_focus_mode","sites"]),handler:c.X,team:c.R},{code_name:"FOCUS_MODE_COMPONENT_SET_TOGGLE",json_name:"focus-mode-component-set-toggle",is_edit:!1,enabled:_(["mode_selection_focus_mode","sites"]),handler:c.X,team:c.R},{code_name:"FOCUS_MODE_RESPONSIVE_SET_TOGGLE",json_name:"focus-mode-responsive-set",is_edit:!1,enabled:_(["mode_selection_focus_mode","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RESPONSIVE_CONTAINER_MULTIEDIT",json_name:"toggle-responsive-container-multiedit",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"FOCUS_MODE_EXIT",json_name:"focus-mode-exit",is_edit:!1,enabled:_(["mode_selection_focus_mode","sites"]),handler:c.X,team:c.R},{code_name:"CANVAS_SEARCH",json_name:"canvas-search",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CANVAS_SEARCH_EXIT",json_name:"canvas-search-exit",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CANVAS_SEARCH_NEXT",json_name:"canvas-search-next",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CANVAS_SEARCH_PREV",json_name:"canvas-search-prev",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CANVAS_SEARCH_REPLACE",json_name:"canvas-search-replace",is_edit:!0,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RETINA_MODE",json_name:"toggle-retina-mode",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_PIXEL_PREVIEW",json_name:"toggle-pixel-preview",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_GOOGLE_FONTS",json_name:"toggle-google-fonts",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_SLICES",json_name:"toggle-show-slices",is_edit:!1,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_COMMENTS",json_name:"toggle-show-comments",is_edit:!1,enabled:_(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_ANNOTATIONS",json_name:"toggle-show-annotations",is_edit:!1,enabled:_(["mode","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_ALWAYS_EXPAND_ANNOTATIONS",json_name:"toggle-always-expand-annotations",is_edit:!1,enabled:_(["mode","feedback_and_history","sites","dev_mode_access"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DROPPER",json_name:"toggle-dropper",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_INVERT_ZOOM",json_name:"toggle-invert-zoom",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_CURSOR_HIGH_FIVE_WIGGLE",json_name:"toggle-cursor-high-five-wiggle",is_edit:!1,enabled:_(["feedback_and_history","figjam","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_USE_NUMBERS_FOR_OPACITY",json_name:"toggle-use-numbers-for-opacity",is_edit:!1,enabled:_(["slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_USE_OLD_OUTLINE_SHORTCUTS",json_name:"toggle-use-old-outline-shortcuts",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_TEXT_SUGGESTIONS_PREFERENCE",json_name:"toggle-text-suggestions-preference",is_edit:!1,enabled:_(["sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SUGGESTED_AI_ACTIONS_PREFERENCE",json_name:"toggle-suggested-ai-actions-preference",is_edit:!1,enabled:_(["sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_CHAT_ON_CANVAS",json_name:"toggle-show-chat-on-canvas",is_edit:!1,enabled:_(["figjam"]),handler:c.X,team:c.R},{code_name:"TOGGLE_AI_SOUND_NOTIFICATION",json_name:"toggle-ai-sound-notification",is_edit:!1,enabled:_(["figmake","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_CTRL_CLICK_CONTEXT_MENU",json_name:"toggle-ctrl-click-context-menu",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SHOW_NUDGE_AMOUNT_PICKER",json_name:"show-nudge-amount-picker",is_edit:!1,enabled:_(["slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_0",json_name:"set-opacity-0",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_1",json_name:"set-opacity-1",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_2",json_name:"set-opacity-2",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_3",json_name:"set-opacity-3",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_4",json_name:"set-opacity-4",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_5",json_name:"set-opacity-5",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_6",json_name:"set-opacity-6",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_7",json_name:"set-opacity-7",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_8",json_name:"set-opacity-8",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_OPACITY_9",json_name:"set-opacity-9",is_edit:!0,enabled:_(["mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_US_QWERTY",json_name:"keyboard-layout-us-qwerty",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_FRENCH_AZERTY",json_name:"keyboard-layout-french-azerty",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_GERMAN",json_name:"keyboard-layout-german",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_JAPANESE_KANA",json_name:"keyboard-layout-hiragana-kana",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_DVORAK",json_name:"keyboard-layout-dvorak",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_RESET",json_name:"keyboard-layout-reset",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_UK_MAC",json_name:"keyboard-layout-uk-mac",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_UK_PC",json_name:"keyboard-layout-uk-pc",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_SWEDISH",json_name:"keyboard-layout-swedish",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_FINNISH",json_name:"keyboard-layout-finnish",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_DANISH",json_name:"keyboard-layout-danish",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_NORWEGIAN",json_name:"keyboard-layout-norwegian",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_ITALIAN",json_name:"keyboard-layout-italian",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_SPANISH",json_name:"keyboard-layout-spanish",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_SPANISH_LATAM",json_name:"keyboard-layout-spanish-latam",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_CHINESE",json_name:"keyboard-layout-chinese",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_PORTUGUESE",json_name:"keyboard-layout-portuguese",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"KEYBOARD_LAYOUT_KOREAN",json_name:"keyboard-layout-korean",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_LEADING_TRIM",json_name:"toggle-leading-trim-preference",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_HANGING_PUNCTUATION",json_name:"toggle-hanging-punctuation-preference",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_HANGING_LIST",json_name:"toggle-hanging-list-preference",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_SPELL_CHECK",json_name:"toggle-spell-check",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"REDO_SPELL_CHECKING",json_name:"redo-spell-checking",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_ENABLE_CODGEN_MCP_SERVER",json_name:"toggle-enable-codegen-mcp-server",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"SET_DEFAULT_EMOJI_SKIN_TONE",json_name:"set-default-emoji-skin-tone",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_FRAME",json_name:"set-tool-frame",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SLICE",json_name:"set-tool-slice",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SCALE",json_name:"set-tool-scale",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_TYPE",json_name:"set-tool-type",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_TEXT_PATH",json_name:"set-tool-text-path",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_LINE",json_name:"set-tool-line",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_ARROW",json_name:"set-tool-arrow",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_PEN",json_name:"set-tool-pen",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_PENCIL",json_name:"set-tool-pencil",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_BEND",json_name:"set-tool-bend",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_CUT",json_name:"set-tool-cut",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_OFFSET_PATH",json_name:"set-tool-offset-path",is_edit:!1,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SIMPLIFY_VECTOR",json_name:"set-tool-simplify-vector",is_edit:!1,enabled:_(["mode","selection"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_RECOLOR",json_name:"set-tool-recolor",is_edit:!1,enabled:_(["mode","selection"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_RECOLOR_DEBUG",json_name:"set-tool-recolor-debug",is_edit:!1,enabled:_(["mode","selection"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_PAINT_BUCKET",json_name:"set-tool-paint-bucket",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_BUILDER",json_name:"set-tool-shape-builder",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_VECTOR_LASSO",json_name:"set-tool-vector-lasso",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_IMAGE_LASSO",json_name:"set-tool-image-lasso",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_VAR_WIDTH_POINT",json_name:"set-tool-var-width-point",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_STAR",json_name:"set-tool-star",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_ELLIPSE",json_name:"set-tool-ellipse",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_RECTANGLE",json_name:"set-tool-rectangle",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_REGULAR_POLYGON",json_name:"set-tool-regular-polygon",is_edit:!1,enabled:_(["mode","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_DEFAULT",json_name:"set-tool-default",is_edit:!1,enabled:_(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_DEFAULT_FIGJAM",json_name:"set-tool-default-figjam",is_edit:!1,enabled:_(["mode","feedback_and_history","figjam"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_DEFAULT_DEV_HANDOFF",json_name:"set-tool-default-dev-handoff",is_edit:!1,enabled:_(["mode","dev_handoff"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_HAND",json_name:"set-tool-hand",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_OLD_SELECT",json_name:"set-tool-old-select",is_edit:!1,enabled:_(["mode","feedback_and_history","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_MULTISELECT",json_name:"set-tool-multiselect",is_edit:!1,enabled:_(["mode","feedback_and_history","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_LASSO",json_name:"set-tool-lasso",is_edit:!1,enabled:_(["mode","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_COMMENTS",json_name:"set-tool-comments",is_edit:!1,enabled:_(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SPOTLIGHT_ME",json_name:"spotlight-me",is_edit:!1,enabled:_(["mode","feedback_and_history","figjam","dev_handoff","slides","cooper","spotlight","sites"]),handler:c.X,team:c.R},{code_name:"FOLLOW_PRESENTER",json_name:"follow-presenter",is_edit:!1,enabled:_(["mode","feedback_and_history","figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_CONNECTOR_ELBOWED",json_name:"set-tool-connector-elbowed",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_CONNECTOR_STRAIGHT",json_name:"set-tool-connector-straight",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_CONNECTOR_CURVED",json_name:"set-tool-connector-curved",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_CONNECTOR_STRAIGHT_NO_ENDPOINTS",json_name:"set-tool-connector-straight-no-endpoints",is_edit:!1,enabled:_(["mode","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_STICKY",json_name:"set-tool-sticky",is_edit:!1,enabled:_(["mode","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_STAMP",json_name:"set-tool-stamp",is_edit:!1,enabled:_(["mode","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_SQUARE",json_name:"set-tool-shape-whiteboard-square",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ELLIPSE",json_name:"set-tool-shape-whiteboard-ellipse",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_DIAMOND",json_name:"set-tool-shape-whiteboard-diamond",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_TRIANGLE_UP",json_name:"set-tool-shape-whiteboard-triangle-up",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_TRIANGLE_DOWN",json_name:"set-tool-shape-whiteboard-triangle-down",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ROUNDED_RECTANGLE",json_name:"set-tool-shape-whiteboard-rounded-rectangle",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PARALLELOGRAM_RIGHT",json_name:"set-tool-shape-whiteboard-parallelogram-right",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PARALLELOGRAM_LEFT",json_name:"set-tool-shape-whiteboard-parallelogram-left",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ENG_DATABASE",json_name:"set-tool-shape-whiteboard-eng-database",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ENG_QUEUE",json_name:"set-tool-shape-whiteboard-eng-queue",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ENG_FILE",json_name:"set-tool-shape-whiteboard-eng-file",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ENG_FOLDER",json_name:"set-tool-shape-whiteboard-eng-folder",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_TRAPEZOID",json_name:"set-tool-shape-whiteboard-trapezoid",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_STAR",json_name:"set-tool-shape-whiteboard-star",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_SHIELD",json_name:"set-tool-shape-whiteboard-shield",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_HEXAGON",json_name:"set-tool-shape-whiteboard-hexagon",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PENTAGON",json_name:"set-tool-shape-whiteboard-pentagon",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_OCTAGON",json_name:"set-tool-shape-whiteboard-octagon",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PLUS",json_name:"set-tool-shape-whiteboard-plus",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PREDEFINED_PROCESS",json_name:"set-tool-shape-whiteboard-predefined-process",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_DOCUMENT_SINGLE",json_name:"set-tool-shape-whiteboard-document-single",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_DOCUMENT_MULTIPLE",json_name:"set-tool-shape-whiteboard-document-multiple",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_MANUAL_INPUT",json_name:"set-tool-shape-whiteboard-manual-input",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_CHEVRON",json_name:"set-tool-shape-whiteboard-chevron",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ARROW_LEFT",json_name:"set-tool-shape-whiteboard-arrow-left",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_ARROW_RIGHT",json_name:"set-tool-shape-whiteboard-arrow-right",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_SUMMING_JUNCTION",json_name:"set-tool-shape-whiteboard-summing-junction",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_OR",json_name:"set-tool-shape-whiteboard-or",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_SPEECH_BUBBLE",json_name:"set-tool-shape-whiteboard-speech-bubble",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_INTERNAL_STORAGE",json_name:"set-tool-shape-whiteboard-internal-storage",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_MINDMAP_TREE_NUCLEUS",json_name:"set-tool-mindmap-tree-nucleus",is_edit:!1,enabled:_(["mode","figjam"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SHAPE_WHITEBOARD_PLATFORM",json_name:"set-tool-shape-whiteboard-platform",is_edit:!1,enabled:_(["mode","figjam"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_ERASER",json_name:"set-tool-eraser",is_edit:!1,enabled:_(["mode","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_HIGHLIGHTER",json_name:"set-tool-highlighter",is_edit:!1,enabled:_(["mode","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SECTION",json_name:"set-tool-section",is_edit:!1,enabled:_(["mode","figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_WASHI_TAPE",json_name:"set-tool-washi-tape",is_edit:!1,enabled:_(["mode","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_TABLE",json_name:"set-tool-table",is_edit:!1,enabled:_(["mode","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_ANNOTATE",json_name:"set-tool-annotate",is_edit:!1,enabled:_(["mode","dev_mode_access","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"START_MAGIC_LINK",json_name:"start-magic-link",is_edit:!0,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"END_MAGIC_LINK",json_name:"end-magic-link",is_edit:!0,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"START_ANIMATION_MODE",json_name:"start-animation-mode",is_edit:!1,enabled:_(["mode"]),handler:c.X,team:c.R},{code_name:"END_ANIMATION_MODE",json_name:"end-animation-mode",is_edit:!1,enabled:_(["mode"]),handler:c.X,team:c.R},{code_name:"OPEN_MAKE_PROTOTYPE_MODAL",json_name:"open-make-prototype-modal",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_MEASURE",json_name:"set-tool-measure",is_edit:!1,enabled:_(["mode","dev_mode_access","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_BRUSH",json_name:"set-tool-brush",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_KEYBOARD_SELECT",json_name:"set-tool-keyboard-select",is_edit:!1,enabled:_(["mode","dev_handoff","figjam","slides","cooper","sites","feedback_and_history"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SLIDES_POLL",json_name:"set-tool-slides-poll",is_edit:!1,enabled:_(["slides","cooper"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SLIDES_EMBED",json_name:"set-tool-slides-embed",is_edit:!1,enabled:_(["slides","cooper"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SLIDES_FACEPILE",json_name:"set-tool-slides-facepile",is_edit:!1,enabled:_(["slides","cooper"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SLIDES_ALIGNMENT_SCALE",json_name:"set-tool-slides-alignment-scale",is_edit:!1,enabled:_(["slides","cooper"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SLIDES_YOUTUBE",json_name:"set-tool-slides-youtube",is_edit:!1,enabled:_(["slides","cooper"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SLIDE_NUMBER",json_name:"set-tool-slide-number",is_edit:!1,enabled:_(["slides"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SITES_RESPONSIVE_SET",json_name:"set-tool-sites-responsive-set",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SITES_WEBPAGE",json_name:"set-tool-sites-webpage",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SITES_RESPONSIVE_NODE_SET",json_name:"set-tool-sites-responsive-node-set",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SITES_LINK",json_name:"set-tool-sites-link",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_SITES_EMBED",json_name:"set-tool-sites-embed",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_CODE_COMPONENT",json_name:"set-tool-code-component",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_PATTERN_SOURCE_SELECTOR",json_name:"set-tool-pattern-source-selector",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_JSX",json_name:"set-tool-jsx",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SECTION_VISIBILITY",json_name:"toggle-section-visibility",is_edit:!0,enabled:_(["mode_selection","figjam","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_TIMER",json_name:"open-timer",is_edit:!1,enabled:_(["mode","figjam"]),handler:c.X,team:c.R},{code_name:"SET_TOOL_CODE_BLOCK",json_name:"set-tool-code-block",is_edit:!1,enabled:_(["mode","figjam","slides","sites"]),handler:c.X,team:c.R},{code_name:"ADD_CONNECTOR_TEXT",json_name:"add-connector-text",is_edit:!0,enabled:_(["mode_selection","figjam","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_GUIDS",json_name:"toggle-show-guids",is_edit:!1,enabled:_(["slides","cooper","feedback_and_history","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TEST_INDEPENDENT_LAYER_ANIMATION",json_name:"test-independent-layer-animation",is_edit:!0,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"TEST_INDEPENDENT_LAYER_ANIMATION_EASED",json_name:"test-independent-layer-animation-eased",is_edit:!0,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"TEST_INDEPENDENT_LAYER_ANIMATION_OPACITY",json_name:"test-independent-layer-animation-opacity",is_edit:!0,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"TEST_NON_INDEPENDENT_LAYER_ANIMATION",json_name:"test-non-independent-layer-animation",is_edit:!0,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"PRINT_VECTOR_NETWORK_AS_TEST_CODE",json_name:"debug-print-vector-network-as-test-code",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_SHOW_VECTOR_NETWORK_LABELS",json_name:"debug-toggle-show-vector-network-labels",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_DONT_MERGE_STROKE_OUTLINES",json_name:"debug-toggle-dont-merge-stroke-outlines",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_SEMANTIC_TAGS_ON_LAYER_ROWS",json_name:"toggle-show-semantic-tags-on-layer-rows",is_edit:!1,enabled:_(["sites"]),handler:c.X,team:c.R},{code_name:"FORCE_PUBLISH_STATE_GROUP",json_name:"force-publish-state-group",is_edit:!0,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"INSPECT_IN_FIGMASCOPE",json_name:"debug-inspect-layer-figma-scope",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_QUICK_COMMAND_RANK_DEBUG",json_name:"toggle-show-quick-command-rank-debug",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RESOURCE_USE",json_name:"toggle-resource-use",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_MEMORY_USAGE_INDICATOR",json_name:"toggle-memory-usage-indicator",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RULERS",json_name:"toggle-rulers",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ADJUST_RULER_GUIDES",json_name:"adjust-ruler-guides",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_PRINT_MARKS",json_name:"toggle-print-marks",is_edit:!1,enabled:_(["feedback_and_history","cooper"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RULER_UNIT_PIXELS",json_name:"toggle-ruler-unit-pixels",is_edit:!1,enabled:_(["feedback_and_history","cooper"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RULER_UNIT_INCHES",json_name:"toggle-ruler-unit-inches",is_edit:!1,enabled:_(["feedback_and_history","cooper"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RULER_UNIT_CENTIMETERS",json_name:"toggle-ruler-unit-centimeters",is_edit:!1,enabled:_(["feedback_and_history","cooper"]),handler:c.X,team:c.R},{code_name:"RULER_MENU",json_name:"ruler-unit-menu",is_edit:!1,enabled:_(["feedback_and_history","cooper"]),handler:c.X,team:c.R},{code_name:"RUN_MULTI_STACK_AUTO_LAYOUT",json_name:"run-multi-stack-auto-layout",is_edit:!0,enabled:_(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"RUN_SET_RESPONSIVE_SETTINGS",json_name:"run-set-responsive-settings",is_edit:!0,enabled:_(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"DESTROY_ALL_AUTO_LAYOUT",json_name:"destroy-all-auto-layout",is_edit:!0,enabled:_(["mode_selection","property","slides","cooper","slides_tool_mode","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_ANNOTATIONS",json_name:"toggle-annotations",is_edit:!1,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_GRID",json_name:"toggle-grid",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_PERF_HUD",json_name:"toggle-perf-hud",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_FAKE_MP_ACTIVITY",json_name:"toggle-fake-mp-activity",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_TSMER_CONFIG",json_name:"toggle-tsmer-config",is_edit:!1,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DEBUG_DOC_SYNC_LOGS",json_name:"toggle-debug-doc-sync-logs",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DEBUG_USER_SYNC_LOGS",json_name:"toggle-debug-user-sync-logs",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DEBUG_PAGE_SYNC_LOGS",json_name:"toggle-debug-page-sync-logs",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_INCREMENTAL_LOADING_ALL_PAGES",json_name:"debug-incremental-loading-all-pages",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_INCREMENTAL_LOADING_CURRENT_ONLY",json_name:"debug-incremental-loading-current-only",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DEBUG_LAYOUT_LOGS",json_name:"toggle-debug-layout-logs",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DEBUG_MATERIALIZER_LOGS",json_name:"toggle-debug-materializer-logs",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_OUTLINES",json_name:"toggle-outlines",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_OUTLINE_HIDDEN_LAYERS",json_name:"toggle-outline-mode-hidden-layers",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_OUTLINE_OBJECT_BOUNDS",json_name:"toggle-outline-mode-object-bounds",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOWN_LAYOUT_GRIDS",json_name:"toggle-shown-layout-grids",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_MASKS",json_name:"toggle-show-masks",is_edit:!1,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_ARTBOARD_OUTLINES",json_name:"toggle-show-artboard-outlines",is_edit:!1,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_USE_REALMS_FOR_PLUGIN_DEV",json_name:"toggle-use-realms-for-plugin-dev",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"CLEAR_TOOL",json_name:"clear-tool",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"PLACE_ALL_IMAGES",json_name:"place-all-images",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"DISCARD_ALL_IMAGES",json_name:"discard-all-images",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_PEN_TOOL_AVOID_SINGLE_HANDLES",json_name:"toggle-pen-tool-avoid-single-handles",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_SNAPPING_TO_DOTS",json_name:"toggle-snapping-to-dots",is_edit:!1,enabled:_(["figjam"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_DOT_GRID",json_name:"toggle-show-dot-grid",is_edit:!1,enabled:_(["figjam"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SCROLL_WHEEL_ZOOM",json_name:"toggle-scroll-wheel-zoom",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RIGHT_CLICK_PAN",json_name:"toggle-right-click-pan",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_SCROLL_WHEEL_ZOOM_ENABLED",json_name:"set-scroll-wheel-zoom-enabled",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_SCROLL_WHEEL_ZOOM_DISABLED",json_name:"set-scroll-wheel-zoom-disabled",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_RIGHT_CLICK_PAN_ENABLED",json_name:"set-right-click-pan-enabled",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_RIGHT_CLICK_PAN_DISABLED",json_name:"set-right-click-pan-disabled",is_edit:!1,enabled:_(["figjam","feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_INCLUDE_EVERYTHING_IN_TAB_ORDER",json_name:"toggle-include-everything-in-tab-order",is_edit:!1,enabled:_(["figjam"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_RECENTER_BUTTON",json_name:"toggle-recenter-button",is_edit:!1,enabled:_(["figjam"]),handler:c.X,team:c.R},{code_name:"REMOVE_INTERACTIONS_ON_SELECTION",json_name:"remove-interactions-on-selection",is_edit:!0,enabled:_(["property","selection","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_INTERACTIONS_ON_PAGE",json_name:"remove-interactions-on-page",is_edit:!0,enabled:_(["property","selection","sites"]),handler:c.X,team:c.R},{code_name:"ADD_PROTOTYPE_STARTING_POINT",json_name:"add-prototype-starting-point",is_edit:!0,enabled:_(["property","selection","sites"]),handler:c.X,team:c.R},{code_name:"DELETE_PROTOTYPE_STARTING_POINT",json_name:"delete-prototype-starting-point",is_edit:!0,enabled:_(["property","selection","sites"]),handler:c.X,team:c.R},{code_name:"UPDATE_INTERACTIONS_STATE_MANAGEMENT_ON_PAGE",json_name:"update-interactions-state-management-on-page",is_edit:!0,enabled:_(["property","selection","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_INLINE_PREVIEW",json_name:"toggle-inline-preview",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_INLINE_HTML_PREVIEW",json_name:"toggle-inline-html-preview",is_edit:!1,enabled:_(["feedback_and_history","selection","sites"]),handler:c.X,team:c.R},{code_name:"INLINE_PREVIEW_RESET_SIZE",json_name:"inline-preview-reset-size",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"INLINE_PREVIEW_LOADED",json_name:"inline-preview-loaded",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"INLINE_PREVIEW_PRESENTED_NODE_CHANGED",json_name:"inline-preview-presented-node-changed",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"INLINE_PREVIEW_IFRAME_FOCUS_STATE_CHANGED",json_name:"inline-preview-iframe-focus-state-changed",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_HELP",json_name:"open-help",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_SHORTCUTS",json_name:"open-shortcuts",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_SUPPORT_FORUM",json_name:"open-support-forum",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_TUTORIALS",json_name:"open-tutorials",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_LEGAL_SUMMARY",json_name:"open-legal-summary",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_RELEASE_NOTES",json_name:"open-release-notes",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_ACCOUNT_SETTINGS",json_name:"open-account-settings",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","variables_table","slides","cooper","figmake","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_PREFERENCES_MODAL",json_name:"open-preferences-modal",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","sites","cooper"]),handler:c.X,team:c.R},{code_name:"SIMULATE_BACK_TO_FILES",json_name:"simulate-back-to-files",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"DUMP_PENDING_REGISTERS",json_name:"dump-pending-registers",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"DUMP_UNDO_HISTORY",json_name:"dump-undo-history",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_RECORDING_INTERACTIONS",json_name:"toggle-recording-interactions",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites","figmake"]),handler:c.X,team:c.R},{code_name:"TOGGLE_FEATURE_FLAG_BISECTOR",json_name:"toggle-show-feature-flag-bisector",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites","figmake"]),handler:c.X,team:c.R},{code_name:"CLEAR_MAKE_EDITS_DEBUG_DATA",json_name:"clear-make-edits-debug-data",is_edit:!0,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites","figmake"]),handler:c.X,team:c.R},{code_name:"INSERT_LOTS_OF_TEXT",json_name:"insert-lots-of-text",is_edit:!0,enabled:_(["feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"ADD_FILL_TO_SELECTION",json_name:"add-fill-to-selection",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"ADD_STROKE_TO_SELECTION",json_name:"add-stroke-to-selection",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"ADD_FILL_TO_STYLE_SELECTION",json_name:"add-fill-to-style-selection",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_PRESSURE_SENSITIVITY",json_name:"toggle-pressure-sensitivity",is_edit:!1,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"NEXT_ARTBOARD",json_name:"next-artboard",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"PREVIOUS_ARTBOARD",json_name:"previous-artboard",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"NEXT_ARTBOARD_SAME_ZOOM",json_name:"next-artboard-same-zoom",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"PREVIOUS_ARTBOARD_SAME_ZOOM",json_name:"previous-artboard-same-zoom",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TEST_MULTIPLAYER_UPGRADE",json_name:"test-multiplayer-upgrade",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TEST_REJECT_TOO_OLD",json_name:"test-multiplayer-reject-too-old",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TEST_REJECT_INVALID_PERMISSIONS",json_name:"test-multiplayer-reject-invalid-permissions",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TEST_REJECT_NOT_LOGGED_IN",json_name:"test-multiplayer-reject-not-logged-in",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TEST_REJECT_TOO_MANY_CONNECTIONS",json_name:"test-multiplayer-reject-too-many-connections",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"PLUGINS_RUN_LAST",json_name:"plugins-run-last",is_edit:!1,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"VIEW_WIDGET_DETAILS",json_name:"view-widget-details",is_edit:!1,enabled:_(["mode_selection","figjam","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_BROWSE_ALL_RESOURCES_MODAL",json_name:"browse-all-resources-modal",is_edit:!1,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ENTER_DRAW_MODE",json_name:"enter-draw-mode",is_edit:!1,enabled:_(["document","feedback_and_history","dev_mode_focus_node","dev_handoff","variables_table"]),handler:c.X,team:c.R},{code_name:"ENTER_INSPECT_MODE",json_name:"enter-inspect-mode",is_edit:!1,enabled:_(["document","dev_mode_focus_node","feedback_and_history"]),handler:c.X,team:c.R},{code_name:"ENTER_DESIGN_MODE",json_name:"enter-design-mode",is_edit:!1,enabled:_(["document","feedback_and_history","dev_mode_focus_node","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"ENTER_SLIDES_MODE",json_name:"enter-slides-mode",is_edit:!1,enabled:_(["slides","cooper","slides_tool_mode"]),handler:c.X,team:c.R},{code_name:"ENTER_SLIDES_DESIGN_MODE",json_name:"enter-slides-design-mode",is_edit:!1,enabled:_(["slides","cooper","slides_tool_mode"]),handler:c.X,team:c.R},{code_name:"SHOW_DESIGN_PANEL",json_name:"show-design-panel",is_edit:!1,enabled:_(["mode","feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"SHOW_PROTOTYPE_PANEL",json_name:"show-prototype-panel",is_edit:!1,enabled:_(["mode","feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"SHOW_DEV_MODE_INSPECT_PANEL",json_name:"show-dev-mode-inspect-panel",is_edit:!1,enabled:_(["mode","dev_mode_access","dev_handoff"]),handler:c.X,team:c.R},{code_name:"SHOW_DEV_MODE_PLUGINS_PANEL",json_name:"show-dev-mode-plugins-panel",is_edit:!1,enabled:_(["mode","dev_mode_access","dev_handoff"]),handler:c.X,team:c.R},{code_name:"TOGGLE_PROTOTYPING_INFO",json_name:"toggle-prototyping-info",is_edit:!1,enabled:_(["mode_all","feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_ANIMATE_INFO",json_name:"toggle-animate-info",is_edit:!1,enabled:_(["slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ENTER_FOCUS_VIEW",json_name:"enter-focus-view",is_edit:!1,enabled:_(["slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"EXIT_FOCUS_VIEW",json_name:"exit-focus-view",is_edit:!1,enabled:_(["slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_GRID_FOCUS_VIEW",json_name:"toggle-grid-focus-view",is_edit:!1,enabled:_(["slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SHOW_CODE_PANEL",json_name:"show-inspect-panel",is_edit:!1,enabled:_(["mode","feedback_and_history","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_SELECTION",json_name:"debug-selection",is_edit:!1,enabled:_(["figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_MIGRATE_KEYFRAME_EXPRESSIONS",json_name:"debug-migrate-keyframe-expressions",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"DEBUG_CLEANUP_ANIMATION_PRESETS",json_name:"debug-cleanup-animation-presets",is_edit:!0,enabled:_([]),handler:c.X,team:c.R},{code_name:"DOWNLOAD_WEBGL_TRACE",json_name:"download-webgl-trace",is_edit:!1,enabled:_(["figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"EXPORT_ALL_FRAMES_TO_PDF",json_name:"export-all-frames-to-pdf",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"EXPORT_SLIDES_TO_PDF",json_name:"export-slides-to-pdf",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper"]),handler:c.X,team:c.R},{code_name:"PRINT_IMAGE_DIAGNOSTICS",json_name:"print-image-diagnostics",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"PRINT_RENDER_TREE",json_name:"print-render-tree",is_edit:!1,enabled:_(["figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"ADD_TABLE_ROW_ABOVE",json_name:"add-table-row-above",is_edit:!0,enabled:_(["selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ADD_TABLE_ROW_BELOW",json_name:"add-table-row-below",is_edit:!0,enabled:_(["selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MOVE_TABLE_ROW_UP",json_name:"move-table-row-up",is_edit:!0,enabled:_(["selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MOVE_TABLE_ROW_DOWN",json_name:"move-table-row-down",is_edit:!0,enabled:_(["selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ADD_TABLE_COLUMN_BEFORE",json_name:"add-table-column-before",is_edit:!0,enabled:_(["selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ADD_TABLE_COLUMN_AFTER",json_name:"add-table-column-after",is_edit:!0,enabled:_(["selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MOVE_TABLE_COLUMN_LEFT",json_name:"move-table-column-left",is_edit:!0,enabled:_(["selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MOVE_TABLE_COLUMN_RIGHT",json_name:"move-table-column-right",is_edit:!0,enabled:_(["selection","property","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DELETE_TABLE_CONTENTS",json_name:"delete-table-contents",is_edit:!0,enabled:_(["selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DELETE_CURRENT_TABLE_COLUMN",json_name:"delete-current-table-column",is_edit:!0,enabled:_(["selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"DELETE_CURRENT_TABLE_ROW",json_name:"delete-current-table-row",is_edit:!0,enabled:_(["selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ADD_DEFAULT_CELL_STYLES_TO_TABLES",json_name:"add-default-cell-styles-to-tables",is_edit:!0,enabled:_(["figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SELECT_CURRENT_TABLE_ROW",json_name:"select-current-table-row",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"SELECT_CURRENT_TABLE_COLUMN",json_name:"select-current-table-column",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"SELECT_CURRENT_TABLE_CELL",json_name:"select-current-table-cell",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"MOVE_TABLE_CELL_SELECTION_LEFT",json_name:"move-table-cell-selection-left",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"MOVE_TABLE_CELL_SELECTION_RIGHT",json_name:"move-table-cell-selection-right",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"MOVE_TABLE_CELL_SELECTION_UP",json_name:"move-table-cell-selection-up",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"MOVE_TABLE_CELL_SELECTION_DOWN",json_name:"move-table-cell-selection-down",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"EXTEND_TABLE_CELL_SELECTION_LEFT",json_name:"extend-table-cell-selection-left",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"EXTEND_TABLE_CELL_SELECTION_RIGHT",json_name:"extend-table-cell-selection-right",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"EXTEND_TABLE_CELL_SELECTION_UP",json_name:"extend-table-cell-selection-up",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"EXTEND_TABLE_CELL_SELECTION_DOWN",json_name:"extend-table-cell-selection-down",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"RESIZE_TABLE_ROW_INCREASE",json_name:"resize-table-row-increase",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"RESIZE_TABLE_ROW_DECREASE",json_name:"resize-table-row-decrease",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"RESIZE_TABLE_ROW_INCREASE_LARGE",json_name:"resize-table-row-increase-large",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"RESIZE_TABLE_ROW_DECREASE_LARGE",json_name:"resize-table-row-decrease-large",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"RESIZE_TABLE_COLUMN_INCREASE",json_name:"resize-table-column-increase",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"RESIZE_TABLE_COLUMN_DECREASE",json_name:"resize-table-column-decrease",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"RESIZE_TABLE_COLUMN_INCREASE_LARGE",json_name:"resize-table-column-increase-large",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"RESIZE_TABLE_COLUMN_DECREASE_LARGE",json_name:"resize-table-column-decrease-large",is_edit:!0,enabled:_(["selection","figjam","slides"]),handler:c.X,team:c.R},{code_name:"TEST_ACTION",json_name:"test-action",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_WHITEBOARD_MODE",json_name:"debug-toggle-whiteboard-mode",is_edit:!1,enabled:_(["figjam"]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_SLIDES_MODE",json_name:"debug-toggle-slides-mode",is_edit:!1,enabled:_(["mode","slides","cooper"]),handler:c.X,team:c.R},{code_name:"DEBUG_SET_SLIDES_GRID_MODE",json_name:"debug-set-slides-grid-mode",is_edit:!1,enabled:_(["mode","slides","cooper"]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_SITES_MODE",json_name:"debug-toggle-sites-mode",is_edit:!1,enabled:_(["mode","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_FIGMAKE_MODE",json_name:"debug-toggle-figmake-mode",is_edit:!1,enabled:_(["mode","figmake","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_LOG_CANVAS_SEARCH_INDEX",json_name:"debug-log-canvas-search-index",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"SET_IMAGE_AS_PROFILE_PICTURE",json_name:"set-image-as-profile-picture",is_edit:!1,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"TOGGLE_STRAIGHT_PENCIL",json_name:"toggle-straight-pencil",is_edit:!1,enabled:_(["figjam","sites"]),handler:c.X,team:c.R},{code_name:"PRESENT_AS_PROTOTYPE",json_name:"present-as-prototype",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"PRESENT_SITES_FULL_PREVIEW",json_name:"present-sites-full-preview",is_edit:!1,enabled:_(["feedback_and_history","mode","sites"]),handler:c.X,team:c.R},{code_name:"PRESENT_SLIDES_AUDIENCE_VIEW",json_name:"present-slides-audience-view",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper"]),handler:c.X,team:c.R},{code_name:"PRESENT_SLIDES_PRESENTER_VIEW",json_name:"present-slides-presenter-view",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper"]),handler:c.X,team:c.R},{code_name:"TOGGLE_BUZZ_TOOL_MODE",json_name:"toggle-buzz-tool-mode",is_edit:!1,enabled:_(["cooper"]),handler:c.X,team:c.R},{code_name:"ENTER_BUZZ_DESIGN_MODE",json_name:"enter-buzz-design-mode",is_edit:!1,enabled:_(["cooper"]),handler:c.X,team:c.R},{code_name:"BUZZ_MAKE_BRAND_TEMPLATES",json_name:"buzz-make-brand-templates",is_edit:!0,enabled:_(["cooper"]),handler:c.X,team:c.R},{code_name:"ASSIGN_DOCUMENT_COLOR_PROFILE_LEGACY",json_name:"assign-document-color-profile-legacy",is_edit:!0,enabled:_(["mode","property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ASSIGN_DOCUMENT_COLOR_PROFILE_DISPLAY_P3",json_name:"assign-document-color-profile-display-p3",is_edit:!0,enabled:_(["mode","property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CONVERT_DOCUMENT_COLOR_PROFILE_DISPLAY_P3",json_name:"convert-document-color-profile-display-p3",is_edit:!0,enabled:_(["mode","property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"ASSIGN_DOCUMENT_COLOR_PROFILE_SRGB",json_name:"assign-document-color-profile-srgb",is_edit:!0,enabled:_(["mode","property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CONVERT_DOCUMENT_COLOR_PROFILE_SRGB",json_name:"convert-document-color-profile-srgb",is_edit:!0,enabled:_(["mode","property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CHANGE_DOCUMENT_COLOR_PROFILE_TO_DISPLAY_P3",json_name:"change-document-color-profile-to-display-p3",is_edit:!0,enabled:_(["mode","property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"CHANGE_DOCUMENT_COLOR_PROFILE_TO_SRGB",json_name:"change-document-color-profile-to-srgb",is_edit:!0,enabled:_(["mode","property","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_OVERLAY_UI_RENDERING",json_name:"toggle-overlay-ui-rendering",is_edit:!1,enabled:_(["figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_ALLOW_TIME_SLICED_EDIT_RENDERING_OPTIMIZATION",json_name:"toggle-allow-time-sliced-edit-rendering-optimization",is_edit:!1,enabled:_(["figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SYNC_CURSOR_RENDERING",json_name:"toggle-sync-cursor-rendering",is_edit:!1,enabled:_(["figjam","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"SIMPLIFY_SELECTED_INSTANCE_PANELS",json_name:"simplify-selected-instance-panels",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SIMILAR_DEFINITION",json_name:"similar-includes-matching",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SIMILAR_HIGHLIGHTS",json_name:"toggle-similar-highlights",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_NOODLES_WITHOUT_DRAGGING",json_name:"toggle-noodles-without-dragging",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_MAGIC_LINK_AI_MODEL",json_name:"debug-magic-link-ai-model",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SHOW_PROTOTYPE_INTERACTION_EDIT_MODAL",json_name:"show-prototype-interaction-edit-modal",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"REPORT_NO_VIDEO_UPLOAD_PERMISSIONS",json_name:"report-no-video-upload-permissions",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_DISPLAY_DIRTY_RECTS",json_name:"toggle-display-dirty-rects",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DISPLAY_DIRTY_TILES",json_name:"toggle-display-dirty-tiles",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DISPLAY_PIXEL_HEAT_MAP",json_name:"toggle-display-pixel-heat-map",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DISPLAY_EXPENSIVE_TILES",json_name:"toggle-display-expensive-tiles",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DISPLAY_NODE_OCCLUDERS",json_name:"toggle-display-node-occluders",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DISPLAY_GPU_METRICS",json_name:"toggle-display-gpu-metrics",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_DISPLAY_CPU_TIMER_TREE",json_name:"toggle-display-cpu-timer-tree",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_PERF_MODE_MEDIUM",json_name:"toggle-perf-mode-medium",is_edit:!1,enabled:_(["mode_selection","figjam","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"SET_PROTOTYPE_VIEW_PRESENT",json_name:"set-prototype-view-present",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"SET_PROTOTYPE_VIEW_PREVIEW",json_name:"set-prototype-view-preview",is_edit:!1,enabled:_(["feedback_and_history","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"SET_SITES_FULL_PREVIEW",json_name:"set-sites-full-preview",is_edit:!1,enabled:_(["feedback_and_history","mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_SITES_INLINE_PREVIEW",json_name:"set-sites-inline-preview",is_edit:!1,enabled:_(["feedback_and_history","mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_SLIDES_AUDIENCE_VIEW",json_name:"set-slides-audience-view",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper"]),handler:c.X,team:c.R},{code_name:"SET_SLIDES_PRESENTER_VIEW",json_name:"set-slides-presenter-view",is_edit:!1,enabled:_(["feedback_and_history","slides","cooper"]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_DIAGRAM_LAYOUT_PAUSED",json_name:"debug-toggle-diagram-layout-paused",is_edit:!1,enabled:_(["selection","figjam"]),handler:c.X,team:c.R},{code_name:"START_MIND_MAP",json_name:"start-mind-map",is_edit:!0,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"REMOVE_IMAGE_BACKGROUND",json_name:"remove-background",is_edit:!0,enabled:_(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"UPSCALE_IMAGE",json_name:"upscale-image",is_edit:!0,enabled:_(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"EXPAND_IMAGE",json_name:"expand-image",is_edit:!0,enabled:_(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"REMOVE_OBJECT",json_name:"remove-object",is_edit:!0,enabled:_(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SEPARATE_OBJECT",json_name:"separate-object",is_edit:!0,enabled:_(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"GENERATE_IMAGE",json_name:"generate-image",is_edit:!0,enabled:_(["property","mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"EDIT_IMAGE",json_name:"edit-image",is_edit:!0,enabled:_(["paint","property","mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"VECTORIZE_IMAGE",json_name:"vectorize-image",is_edit:!0,enabled:_(["paint","property","mode_selection","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"MAKE_VIDEO",json_name:"make-video",is_edit:!0,enabled:_(["property","mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"BUZZ_PROMPT_TO_DESIGN",json_name:"buzz-prompt-to-design",is_edit:!0,enabled:_(["property","mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"AUTO_RENAME_LAYERS",json_name:"auto-rename-layers",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"MAGIC_LINK",json_name:"magic-link",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"FIRST_DRAFT",json_name:"first-draft",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"FIRST_DRAFT_MAKE_CHANGES",json_name:"first-draft-make-changes",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"FIRST_DRAFT_MAKE_KIT",json_name:"first-draft-make-kit",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"FIRST_DRAFT_MAKE_KIT_DEBUG",json_name:"first-draft-make-kit-debug",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"FIRST_DRAFT_COMPONENTIZE",json_name:"first-draft-componentize",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"FIRST_DRAFT_SUGGEST_PROPS",json_name:"first-draft-suggest-props",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"FIRST_DRAFT_LINTING",json_name:"first-draft-linting",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"FIRST_DRAFT_DEBUG",json_name:"first-draft-debug",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"MAKE_EDITS",json_name:"make-edits",is_edit:!0,enabled:_(["mode_selection","sites","figjam","slides"]),handler:c.X,team:c.R},{code_name:"MAKE_EDITS_DEBUG",json_name:"make-edits-debug",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"MAKE_EDITS_DEBUG_REVIEW",json_name:"make-edits-debug-review",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"FIRST_DRAFT_FINE_TUNE",json_name:"first-draft-fine-tune",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"LINK_TO_COMPONENT",json_name:"link-to-component",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"LINK_TO_EXISTING_COMPONENT",json_name:"link-to-existing-component",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"DETECT_VIOLATIONS",json_name:"detect-violations",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"TRANSLATE_TEXT",json_name:"translate-text",is_edit:!0,enabled:_(["mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"REWRITE_TEXT",json_name:"rewrite-text",is_edit:!0,enabled:_(["mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SHORTEN_TEXT",json_name:"shorten-text",is_edit:!0,enabled:_(["mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"CONTENT_FILL",json_name:"content-fill",is_edit:!0,enabled:_(["mode_selection","slides","cooper","figjam","sites"]),handler:c.X,team:c.R},{code_name:"SLIDES_GENERATE_SPEAKER_NOTES",json_name:"slides-generate-speaker-notes",is_edit:!0,enabled:_(["mode_selection","slides","cooper","slides_single_slide_view_change"]),handler:c.X,team:c.R},{code_name:"SLIDES_REWRITE_TEXT",json_name:"slides-rewrite-text",is_edit:!0,enabled:_(["mode_selection","slides","cooper","figjam"]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_SHOW_CANVAS_AXIS",json_name:"debug-toggle-show-canvas-axis",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_SHOW_MOUSE_POSITION",json_name:"debug-toggle-show-mouse-position",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"DEBUG_TOGGLE_WHITEBOARD_PDF_IMPORT_NODE_REPLACEMENT",json_name:"debug-toggle-whiteboard-pdf-import-node-replacement",is_edit:!1,enabled:_(["figjam"]),handler:c.X,team:c.R},{code_name:"TOGGLE_CANVAS_SEARCH_DEBUG",json_name:"toggle-canvas-search-debug",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_ACCESSIBILITY_DOM_DEBUG",json_name:"toggle-accessibility-dom-debug",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_TEXT_INPUT_SHORTCUT_BLOCKING",json_name:"toggle-text-input-shortcut-blocking",is_edit:!1,enabled:_(["feedback_and_history","figjam","dev_handoff","slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"OPEN_FPL_DEBUG",json_name:"open-fpl-debug",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SHOW_FIGMASCOPE",json_name:"debug-toggle-figma-scope",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","figmake","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_TIMELINE",json_name:"toggle-smart-animate-panel",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"PRINT_AS_TEST_CODE",json_name:"debug-print-as-test-code",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_UNDO_REDO_DEBUG",json_name:"toggle-undo-redo-debug",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_COLLABORATIVE_TEXT_DEBUG",json_name:"toggle-collaborative-text-debug",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"TOGGLE_PLUGIN_API_DEBUG",json_name:"toggle-plugin-api-debug",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","sites"]),handler:c.X,team:c.R},{code_name:"FOCUS_PREVIOUS_AREA",json_name:"focus-previous-area",is_edit:!1,enabled:_(["figjam","dev_handoff","variables_table","slides","sites","cooper","feedback_and_history"]),handler:c.X,team:c.R},{code_name:"FOCUS_NEXT_AREA",json_name:"focus-next-area",is_edit:!1,enabled:_(["figjam","dev_handoff","variables_table","slides","sites","cooper","feedback_and_history"]),handler:c.X,team:c.R},{code_name:"CREATE_MAKE_FROM_DESIGN",json_name:"create-make-from-design",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"EDIT_MAKE_FROM_DESIGN",json_name:"edit-make-from-design",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"SEND_TO_MAKE_FROM_DESIGN",json_name:"send-to-make-from-design",is_edit:!1,enabled:_(["mode_selection","feedback_and_history","dev_handoff"]),handler:c.X,team:c.R},{code_name:"SEND_TO_MAKE_FROM_FIGJAM",json_name:"send-to-make-from-figjam",is_edit:!0,enabled:_(["figjam","mode_selection"]),handler:c.X,team:c.R},{code_name:"COPY_MAKE_FOR_DESIGN",json_name:"copy-make-for-design",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"CONVERT_RESPONSIVE_SET_TO_WEBPAGE",json_name:"convert-responsive-set-to-webpage",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_AS_SITE_HOMEPAGE",json_name:"set-as-site-homepage",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_AS_DEFAULT_RESPONSIVE_SET",json_name:"set-as-default-responsive-set",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SITES_COPY_LINK",json_name:"sites-copy-link",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SITES_FIX_ISSUE",json_name:"sites-fix-issue",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"EDIT_CODE",json_name:"edit-code",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_CODE_LAYER_FROM_DESIGN",json_name:"create-code-layer-from-design",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_NATIVE_CODE_LAYER",json_name:"create-native-code-layer",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"RESTORE_DESIGN_IN_PLACE_FROM_CODE",json_name:"restore-design-in-place-from-code",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"COPY_OUT_DESIGN_FROM_CODE",json_name:"copy-out-design-from-code",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_SITES_VIEW_FILE",json_name:"set-sites-view-file",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_SITES_VIEW_CODE",json_name:"set-sites-view-code",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_SITES_VIEW_CMS",json_name:"set-sites-view-cms",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_SITES_INSERTS_OVERLAY",json_name:"set-sites-inserts-overlay",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_BUZZ_INSERTS_PANEL",json_name:"set-buzz-inserts-panel",is_edit:!1,enabled:_(["mode_selection","cooper"]),handler:c.X,team:c.R},{code_name:"GO_TO_REPEATER_COMPONENT",json_name:"goto-repeater-component",is_edit:!1,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"CREATE_CMS_RICH_TEXT",json_name:"create-cms-rich-text",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"UNBIND_SELECTION",json_name:"unbind-cms-selection",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"UPDATE_CMS_TEXT_BINDING",json_name:"update-cms-text-binding",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"FOCUS_NEXT_SLIDE",json_name:"focus-next-slide",is_edit:!1,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"FOCUS_PREVIOUS_SLIDE",json_name:"focus-previous-slide",is_edit:!1,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"FOCUS_SLIDE_UP",json_name:"focus-slide-up",is_edit:!1,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"FOCUS_SLIDE_DOWN",json_name:"focus-slide-down",is_edit:!1,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"SKIP_SLIDE",json_name:"skip-slide",is_edit:!0,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"UNSKIP_SLIDE",json_name:"unskip-slide",is_edit:!0,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"SKIP_SLIDES",json_name:"skip-slides",is_edit:!0,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"UNSKIP_SLIDES",json_name:"unskip-slides",is_edit:!0,enabled:_(["mode_selection","slides","cooper"]),handler:c.X,team:c.R},{code_name:"ADD_SLIDE_OBJECT_ANIMATION",json_name:"add-slide-object-animation",is_edit:!0,enabled:_(["mode_selection","slides","cooper","property"]),handler:c.X,team:c.R},{code_name:"INSERT_SLIDE_NUMBERS_ALL_SLIDES",json_name:"insert-slide-numbers-all-slides",is_edit:!0,enabled:_(["slides"]),handler:c.X,team:c.R},{code_name:"FOCUS_NEXT_ASSET",json_name:"focus-next-asset",is_edit:!1,enabled:_(["mode_selection","cooper"]),handler:c.X,team:c.R},{code_name:"FOCUS_PREVIOUS_ASSET",json_name:"focus-previous-asset",is_edit:!1,enabled:_(["mode_selection","cooper"]),handler:c.X,team:c.R},{code_name:"SEND_TO_BUZZ_FROM_DESIGN",json_name:"send-to-buzz-from-design",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"SEND_SELECTION_TO_BUZZ_FROM_DESIGN",json_name:"send-selection-to-buzz-from-design",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"PASTE_SELECTION_INTO_BUZZ_FROM_DESIGN",json_name:"paste-selection-into-buzz-from-design",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"ADD_PLATFORM_SHAPE_DEFINITION",json_name:"add-platform-shape-definition",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"REMOVE_PLATFORM_SHAPE_DEFINITION",json_name:"remove-platform-shape-definition",is_edit:!0,enabled:_(["mode_selection","property"]),handler:c.X,team:c.R},{code_name:"OPEN_SHAPES_SIDEBAR",json_name:"open-shapes-sidebar",is_edit:!0,enabled:_(["figjam"]),handler:c.X,team:c.R},{code_name:"WHITEBOARD_GENERATE_CONTENT",json_name:"whiteboard-generate-content",is_edit:!0,enabled:_(["figjam"]),handler:c.X,team:c.R},{code_name:"SUMMARIZE_STICKIES",json_name:"summarize-stickies",is_edit:!0,enabled:_(["figjam","mode_selection"]),handler:c.X,team:c.R},{code_name:"SORT_STICKIES_BY_TOPIC",json_name:"sort-stickies-by-topic",is_edit:!0,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"SORT_STICKIES_BY_COLOR",json_name:"sort-stickies-by-color",is_edit:!0,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"SORT_STICKIES_BY_AUTHOR",json_name:"sort-stickies-by-author",is_edit:!0,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"SORT_STICKIES_BY_STAMP_COUNT",json_name:"sort-stickies-by-stamp-count",is_edit:!0,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"SORT_STICKIES_BY_STAMP_TYPE",json_name:"sort-stickies-by-stamp-type",is_edit:!0,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"MIND_MAP_GENERATE_IDEAS",json_name:"mind-map-generate-ideas",is_edit:!0,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"CREATE_IDEAS",json_name:"create-ideas",is_edit:!0,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"MERMAID_TO_DIAGRAM",json_name:"mermaid-to-diagram",is_edit:!0,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"AI_CHAT_DEPRECATED",json_name:"ai-chat-deprecated",is_edit:!1,enabled:_(["slides","cooper","sites"]),handler:c.X,team:c.R},{code_name:"START_AI_ASSISTANT",json_name:"start-ai-assistant",is_edit:!1,enabled:_(["mode_selection","figjam"]),handler:c.X,team:c.R},{code_name:"COPY_TO_FIGMA_SLIDES",json_name:"copy-to-figma-slides",is_edit:!0,enabled:_(["mode_selection"]),handler:c.X,team:c.R},{code_name:"IMAGE_TO_DESIGN",json_name:"image-to-design",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"IMAGE_TO_DESIGN_ORACLE",json_name:"image-to-design-oracle",is_edit:!0,enabled:_(["mode_selection","sites"]),handler:c.X,team:c.R},{code_name:"SET_CONSTRAINTS_AUTOMATICALLY",json_name:"set-constraints-automatically",is_edit:!1,enabled:_(["mode_selection_focus_mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_CONSTRAINTS_MANUALLY",json_name:"set-constraints-manually",is_edit:!1,enabled:_(["mode_selection_focus_mode","sites"]),handler:c.X,team:c.R},{code_name:"SET_CONSTRAINTS_AUTOMATICALLY_TOGGLE",json_name:"set-constraints-automatically-toggle",is_edit:!1,enabled:_(["mode_selection_focus_mode","sites"]),handler:c.X,team:c.R},{code_name:"TOGGLE_SMART_TEXT_SUBSTITUTION",json_name:"toggle-smart-text-substitution",is_edit:!1,enabled:_([]),handler:c.X,team:c.R},{code_name:"EXPORT_SLIDES_TO",json_name:"export-slides-to",is_edit:!1,enabled:_(["slides"]),handler:c.X,team:c.R},{code_name:"ENTER_STAGING_MODE",json_name:"enter-staging-mode",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"COMMIT_STAGED_CHANGES",json_name:"commit-staged-changes",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R},{code_name:"ROLLBACK_STAGED_CHANGES",json_name:"rollback-staged-changes",is_edit:!1,enabled:_(["feedback_and_history","figjam","slides","cooper","dev_handoff","variables_table","sites"]),handler:c.X,team:c.R}];class m{registerLegacyActions(){(0,n.q)().registerAll(u)}updateActionState(e){s.z.set(d,e)}}function h(){a=new m}},110845(e,t,i){let a;i.d(t,{SL:()=>a,Q1:()=>p});var s=i(297746),n=i(759231),o=i(577005),r=i.n(o),l=i(32186),d=i(726601),c=i(836848),_=i(939913),u=i(857376),m=i(762052);class h{constructor(e){this.store=e}closeAiAssistantCanvasPromptBox(){(0,_.Sz)()}processSelectionChangeForAiAssistant(e){var t;let i,a,s,o,r,l;i=n.zl.get(_.Em),a=0===(0,_.BE)().length,s=n.zl.get(_.SU),t=e,r=i||[],l=t||[],o=r.length===l.length&&r.every(e=>l.includes(e))?null:0===r.length&&0!==l.length?{type:"NONE_TO_SOME",prev:[],new:l}:r.length>0&&0===l.length?{type:"SOME_TO_NONE",prev:r,new:[]}:r.some(e=>l.includes(e))?{type:"OVERLAPPING_SELECTIONS",prev:r,new:l}:{type:"FULLY_NEW_SELECTION",prev:r,new:l},function(){if((0,_.UT)()&&o){if(a||s>0)return(0,_.Sz)();switch(o.type){case"NONE_TO_SOME":n.zl.set(_.SU,0);break;case"SOME_TO_NONE":if(a){(0,_.Sz)();break}n.zl.set(_.lp,o.prev),(0,_.wh)();break;case"OVERLAPPING_SELECTIONS":break;case"FULLY_NEW_SELECTION":n.zl.set(_.lp,o.prev),(0,_.wh)();break;default:(0,c.xb)(o.type)}}}(),n.zl.set(_.Em,e)}startAiAssistant(e){if((0,_.UT)())return;let t=this.store.getState(),i=!r()(t.mirror.sceneGraphSelection);l.az.trackDefinedEvent("ai_assistant.start",{hasSelection:i,source:e?"keyboard_shortcut":"quick_action"}),i?(0,_._C)():(t.leftPanel.activeTab!==s.xae.CHAT&&(n.zl.set(d.qA,e=>"idle"===e?"shouldCreate":e),n.zl.set(d.hM,null),this.store.dispatch((0,u.FP)({tab:s.xae.CHAT}))),setTimeout(()=>{let e=n.zl.get(m.oy);e&&e.focus()},50))}}function p(e){a=new h(e)}},434717(e,t,i){let a,s,n,o;i.d(t,{BF:()=>a,fh:()=>f,tO:()=>T});var r,l=i(207474),d=i(359731),c=i(383144),_=i(759231),u=i(194579),m=i(622179),h=i(886349),p=i(88869);let g={[p.PW.CODE_COMPONENT]:{idl:d.PWo.CODE_COMPONENT,key:(0,l.Sm)(""),version:(0,l.j6)("")}},f={[p.PW.CODE_COMPONENT]:{subscribed:(s=g[r=p.PW.CODE_COMPONENT].idl,n=(0,m.Wh)(()=>(0,_.eU)({})),(o=(0,_.FZ)(n,(e,t)=>{if("changed"in t){if(!(0,h.e)(r))return e;let i=t.changed;return{...e,...i.reduce((e,t)=>(e[t.key]={sourceLibraryKey:t.sourceLibraryKey,pagesByVersion:{...e[t.key]?.pagesByVersion,...function(e){let t={};for(let{version:i,consumingPages:a}of e)t[i]=a;return t}(t.pagesByVersion)}},e),{})}}return"reset"in t?{}:e})).debugLabel=`consumedAssetVersionsByKey(${d.PWo[s]})`,o.onMount=e=>{var t,i;let a=()=>{(0,h.e)(r)&&e({changed:c.IX?.getAllSubscribedAssetConsumptions(s)??[]})};u.Y5.isReady()?a():u.Y5.onReady().then(a);let n=(t=s,i=t=>{e(t)},E[t]=i,()=>{E[t]=null});return()=>{n(),e({reset:!0})}},o)}},E={[d.PWo.CODE_COMPONENT]:null};class b{syncChangedSubscribedConsumptions(e,t){E[e]?.({changed:t})}resetMirrorCache(){for(let e of Object.values(E))e?.({reset:!0})}}function T(){a=new b}},43901(e,t,i){let a;i.d(t,{Mk:()=>S,WY:()=>x,ki:()=>a});var s=i(359731),n=i(383144),o=i(759231),r=i(305194),l=i.n(r),d=i(153745),c=i(194579),_=i(622179),u=i(88869),m=i(193700),h=i(793315),p=i(948412),g=i(195560),f=i(95343),E=i(391029),b=i(816006),T=i(298070);u.PW.RESPONSIVE_SET,s.PWo.RESPONSIVE_SET,u.PW.CODE_LIBRARY,s.PWo.CODE_LIBRARY,u.PW.CODE_FILE,s.PWo.CODE_FILE,u.PW.CODE_COMPONENT,s.PWo.CODE_COMPONENT,u.PW.MANAGED_STRING,s.PWo.MANAGED_STRING,u.PW.VARIABLE,s.PWo.VARIABLE,u.PW.VARIABLE_SET,s.PWo.VARIABLE_SET,u.PW.VARIABLE_OVERRIDE,s.PWo.VARIABLE_OVERRIDE;let y={[s.PWo.RESPONSIVE_SET]:{[s.Ocq.LOCAL]:f.X1,[s.Ocq.SUBSCRIBED]:f._t},[s.PWo.CODE_LIBRARY]:{[s.Ocq.LOCAL]:p.V,[s.Ocq.SUBSCRIBED]:p.Q},[s.PWo.CODE_FILE]:{[s.Ocq.LOCAL]:h.y,[s.Ocq.SUBSCRIBED]:h.d},[s.PWo.CODE_COMPONENT]:{[s.Ocq.LOCAL]:m.rG,[s.Ocq.SUBSCRIBED]:m.Ir},[s.PWo.MANAGED_STRING]:{[s.Ocq.LOCAL]:g.f,[s.Ocq.SUBSCRIBED]:g.c},[s.PWo.VARIABLE]:{[s.Ocq.LOCAL]:E.n,[s.Ocq.SUBSCRIBED]:E.i},[s.PWo.VARIABLE_SET]:{[s.Ocq.LOCAL]:T.R,[s.Ocq.SUBSCRIBED]:T.u},[s.PWo.VARIABLE_OVERRIDE]:{[s.Ocq.LOCAL]:b.d,[s.Ocq.SUBSCRIBED]:b.Q}},S={[u.PW.RESPONSIVE_SET]:{local:R(s.PWo.RESPONSIVE_SET,s.Ocq.LOCAL),subscribed:R(s.PWo.RESPONSIVE_SET,s.Ocq.SUBSCRIBED)},[u.PW.CODE_LIBRARY]:{local:R(s.PWo.CODE_LIBRARY,s.Ocq.LOCAL),subscribed:R(s.PWo.CODE_LIBRARY,s.Ocq.SUBSCRIBED)},[u.PW.CODE_FILE]:{local:R(s.PWo.CODE_FILE,s.Ocq.LOCAL),subscribed:R(s.PWo.CODE_FILE,s.Ocq.SUBSCRIBED)},[u.PW.CODE_COMPONENT]:{local:R(s.PWo.CODE_COMPONENT,s.Ocq.LOCAL),subscribed:R(s.PWo.CODE_COMPONENT,s.Ocq.SUBSCRIBED)},[u.PW.MANAGED_STRING]:{local:R(s.PWo.MANAGED_STRING,s.Ocq.LOCAL),subscribed:R(s.PWo.MANAGED_STRING,s.Ocq.SUBSCRIBED)},[u.PW.VARIABLE]:{local:R(s.PWo.VARIABLE,s.Ocq.LOCAL),subscribed:R(s.PWo.VARIABLE,s.Ocq.SUBSCRIBED)},[u.PW.VARIABLE_SET]:{local:R(s.PWo.VARIABLE_SET,s.Ocq.LOCAL),subscribed:R(s.PWo.VARIABLE_SET,s.Ocq.SUBSCRIBED)},[u.PW.VARIABLE_OVERRIDE]:{local:R(s.PWo.VARIABLE_OVERRIDE,s.Ocq.LOCAL),subscribed:R(s.PWo.VARIABLE_OVERRIDE,s.Ocq.SUBSCRIBED)}};function R(e,t){let i=y[e][t],a=(0,_.Wh)(()=>(0,o.eU)({})),r=(0,o.FZ)(a,(e,t)=>{if("changed"in t){let i=t.changed;return{...e,...i.reduce((e,t)=>(e[t.assetId]=t,e),{})}}if("removed"in t){let i=new Set(t.removed);return l()(e,e=>e&&!i.has(e.assetId))}return"reset"in t?{}:e});return r.debugLabel=`assetByKeyAtom(${s.PWo[e]}, ${s.Ocq[t]})`,r.onMount=a=>{var s,o,r;let l=()=>{a({changed:(n.P5?.getAllAssets(e,t)??[]).map(i).filter(e=>null!==e)})};c.Y5.isReady()?l():c.Y5.onReady().then(l);let d=(s=e,o=t,r=e=>{a(e)},v[s][o]=r,()=>{v[s][o]=null});return()=>{d(),a({reset:!0})}},r}let v={[s.PWo.RESPONSIVE_SET]:{[s.Ocq.LOCAL]:null,[s.Ocq.SUBSCRIBED]:null},[s.PWo.CODE_LIBRARY]:{[s.Ocq.LOCAL]:null,[s.Ocq.SUBSCRIBED]:null},[s.PWo.CODE_FILE]:{[s.Ocq.LOCAL]:null,[s.Ocq.SUBSCRIBED]:null},[s.PWo.CODE_COMPONENT]:{[s.Ocq.LOCAL]:null,[s.Ocq.SUBSCRIBED]:null},[s.PWo.MANAGED_STRING]:{[s.Ocq.LOCAL]:null,[s.Ocq.SUBSCRIBED]:null},[s.PWo.VARIABLE]:{[s.Ocq.LOCAL]:null,[s.Ocq.SUBSCRIBED]:null},[s.PWo.VARIABLE_SET]:{[s.Ocq.LOCAL]:null,[s.Ocq.SUBSCRIBED]:null},[s.PWo.VARIABLE_OVERRIDE]:{[s.Ocq.LOCAL]:null,[s.Ocq.SUBSCRIBED]:null}};class I{syncAddedOrChangedAssets(e,t,i){if(t===s.Ocq.SUBSCRIBED){let a=y[e]?.[s.Ocq.SUBSCRIBED];if(!a)return void(0,d.x1)("design-systems",`No parser found for ${e} and ${t}`);v[e]?.[s.Ocq.SUBSCRIBED]?.({changed:i.map(a).filter(e=>null!==e)})}else if(t===s.Ocq.LOCAL){let a=y[e]?.[s.Ocq.LOCAL];if(!a)return void(0,d.x1)("design-systems",`No parser found for ${e} and ${t}`);v[e]?.[s.Ocq.LOCAL]?.({changed:i.map(a).filter(e=>null!==e)})}else(0,d.x1)("design-systems",`Invalid subscription status for AssetMirror: ${t}`)}syncRemovedAssets(e,t,i){v[e]?.[t]?.({removed:i})}resetMirrorCache(){for(let e of Object.values(v))for(let t of Object.values(e))t?.({reset:!0})}}function x(){a=new I}},937811(e,t,i){let a;i.d(t,{X:()=>a,z4:()=>c});var s=i(297746),n=i(414072),o=i(153745),r=i(118836),l=i(282245);class d{readyToAcceptAutosaveChanges(){return!!(0,r.ZG)()?.session()?.readyToAcceptChanges()}hasOngoingCommitTask(){return!!(0,r.ZG)()?.session()?.hasOngoingCommitTask()}async enqueueAutosaveCommit(e,t,i,a,n,o){let d=(0,r.ZG)();if(!d)return(0,l.W6)("AutosaveManager should not be null when committing"),!0;let c=d.session();if(!c)return!0;if(!s.h3O)throw Error("Multiplayer bindings is not available");return await c.enqueueAutosaveCommit({changes:e,commitPolicy:t,fileVersion:i,fileKey:a,newSessionID:s.h3O.currentSessionID(),numberOfUncleanRegisters:n,reason:o}),!0}createAutosaveManager(e){let t=n.D.getState().user;t?(0,r.mu)(e,t.id):(0,o.Lo)("Autosave","Not creating manager for logged out user")}destroyAutosaveManager(){(0,r.t)()}isConnected(){return(0,r.ZG)()?.managerState==="connected"}}function c(){a=new d}},394527(e,t,i){let a;i.d(t,{$W:()=>w,z5:()=>a});var s,n,o=i(451547),r=i(295870),l=i(297746),d=i(417675),c=i(74372),_=i(32186),u=i(414072),m=i(184634),h=i(4257),p=i(459270),g=i(857187),f=i(2227),E=i(466082);async function b(e,t=1){let a=(0,E.UN)(),s=e.findContainingTopLevelNodeWithWidthConstraint(2e3);s===f.AD&&(s=e.findContainingTopLevelFrameOrSelf());let n=e&&a.get(s);if(!n)return;let o=0,r=null;try{let t=await Promise.all([i.e("6717"),i.e("8396")]).then(i.bind(i,277596));r=(await t.serializeJSX(n,{includeIDs:!0,excludeImageData:!0,excludeVectorData:!0,includeNames:!0,ignoreFetchingComponentData:!0,filterFunction:e=>(o++,e.visible),ignoreComponentProps:!0,focusNodeId:e.guid,excludeEmptyContainers:!0,maxSerializeNodes:100,maxSerializeTimeMs:100,includeNodeTypes:["TEXT","FRAME","GROUP","INSTANCE","SYMBOL"],fieldGroups:["layout","text"],fieldGroupFilters:{layout:["x","y","width","height","flex"],text:["fontSize","textDecoration"]},maxNodeswithFields:30,strict:!1,includeInstanceSublayers:!0,ignoreDeveloperFriendlyIds:!0,forceAbsolutePosition:!0,flattenTextContent:!0,truncateFlattenedTextContent:1e3,useDivTagsForFrames:!0})).jsxStr}catch(e){console.error("Failed to serialize JSX:",e)}let l=r?y(r,e.guid,t):void 0;return{jsx:l?T(l):void 0,expData:{numSerializedNodes:o,maxSerializeNodes:100,maxNodesWithFields:30}}}(s=n||(n={}))[s.STARTER=1]="STARTER",s[s.STARTING_CHAR=2]="STARTING_CHAR";let T=e=>e.replace(/\n\s*/g," ").trim(),y=(e,t,i)=>{let a;switch(i){case 1:case 2:if(a=e?.replace(RegExp('\\sid="([^"]+)"',"g"),(e,i)=>i===t?e:"")?.replace(RegExp(`<Text([^>]*)id="${t}"([^>]*?)(?:/>|>([\\s\\S]*?)</Text>)`,"g"),(e,i,a)=>{let s=a.replace(/\sname="\{?[^"}]*\}?"/,"");return`<Text${i}id="${t}"${s.trimEnd()} />`})?.replace(RegExp(`(<\\/?)${g.FE}(\\w+)`,"g"),(e,t,i)=>`${t}${i}`),!a?.includes(`id="${t}"`))return void console.error("Failed to find target node in JSX")}return a};var S=i(195930),R=i(499722);let v=["## CONTEXT","## TASK","## OUTPUT","## GUIDELINES","{CURSOR}"],I=["seasoned UX writer","assisting a UX designer","JSX representation","suggest copy","single suggestion","multiple suggestions","target node","contextual clues","final design iteration","generate text","visual hierarchy","textual consistency","completing their unfinished designs"];async function x(e,t,i,a){var s;let o=(0,E.UN)().get(e);if(!o)return;let r=Date.now(),l=await b(o,i),d=Date.now();if(!l||!l.jsx)return;let c=a||"",u=i===n.STARTING_CHAR?o.characters:"",m=await A(l.jsx,t,e,i,c,u),h=Date.now(),p=(s=m.suggestions,s.forEach(t=>{let i=function(e,t){let i=[],a=[];for(let i of(t&&e.includes(t)&&a.push("nodeId"),v))e.includes(i)&&a.push(i);for(let t of I)e.includes(t)&&i.push(t);let s=!a.length,n=i.length<2;return{pass:s&&n,hardStrikes:a,softStrikes:i}}(t,e);if(!i.pass)return _.az.trackDefinedEvent("autosuggest_text.warning",{description:"Basic leak check failed",num_existing_chars:c.length,num_existing_words:c.split(" ").length,num_suggested_chars:t.length,num_suggested_words:t.split(" ").length,hard_strikes:i.hardStrikes.join(", "),soft_strikes:i.softStrikes.join(", ")}),[]}),s.map(e=>{var t,i,a;let s,n,o,r,l=(t=e,s="(Frame|Text|Span|Group)",n=RegExp(`<\\b${s}\\b(\\s+[^>]*)?>`,"g"),o=RegExp(`</\\b${s}\\b>`,"g"),r=RegExp(`<\\b${s}\\b(\\s+[^>]*)*/?>`,"g"),t.replace(/\{CURSOR\}/g,"").replace(/\{BREAK\}/g,"").replace(n,"").replace(o,"").replace(r,"").replace(/{\s*`([^`]*)`\s*}/g,"$1").replace(/\s+/g," ").replace(/^`|`$/g,"").replace(/'/g,"\u2019").trim());return(l===c&&_.az.trackDefinedEvent("autosuggest_text.suggestion_same_as_existing",{suggestion_length:e.length}),u&&(i=l,a=u,l=i&&a&&i.toLowerCase().startsWith(a.toLowerCase())?a+i.substring(a.length):i),l===c)?"":l}).filter(e=>""!==e));return _.az.trackDefinedMetric("autosuggest_text.serialization_latency",{serialization_latency_ms:d-r}),_.az.trackDefinedMetric("autosuggest_text.token_reduction_exp_info",{numSerializedNodes:l.expData.numSerializedNodes,maxSerializeNodes:l.expData.maxSerializeNodes,maxNodesWithFields:l.expData.maxNodesWithFields}),{rawText:m.suggestions,text:p,inputTokens:m.usage.promptTokens,serializationLatencyMs:d-r,requestLatencyMs:h-d}}async function A(e,t,i,a,s,n){let{suggestions:o,usage:r}=await S.Ay.shared.autosuggestText({jsx:e,nodeId:i,suggestionType:a,existingText:s,startingChar:n},{...(0,R.Ay)(),clientLifecycleId:t});return{suggestions:o,usage:r}}let O="text-suggestions-dismiss-count";class N{generateRequestId(){return(0,c.g)()}generateSessionId(){return(0,c.g)()}async getSuggestion(e,t,i,a){let s;try{s=await x(e,t,i,a)}catch(e){e instanceof o.Yh&&!(e instanceof o.M_)&&(0,m.$D)(r.FigmaTeam.EXPRESSIVE_AI,e)}return{text:s?.text,inputTokens:s?.inputTokens,serializationLatencyMs:s?.serializationLatencyMs,requestLatencyMs:s?.requestLatencyMs}}onExplicitDismiss(e){let t=C()+1;t<50?localStorage.setItem(O,t.toString()):(u.D.dispatch(h.F.enqueue({type:"text-suggestion-nudge",message:(0,d.t)("fullscreen.text_suggestion_nudge_message"),icon:p.zX.SPARKLE,button:{text:(0,d.t)("fullscreen.text_suggestion_nudge_turn_off"),action:()=>{l.glU?.triggerActionEnum(l.rcl.TOGGLE_TEXT_SUGGESTIONS_PREFERENCE,{})}}})),(0,_.sx)("autosuggest_text.preference_nudge_shown",{sessionId:e}),L(e))}onFullOrPartialAccept(e){L(e)}}function C(){let e=Number(localStorage.getItem(O)??"0");return isNaN(e)?0:e}function L(e){let t=C();localStorage.removeItem(O),t>0&&(0,_.sx)("autosuggest_text.dismiss_count_reset",{sessionId:e,dismiss_count:t})}function w(){a=new N}},194579(e,t,i){let a,s,n,o;i.d(t,{$q:()=>g,BI:()=>s,QT:()=>E,Vv:()=>p,XT:()=>d,Y5:()=>a,ZP:()=>m,Zi:()=>h,_W:()=>_,fT:()=>u,lQ:()=>r,r1:()=>f,s$:()=>l,uF:()=>c,w8:()=>n});let r=new Promise(e=>{o=e});function l(e){a=e,window._fullscreen_=a,o()}function d(e){s=e}function c(e){_=e}let _=null;function u(e){m=e}let m=null;function h(e){p=e}let p=null;function g(e){f=e}let f=null;function E(e){n=e}},145938(e,t,i){let a;i.d(t,{AG:()=>a,KQ:()=>n});var s=i(390862);function n(){a=new o}class o{didGetBuzzApprovalStatusChange(){(0,s.S)()}}},422762(e,t,i){i.d(t,{X:()=>c,d:()=>l});var a=i(16233),s=i(417675),n=i(206962),o=i(194579),r=i(531392);function l(){if(!a.u7)throw Error("AppStateUiTsApi bindings is not available");return a.u7.canvasViewState()}let d=[{getObservable:()=>l().showOutlines,getMessage:e=>e?(0,n.nX)()?{message:(0,s.t)("visual_bell.show_outlines_visible"),button:{text:(0,s.t)("visual_bell.cancel"),action:e=>{e.stopPropagation(),o.Y5.triggerAction("toggle-outlines")}}}:{message:(0,s.t)("visual_bell.show_outlines_visible")}:{message:(0,s.t)("visual_bell.show_outlines_hidden")}},{getObservable:()=>l().showOutlineHiddenLayers,getMessage:e=>({message:e?(0,s.t)("visual_bell.outlines_show_hidden_layers"):(0,s.t)("visual_bell.outlines_hide_hidden_layers")})},{getObservable:()=>l().showOutlineObjectBounds,getMessage:e=>({message:e?(0,s.t)("visual_bell.outlines_show_object_bounds"):(0,s.t)("visual_bell.outlines_hide_object_bounds")})},{getObservable:()=>l().showFrameGridsViewOnly,getMessage:e=>({message:e?(0,s.t)("visual_bell.show_frame_guides_visible"):(0,s.t)("visual_bell.show_frame_guides_hidden")})}];function c(){(0,r.Mo)(d)}},562240(e,t,i){i.d(t,{P:()=>eT});var a=i(568749),s=i(941610);i(235933),i(733277),i(779277),i(28390),i(521353),i(401143),i(100584),i(933701),i(647340),i(399440),i(345548),i(247447),i(993827),i(382756),i(690252);var n=i(359731);let o=a.z5.parse("#282A36"),r=a.z5.parse("#F8F8F2"),l=a.z5.parse("#AEAFAD"),d=a.z5.parse("#999"),c=a.z5.parse("#6272A4"),_=a.z5.parse("#8BE9FD"),u=a.z5.parse("#50FA7B"),m=a.z5.parse("#FFB86C"),h=a.z5.parse("#FF79C6"),p=a.z5.parse("#BD93F9"),g=a.z5.parse("#FF5555"),f=a.z5.parse("#F1FA8C"),E={backgroundColor:o,defaultColor:r,cursorColor:l,lineNumberColor:d,tokenColors:{atrule:u,attrName:u,attrValue:f,boolean:p,builtin:_,className:_,comment:c,constant:m,entity:h,function:u,important:h,keyword:h,number:p,operator:_,property:m,punctuation:r,regex:g,selector:h,string:f,symbol:m,tag:h,url:_,variable:c}},b=a.z5.parse("#322d29"),T=a.z5.parse("#88786d"),y=a.z5.parse("#bfa05a"),S=a.z5.parse("#ffdac2"),R=a.z5.parse("#bd987f"),v=a.z5.parse("#fcc440"),I={defaultColor:R,backgroundColor:b,lineNumberColor:T,cursorColor:R,tokenColors:{comment:T,prolog:T,doctype:T,cdata:T,punctuation:a.z5.parse("#da70d6"),namespace:{...R,a:.7},tag:y,operator:y,property:R,function:S,"tag-id":S,selector:S,"atrule-id":S,"attr-name":R,boolean:v,number:v,string:v,entity:v,url:v,"attr-value":v,keyword:v,control:v,directive:v,unit:v,statement:v,regex:v,atrule:v,placeholder:v,variable:v,important:R}},x=a.z5.parse("#2a2d2a"),A=a.z5.parse("#a1b5a2"),O=a.z5.parse("#535f53"),N=a.z5.parse("#a2b34d"),C=a.z5.parse("#f0fff0"),L=a.z5.parse("#b3d6b3"),w=a.z5.parse("#e5fb79"),D={defaultColor:A,backgroundColor:x,lineNumberColor:O,cursorColor:A,tokenColors:{comment:O,prolog:O,doctype:O,cdata:O,punctuation:N,namespace:{...A,a:.7},tag:N,operator:N,number:N,property:A,function:L,"tag-id":C,selector:C,"atrule-id":C,"attr-name":L,boolean:w,string:w,entity:w,url:w,"attr-value":w,keyword:w,control:w,directive:w,unit:w,statement:w,regex:w,atrule:w,placeholder:w,variable:w,important:L}},j=a.z5.parse("#faf8f5"),k=a.z5.parse("#728fcb"),M=a.z5.parse("#063289"),P=a.z5.parse("#93abdc"),F=a.z5.parse("#cdc4b1"),U=a.z5.parse("#b6ad9a"),G=a.z5.parse("#b29762"),B=a.z5.parse("#2d2006"),V=a.z5.parse("#896724"),X={defaultColor:V,backgroundColor:j,lineNumberColor:F,cursorColor:k,tokenColors:{comment:U,prolog:U,doctype:U,cdata:U,punctuation:U,namespace:{...k,a:.7},tag:M,operator:M,number:M,property:G,function:G,"tag-id":B,selector:B,"atrule-id":B,"attr-name":V,boolean:k,string:k,entity:k,url:k,"attr-value":k,keyword:k,control:k,directive:k,unit:k,statement:k,regex:k,atrule:k,placeholder:P,variable:P,important:V}},H=a.z5.parse("#1d262f"),z=a.z5.parse("#57718e"),W=a.z5.parse("#4a5f78"),K=a.z5.parse("#88b4e7"),$=a.z5.parse("#0aa370"),q=a.z5.parse("#ebf4ff"),Y=a.z5.parse("#7eb6f6"),Z=a.z5.parse("#47ebb4"),Q={defaultColor:K,backgroundColor:H,lineNumberColor:W,cursorColor:z,tokenColors:{comment:W,prolog:W,doctype:W,cdata:W,punctuation:a.z5.parse("#f3cd12"),namespace:{...z,a:.7},tag:$,operator:$,property:K,function:q,"tag-id":q,selector:q,"atrule-id":q,"attr-name":Y,boolean:Z,number:Z,string:Z,entity:Z,url:Z,"attr-value":Z,keyword:Z,control:Z,directive:Z,unit:Z,statement:Z,regex:Z,atrule:Z,placeholder:Z,variable:Z,important:Y}},J=a.z5.parse("#24242e"),ee=a.z5.parse("#8686cb"),et=a.z5.parse("#5b5b76"),ei=a.z5.parse("#dd672c"),ea=a.z5.parse("#ebebff"),es=a.z5.parse("#aaaaca"),en=a.z5.parse("#fe8c52"),eo={defaultColor:ee,backgroundColor:J,lineNumberColor:et,cursorColor:ee,tokenColors:{comment:et,prolog:et,doctype:et,cdata:et,punctuation:et,namespace:{...ee,a:.7},tag:ei,operator:ei,number:ei,property:es,function:es,"tag-id":ea,selector:ea,"atrule-id":ea,"attr-name":es,boolean:en,string:en,entity:en,url:en,"attr-value":en,keyword:en,control:en,directive:en,unit:en,statement:en,regex:en,atrule:en,placeholder:en,variable:en,important:es}},er=a.z5.parse("#9A93AE"),el=a.z5.parse("#ED4F62"),ed=a.z5.parse("#EB8559"),ec=a.z5.parse("#F8D41C"),e_=a.z5.parse("#53E37C"),eu=a.z5.parse("#1BCDF4"),em=a.z5.parse("#C3AAFF"),eh=a.z5.parse("#FFFFFF"),ep={defaultColor:eh,backgroundColor:a.z5.parse("#2F2746"),lineNumberColor:{...eh,a:.5},cursorColor:eh,tokenColors:{comment:er,prolog:er,doctype:er,cdata:er,variable:el,constant:el,tag:el,selector:el,regexp:el,deleted:el,important:el,builtin:ed,url:ed,number:ec,property:ec,"attr-name":ec,"literal-property":ec,string:e_,"string-property":e_,char:e_,symbol:e_,inserted:ed,title:eu,section:eu,params:eu,parameter:eu,function:eu,"class-name":eu,keyword:em,"selector-tag":em,atrule:em,"attr-value":em,punctuation:eh,namespace:eh,operator:eh,entity:eh,"attr-equals":eh,decorator:eh,"generic-function":eh,generic:eh,"raw-string":e_,directive:eu,macro:eh,"macro-name":eh,"directive-hash":eh,expression:eh,module:eh,"double-colon":eh,"base-clause":eh,"method-definition":eu,interpolation:eh,delimiter:eh,spread:eh,"special-attr":eh,script:eh,"language-javascript":eh,"script-punctuation":eh,boolean:em,null:em,scalar:el,"property-query":ec,"definition-query":eu,"definition-mutation":eu,fragment:eu,description:eh,"atom-input":eh,object:eh,"triple-quoted-string":e_,label:e_,annotation:ed}};function eg(e){switch(e){case n._3L.FIGJAM_DARK:return ep;case n._3L.DUOTONE_LIGHT:return X;case n._3L.DUOTONE_SEA:return Q;case n._3L.DUOTONE_SPACE:return eo;case n._3L.DUOTONE_FOREST:return D;case n._3L.DUOTONE_EARTH:return I;case n._3L.DRACULA:return E}}let ef="token",eE=new Set(["tsx","cpp","ruby","css","jsx","markup","json","graphql","python","go","sql","swift","kotlin","rust","bash","plaintext"]);function eb(e,t){if(0===e.length)return void e.push(t);let i=e[e.length-1];if(i.color===t.color&&i.endIndex===t.startIndex){i.endIndex=Math.max(i.endIndex,t.endIndex);return}e.push(t)}let eT=new class{getParsedCodeTokens(e,t,i){return function(e,t,i){let n="";switch(t){case"typescript":t="tsx";break;case"javascript":t="jsx";break;case"html":t="markup"}n=eE.has(t)?s.highlight(e,s.languages[t],t):s.highlight(e,s.languages.tsx,"tsx");let o=[],r=new DOMParser().parseFromString(`<span id="code">${n}</span>`,"text/html"),l=[],d=eg(i),c=(e,t)=>{let{nodeType:i}=e;if(i===Node.TEXT_NODE){let i=[...e.textContent??""];1===t&&eb(o,{startIndex:l.length,endIndex:l.length+i.length,color:a.Nv.format(d.defaultColor),isItalic:!1}),l.push(...i);return}let s=[...e.innerText??e.textContent];if(e.classList.contains(ef))for(let t of e.classList)t!==ef&&eb(o,{startIndex:l.length,endIndex:l.length+s.length,color:a.Nv.format(d.tokenColors[t]||d.defaultColor),isItalic:"comment"===t});for(let i of e.childNodes)c(i,t+1)};return c(r.getElementById("code"),0),o}(e,t,i)}getBackgroundColor(e){return a.Nv.format(eg(e).backgroundColor)}getLineNumberColor(e){return a.Nv.format(eg(e).lineNumberColor)}getCursorColor(e){return a.Nv.format(eg(e).cursorColor)}}},156309(e,t,i){i.d(t,{f:()=>n});var a=i(25378),s=i(153745);let n=new class{getObjectPath(e){let t=(0,a.N)(),i=t.getEntryByGUID(e);return i?t.getObjectPath(i)??"":((0,s.x1)("code-vfs","No VFS entry found for Node",{guid:e}),"")}}},898545(e,t,i){i.d(t,{q:()=>l});var a=i(979379),s=i(469592),n=i(153745),o=i(212828),r=i(551613);let l=new class{constructor(){this.onFrameCb=null,this.switchWebglColorSpace=(e,t)=>{let i=e.drawingBufferColorSpace;switch(t){case a.RY.SRGB:if("srgb"===i)return;e.drawingBufferColorSpace="srgb",e.unpackColorSpace&&(e.unpackColorSpace="srgb"),r.l.setCanvasColorProfile(a.RY.SRGB);break;case a.RY.DISPLAY_P3:if("display-p3"===i)return;e.drawingBufferColorSpace="display-p3",e.unpackColorSpace&&(e.unpackColorSpace="display-p3"),r.l.setCanvasColorProfile(a.RY.DISPLAY_P3);break;default:(0,n.x1)("color management","unsupported color space",{targetColorSpace:t})}}}onFrame(){(0,o.L)(s.B3,o.K.DEFAULT,()=>{this.onFrameCb&&this.onFrameCb()})}queueSwitchWebglColorSpace(e,t,i,a){let s=()=>{this.switchWebglColorSpace(e,t),a&&a.invalidateCanvas()};"mirror"===i?s():this.onFrameCb=s}}},202364(e,t,i){let a;i.d(t,{C5:()=>a,YL:()=>r});var s=i(522645),n=i(294511);class o{calculateColorWithRampValue(e,t){let i=(0,n.jA)((0,s.aH)(e),t);return i?(0,s.oU)(i):null}calculateColorWithRelativeAdjustment(e,t){let i=(0,n.Hd)((0,s.aH)(e),t);return i?(0,s.oU)(i):null}getRampValueForColor(e){return(0,n.Wn)((0,s.aH)(e))}}function r(){a=new o}},452135(e,t,i){let a;i.d(t,{MD:()=>d,c8:()=>a});var s=i(759231),n=i(331056),o=i(945013),r=i(372405);class l{getInstanceSwapPickerTab(){let e=s.zl.get(r.R);if(!e)return null;let t=s.zl.get(o._S);return(0,n.Z4)(e,t)}}function d(){a=new l}},533064(e,t,i){let a;i.d(t,{Tl:()=>a,pH:()=>c});var s=i(270450),n=i(834825),o=i.n(n),r=i(930501),l=i(819064);class d{constructor(e){this.store=e}trackComponentAction(e,t,i){let a=this.state.openFile,n=a?.key,d=!!this.state.user;if(null==a||null==n||!d)return;let c=a.editorType;if(c===r._Y.SLIDES||c===r._Y.FIGMAKE||(0,s.getFeatureFlags)().dsa_restrict_actions_to_design&&!this.isInDesignFile())return;let _=Object.entries(t).map(([e,t])=>({key:e,count:t}));for(let t of o()(_,5e3))try{l.PT.recordComponentAction({action:e,action_source:i,fileKey:n,components:t})}catch(e){}}trackStyleAction(e,t,i){let a=!!this.state.user;if(!this.isInDesignFile()||!a)return;let s=[];for(let[e,i]of Object.entries(t))s.push({key:e,count:i});if(0!==s.length)try{l.PT.recordStylesAction({action:e,action_source:i,fileKey:this.state.openFile?.key,styles:s})}catch(e){}}trackVariableAction(e,t,i){let a=!!this.state.user;if(!this.isInDesignFile()||!a)return;let s=[];for(let[e,i]of Object.entries(t))s.push({key:e,count:i});if(0!==s.length)try{l.PT.recordVariablesAction({action:e,action_source:i,fileKey:this.state.openFile?.key,variables:s})}catch(e){}}isInDesignFile(){let e=this.state.openFile,t=e?.key;return null!=e&&null!=t&&e.editorType===r._Y.DESIGN}get state(){if(!this.store)throw Error("Calling _state without a valid store");return this.store.getState()}}function c(e){a=new d(e)}},154929(e,t,i){let a;i.d(t,{xo:()=>a,zs:()=>r}),i(575015);var s=i(245694);i(4257);var n=i(295549);class o{constructor(e){this.store=e,this.commentNotificationLogTimePerFile={},this.COMMENT_NOTIFICATION_LOG_INTERVAL_MS=36e5}showErrorBellInLocalDev(e){}onMissingEditScope(){this.showErrorBellInLocalDev("No edit scope is active")}onIntentionalEdit(e){this.maybeSubscribeToCommentNotifications(e)}resetCommentNotificationLogTimes(){this.commentNotificationLogTimePerFile={}}maybeSubscribeToCommentNotifications(e){let t=this.store.getState(),i=t.openFile?.key;if(!i||"fullscreen"===t.selectedView.view&&t.selectedView.editorType===n.nT.DevHandoff)return;let a=this.commentNotificationLogTimePerFile[i],o=Date.now();if(null!=a&&o-a<this.COMMENT_NOTIFICATION_LOG_INTERVAL_MS)return;let r=Array.from(e).find(e=>{if(e.includes("StampBehavior"))return!1;switch(e){case"set-visible":case"set-locked":case"cut":case"select-frame-preset":case"update-selection-export-settings-data":case"reorder-pages":return!1;default:return!0}});r&&(s.Ay.post(`/api/user_notifications/catfile_signup/${i}`,{action_type:r}),this.commentNotificationLogTimePerFile[i]=o)}}function r(e){a=new o(e)}},744328(e,t,i){let a;i.d(t,{Zc:()=>a,jx:()=>n});class s{constructor(e){this._store=e}get _state(){if(!this._store)throw Error("Calling _state without a valid store");return this._store.getState()}isInOrg(){return!!this._state.currentUserOrgId}}function n(e){a=new s(e)}},515782(e,t,i){i.d(t,{P:()=>o});var a=i(836848),s=i(297746),n=i(417675);function o(e){switch(e){case s.h62.MIRO:return(0,n.t)("fullscreen.file_import.import_miro_pdf_failed");case s.h62.MURAL:return(0,n.t)("fullscreen.file_import.import_mural_pdf_failed");case s.h62.LUCID:return(0,n.t)("fullscreen.file_import.import_lucid_pdf_failed");case s.h62.JAMBOARD:return(0,n.t)("fullscreen.file_import.import_jamboard_pdf_failed");case s.h62.UNKNOWN:return(0,n.t)("fullscreen.file_import.import_unknown_pdf_failed");default:(0,a.xb)(e)}}},792474(e,t,i){i.d(t,{E8:()=>u,HW:()=>c});var a=i(572827),s=i(153745),n=i(800201);let o="image/png";async function r(e){return new Uint8Array(await e.arrayBuffer())}async function l(e){if(!e.startsWith("blob:"))return null;let t=await fetch(e);return t.ok?t.blob():null}async function d(e,t,i){let a=await r(e);if(e.type!==o)return(0,s.x1)("pdf","PDF image type was: '"+e.type+"', expected "+o),null;let l=(await n.EC.decodeAsync(a,e.type,t,i,!1)).rgba;return l?n.EC.encodeInPlace(t,i,l,!1,1,!1):((0,s.x1)("pdf","Decoded PDF image returned no rgba data."),null)}function c(e,t){let i=new Map;return t.forEach(({nodeId:e,imageHash:t})=>{i.has(t)||i.set(t,[]),i.get(t)?.push(e)}),e.map(e=>({...e,nodeIds:i.get(e.sha1Hash)??[]}))}async function _(e){let t=e.href.baseVal,i=await l(t);if(!i)return null;let s=e.width.baseVal.value,n=e.height.baseVal.value,o=await d(i,s,n);if(!o)throw Error("Couldn't compress!!");let r=(0,a.Et)(o);e.removeAttribute("href"),e.removeAttribute("xlink:href"),e.setAttribute("imageHash",r);let c=(0,a.aD)(r);return{name:"Image",bytes:o,sha1Hash:r,sha1Bytes:c}}async function u(e){let t=Array.from(e.querySelectorAll("image"));return(await Promise.all(t.map(_))).reduce((e,t)=>null!==t?{...e,images:[...e.images,t]}:{...e,hadImageError:!0},{images:[],hadImageError:!1})}},359009(e,t,i){i.d(t,{r:()=>l});var a=i(898860),s=i(153745),n=i(893084),o=i(949645);let r="#000000";async function l(e,t,i){let l,d=await (0,n.eg)(),c=new d.SVGGraphics(e.commonObjs,e.objs);function _(e){let t=e.message;return t.startsWith("Unknown RadialAxial type")||t.startsWith("Unknown IR type")||"Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'."===t}[{functionName:c.setStrokeColorN.name,isErrorOfInterest:_,callOnFailure:()=>{c.current.setStrokeColorN=r,(0,s.Lo)("pdf",`Unsupported stroke, using: ${r}`,void 0,{logToConsole:a.NU.ALWAYS})}},{functionName:c.setFillColorN.name,isErrorOfInterest:_,callOnFailure:()=>{c.current.setFillColorN=r,(0,s.Lo)("pdf",`Unsupported fill, using: ${r}`,void 0,{logToConsole:a.NU.ALWAYS})}},{functionName:c.paintInlineImageXObject.name,isErrorOfInterest:e=>"invalid format"===e.message,callOnFailure:()=>{(0,s.Lo)("pdf","Unsupported image",void 0,{logToConsole:a.NU.ALWAYS})}},{functionName:c.addFontStyle.name,isErrorOfInterest:e=>e.message.startsWith("addFontStyle: No font data available"),callOnFailure:()=>{(0,s.Lo)("pdf","Unsupported font",void 0,{logToConsole:a.NU.ALWAYS})}}].forEach(e=>{!function(e,t){let{functionName:i,isErrorOfInterest:a,callOnFailure:s}=t,n=e[i].bind(e);e[i]=(...e)=>{try{n(...e)}catch(e){if(a(e))s();else throw e}}}(c,e)});let u=await e.getOperatorList(),m=new Set;if(u.fnArray.forEach((e,t)=>{if(e===d.OPS.setFont){var a;let e=u.argsArray[t][0],s=c.commonObjs.get(e);if(!s?.name)return;l=(0,o.Y)(s.name),i.findFontIdsToBold&&(a=s.name,/(bold|700)/i.test(a))&&m.add(s.loadedName)}e===d.OPS.showText&&u.argsArray[t][0].forEach(e=>{"object"==typeof e&&("\0"!==e.unicode?e.fontChar=e.unicode:l?.[e.originalCharCode]?e.fontChar=l[e.originalCharCode]:e.fontChar="\u25A1"," "===e.fontChar&&(e.isInFont=!0))})}),!i.preserveClipPaths){let e=e=>e!==d.OPS.clip&&e!==d.OPS.eoClip;u.argsArray=u.argsArray.filter((t,i)=>e(u.fnArray[i])),u.fnArray=u.fnArray.filter(t=>e(t))}return{svgElement:await c.getSVG(u,t),additionalData:{fontIdsToBold:m}}}},720237(e,t,i){i.d(t,{u:()=>p});var a=i(297746),s=i(571896),n=i(228695);let o={name:"removeInvisibleElements",fn:()=>({element:{exit:(e,t)=>{(0,s.Q)(e),"path"!==e.name||e.attributes.fill&&"none"!==e.attributes.fill||e.attributes.stroke&&"none"!==e.attributes.stroke||(0,s.L)(e,t)}}})},r={name:"removeTSpanGlyphPositions",fn:()=>({element:{enter:(e,t)=>{"tspan"===e.name&&e.attributes.x&&e.attributes.x.startsWith("0 ")&&delete e.attributes.x}}})},l={name:"combineOutlineAndFill",fn:()=>({element:{enter:e=>{let t=e.children.reduce((e,t)=>{if("element"===t.type&&"path"===t.name){let i=t.attributes.d||"";e[i]??=[],e[i].push(t)}return e},{}),i=new Set;Object.values(t).forEach(e=>{if(e.length>1){let t={};e.forEach((e,a)=>{Object.entries(e.attributes).forEach(([e,i])=>{i&&"none"!==i&&(t[e]=i)}),a>0&&i.add(e)}),e[0].attributes=t}}),i.size>0&&(e.children=e.children.filter(e=>!i.has(e)))}}})},d={name:"combineLucidGroupedOutlineAndFill",fn:()=>({element:{enter:e=>{if("element"!==e.type||"g"!==e.name)return;let t=e.children.reduce((e,t)=>{if("element"===t.type&&"g"===t.name){let i=t.children[0];if(i&&"element"===i.type&&"path"===i.name){let a=JSON.stringify([t.attributes.transform,i.attributes.d]);e[a]??=[],e[a].push(t)}}return e},{}),i=new Set;Object.values(t).forEach(e=>{if(e.length>1){let t={};e.forEach((e,a)=>{Object.entries(e.children[0].attributes).forEach(([e,i])=>{i&&"none"!==i&&(t[e]=i)}),a>0&&i.add(e)}),e[0].children[0].attributes=t}}),i.size>0&&(e.children=e.children.filter(e=>!i.has(e)))}}})},c={name:"replaceRectGradientFillsWithLastStopColor",fn:()=>{let e={};return{element:{enter:t=>{if("linearGradient"===t.name){let i=t.children[t.children.length-1];if(i&&"element"===i.type&&"stop"===i.name){let a=i.attributes["stop-color"];a&&(e["#"+t.attributes.id]=a)}}else if("rect"===t.name&&t.attributes.fill){let i=(e=>{let t=/url\((.+)\)/.exec(e);if(!t)return;let i=t[1];return"'\"".includes(i[0])?i.slice(1,-1):i})(t.attributes.fill);i&&e.hasOwnProperty(i)&&(t.attributes.fill=e[i])}}}}}},_={name:"addWhitespaceToTspans",fn:()=>({element:{enter:e=>{"tspan"===e.name&&(e.attributes["white-space"]="pre")}}})},u={name:"removeWhiteMiroBackground",fn:()=>{let e=0,t=0,i=[];return{element:{enter:(a,o)=>{if("svg"===a.name)e=parseFloat(a.attributes.height||"0"),t=parseFloat(a.attributes.width||"0");else{if(a.attributes.transform){let e=(0,n.ae)(a.attributes.transform);i.push(e)}(function(e,t,i,a,s){if(i&&a&&"element"===t.type&&"path"===e.name&&("#fff"===e.attributes.fill||"#f2f2f2"===e.attributes.fill)){let t=parseFloat(/v(\d+)/.exec(e.attributes.d||"")?.[1]||"0"),{height:o,width:r}=function(e,t,i){let a=e.reduce((e,t)=>(0,n.ZG)(e,t),[1,0,0,1,0,0]),{x:s,y:o}=(0,n.vo)(a,{x:0,y:0}),{x:r,y:l}=(0,n.vo)(a,{x:t,y:0}),{x:d,y:c}=(0,n.vo)(a,{x:t,y:i}),{x:_,y:u}=(0,n.vo)(a,{x:0,y:i});return{height:Math.max(o,l,c,u)-Math.min(o,l,c,u),width:Math.max(s,r,d,_)-Math.min(s,r,d,_)}}(s,parseFloat(/h(\d+)/.exec(e.attributes.d||"")?.[1]||"0"),t);if(o>.9*i&&r>.9*a)return!0}return!1})(a,o,e,t,i)&&(0,s.L)(a,o)}},exit:(e,t)=>{(0,s.Q)(e),e.attributes.transform&&i.pop()}}}}},m={name:"removeWhiteMuralBackground",fn:()=>{let e=0,t=0;return{element:{enter:(i,a)=>{"svg"===i.name?(e=parseFloat(i.attributes.height||"0"),t=parseFloat(i.attributes.width||"0")):function(e,t,i,a){if(i&&a&&"element"===t.type&&"path"===e.name&&"#fafafa"===e.attributes.fill){let t=parseFloat(/v(\d+)/.exec(e.attributes.d||"")?.[1]||"0"),s=Math.abs(a-parseFloat(/h(\d+)/.exec(e.attributes.d||"")?.[1]||"0")/.75);if(10>Math.abs(i-t/.75)&&s<10)return!0}return!1}(i,a,e,t)&&(0,s.L)(i,a)},exit:(e,t)=>{(0,s.Q)(e)}}}}},h={name:"repairAndBoldVectorizedTextFromMiro",fn:()=>({element:{enter:(e,t)=>{if("path"!==e.name||"element"!==t.type||"g"!==t.name)return;let i=t.children[1];if(!i||"element"!==i.type||"text"!==i.name)return;let a=i.children[0];if(a&&"element"===a.type&&"tspan"===a.name&&"0"===a.attributes["fill-opacity"])for(let a of((0,s.L)(e,t),i.children))"element"===a.type&&"tspan"===a.name&&(a.attributes["fill-opacity"]="1",a.attributes["font-weight"]="bold")},exit:(e,t)=>{(0,s.Q)(e)}}})};function p(e,t){let i=e===a.h62.LUCID,s=e===a.h62.MIRO,n=e===a.h62.MURAL,p=e===a.h62.JAMBOARD,g=!i&&!s&&!n&&!p,f=(s||p||g?[u]:[]).concat(n||g?[m]:[]),E=i?[]:[{name:"repairBoldText",fn:()=>({element:{enter:e=>{if("tspan"!==e.name)return;let i=e.attributes["font-family"];i&&t.has(i)&&(e.attributes["font-weight"]="bold")}}})}];return[...i?[]:[o],r,i?d:l,...i?[c]:[],(e=>{let t={makeArcs:!1,curveSmoothShorthands:!1};switch(e){case a.h62.LUCID:return{name:"preset-default",params:{overrides:{removeUnknownsAndDefaults:!1,mergePaths:!1,convertPathData:t}}};case a.h62.MIRO:case a.h62.MURAL:case a.h62.JAMBOARD:case a.h62.UNKNOWN:default:return{name:"preset-default",params:{overrides:{removeUnknownsAndDefaults:!1,moveGroupAttrsToElems:!1,collapseGroups:!1,convertPathData:t}}}}})(e),_,...f,...E,...s||p||g?[h]:[]]}},102e3(e,t,i){i.d(t,{T:()=>s});var a=i(297746);function s(e){return e===a.Oin.HIDE_UI||e===a.Oin.ON_AND_LOCKED}},906093(e,t,i){let a;i.d(t,{ip:()=>a,qb:()=>o});var s=i(783710);class n{onFrameDistributionTrackedEvent(e){s.jp(e)}}function o(){a=new n}},820109(e,t,i){let a;i.d(t,{Pp:()=>C,dZ:()=>N,iA:()=>O,u1:()=>x,zi:()=>A});var s=i(295870),n=i(297746),o=i(466082),r=i(270450),l=i(32186),d=i(414072),c=i(184634),_=i(153745),u=i(115378),m=i(198089),h=i(602729);let p=null,g=0,f=!1,E=null,b=null,T=0;function y(){if(!n.cgc)throw Error("FullscreenWebSocketTsApi bindings not available");(0,m.II)(),n.cgc.connectFinished()}function S(e){if(!n.cgc)throw Error("FullscreenWebSocketTsApi bindings not available");null!=a?a.push(e):((0,m.II)(),n.cgc.receive(e))}function R(e,t){let i=new URL(e),a=new URL(t);return i.searchParams.delete("recentReload"),a.searchParams.delete("recentReload"),i.toString()===a.toString()}function v(e){if(null!==p){p.onopen=null,p.onmessage=null,p.onclose=null,p.onerror=null;try{p.close()}catch(e){}p=null;if(!n.cgc)throw Error("FullscreenWebSocketTsApi bindings not available");(0,m.II)(),n.cgc.disconnect(e)}}let I=!1;function x(){if(p){I=!0;let e=p.url;v("breakMultiplayerWebsocketForTesting"),console.log(`breakMultiplayerWebsocketForTesting: disconnected from ${e}`)}}function A(e=!1){if(!p){if(I=!1,!n.h3O)throw Error("Multiplayer bindings not available");n.h3O.reconnect(e),console.log(`unbreakMultiplayerWebsocketForTesting: reconnected to ${p?p.url:null}`)}}function O(){null!=a?console.error("pauseMessageReceive_testOnly: ingestion already paused"):(a=[],console.log("pauseMessageReceive_testOnly: ingestion paused"))}function N(){if(null==n.cgc)return void console.error("unpauseMessageReceive_testOnly: FullscreenWebSocketTsApi bindings not available");if(null==a)return void console.error("unpauseMessageReceive_testOnly: message ingestion was not paused");let e=a;a=void 0;let t=e.length;for(let t of((0,m.II)(),e))n.cgc.receive(t);console.log(`unpauseMessageReceive_testOnly: flushed ${t} messages, ingestion unpaused`)}let C={connect:function(e){if(I)return;function t(){null!==E&&(clearTimeout(E),E=null),b=null}g++,!function(){if(f)return;let e=()=>{null!==E&&(clearTimeout(E),E=null,b=null)};window.addEventListener("offline",e),window.addEventListener("online",e),f=!0}(),v("connect");let i=mpGlobal.sock,a=mpGlobal.perfMetrics,m=mpGlobal.msgs;mpGlobal.sock=null,mpGlobal.msgs=[],mpGlobal.perfMetrics=[],h.xK.setWsUrl(e);let x=d.D?.getState();if(i&&R(i.url,e)&&(i.readyState===WebSocket.CONNECTING||i.readyState===WebSocket.OPEN)){for(let{key:e,ts:t,nBytes:s}of(p=i,T=0,a))h.xK.logWsMsg(e,s,t);y();let e=m.length;for(let[t,i]of m.entries())if((0,_.Lo)("multiplayer","Replaying websocket message",{i:t,total:e,len:i.byteLength}),S(i),!p)return;p.readyState===WebSocket.CONNECTING&&(p.onopen=()=>{h.xK.logWsMsg("mp-ws-onopen")})}else{if((0,u.ds)("multiplayer_connect_attempt_ws_start",x?.openFile?.key,x,{url:e,urlLength:e.length,connectAttemptId:g,isReconnect:!!o.qo&&-1!==(0,o.UN)().scene,isIncremental:n.h3O?.isIncrementalSession()}),null!==i){if(!R(i.url,e)&&((0,_.xi)("multiplayer","Preconnect URL doesn't match URL",{preconnectUrl:i.url,url:e}),(0,r.getFeatureFlags)().report_preconnect_mismatch&&(0,c.$D)(s.FigmaTeam.SCENEGRAPH_AND_SYNC,Error("Multiplayer preconnect URL mismatch"))),i.readyState!==WebSocket.CONNECTING&&i.readyState!==WebSocket.OPEN){let e=null;i.readyState===WebSocket.CLOSED?e="closed":i.readyState===WebSocket.CLOSING&&(e="closing"),(0,_.xi)("multiplayer","readyState is bad, skipping preconnect optimization",{readyState:e})}(0,l.sx)("preconnect_url_mismatch",{preconnectUrl:i.url,url:e,readyState:i.readyState},{forwardToDatadog:!0});try{i.close()}catch{}}let a=e.length;if(T>=3&&a>2e3&&navigator.onLine){let t=new URL(e);t.searchParams.delete("scenegraph-queries-initial-nodes"),e=t.toString()+"&use-incremental-for-editors=0";let i={connectAttemptId:g,originalUrlLength:a,newUrlLength:e.length,forced:!1,consecutiveInitFailureCount:T,shortened_url:!0};(0,u.ds)("multiplayer_connect_truncate_ws_url",x?.openFile?.key,x,i),(0,_.Lo)("multiplayer","Truncating websocket url to force full loading",i)}(p=new WebSocket(e)).binaryType="arraybuffer",null===E&&(b=navigator.onLine,E=setTimeout(()=>{let e=p?p.readyState:-1;if(e===WebSocket.OPEN)return;let t=x?.openFile?.key;t&&(0,u.GS)("scenegraph_and_sync.multiplayer_connect_ws_timeout",t,x,{connectAttemptId:g,online:navigator.onLine,startOnline:b??void 0,readyState:e,consecutiveInitFailureCount:T}),(0,_.Lo)("multiplayer","Websocket connect timeout",{connectAttemptId:g,online:navigator.onLine,startOnline:b,readyState:e,consecutiveInitFailureCount:T})},12e4)),p.onopen=()=>{t(),T=0,y(),h.xK.logWsMsg("mp-ws-onopen"),(0,u.ds)("multiplayer_connect_ws_open",x?.openFile?.key,x,{connectAttemptId:g}),(0,_.Lo)("multiplayer","Websocket opened")}}p.onmessage=e=>{let t=new Uint8Array(e.data);h.xK.logWsMsg("mp-ws-onmessage",t.length*t.BYTES_PER_ELEMENT),S(t)},p.onclose=e=>{t(),e.reason.startsWith("retry-quickly")?v("retry-quickly"):v("socket.onclose");let i=x?.openFile?.key;i&&(0,u.GS)("scenegraph_and_sync.multiplayer_connect_ws_close",i,x,{connectAttemptId:g,code:e.code,reason:e.reason,wasClean:e.wasClean})},p.onerror=()=>{navigator.onLine?T++:T=0,t(),v("socket.onerror"),(0,u.ds)("multiplayer_connect_ws_error",x?.openFile?.key,x,{connectAttemptId:g,consecutiveInitFailureCount:T,online:navigator.onLine}),(0,_.Lo)("multiplayer","Websocket error",{online:navigator.onLine,consecutiveInitFailureCount:T})}},disconnect:v,send:function(e){try{p.send(e)}catch(e){}},bufferedAmount:function(){return p?.bufferedAmount||0}}},136821(e,t,i){let a;i.d(t,{bJ:()=>r,ld:()=>a});var s=i(644722),n=i(588591),o=i(442921);function r(){a=new l}class l{constructor(){this.developerRelatedLinksManager=new s.GK}submitDeveloperRelatedLinks(e){this.developerRelatedLinksManager.addLinks(e)}didGetNodeStatusChange(){(0,n.Q)()}isVariableAvailableInLibraryAsset(e){return(0,o.y7)(e)}}},222219(e,t,i){i.d(t,{FF:()=>u,XT:()=>m,_I:()=>h});var a,s=i(297746),n=i(417675),o=i(127446),r=i(32186),l=i(86118),d=i(925778),c=i(4257);let _="hardware_acceleration_disabled_warning_shown";var u=((a=u||{})[a.UNKNOWN=0]="UNKNOWN",a[a.DISABLED=1]="DISABLED",a[a.ENABLED=2]="ENABLED",a);function m(){if(l.eD)return 0;let e=s.CeL?.getGpuDeviceInfo()??null;return e?e.vendor.includes("Google Inc.")&&e.graphicsCardName.includes("SwiftShader")?1:2:0}function h(e,t){if(0!==e){if(2===e){o.x4&&o.x4.getItem(_)&&((0,r.sx)("Hardware Acceleration Turned On"),delete o.x4[_]);return}if(!o.x4||!o.x4.getItem(_)){let e=()=>{o.x4.setItem(_,"1")};(0,r.sx)("Hardware Acceleration Warning Bell"),t(c.F.enqueue({type:"hardware_acceleration_disabled_warning",message:(0,n.t)("hardware_acceleration_detector.message"),button:{text:(0,n.t)("hardware_acceleration_detector.learn_more"),action:()=>{d.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360039828614-Configure-your-browser-for-Figma#Advanced","_blank"),t(c.F.dequeue({})),e(),(0,r.sx)("Hardware Acceleration Warning Clicked",{dismissed:!1})}},timeoutOverride:1e4,onDismiss:()=>{(0,r.sx)("Hardware Acceleration Warning Clicked",{dismissed:!0}),e()}}))}}}},822445(e,t,i){let a;i.d(t,{SQ:()=>a,Y_:()=>o});var s=i(747788);class n{closeQuickActions(){(0,s.jD)(null,{forceClose:!1})}}let o=()=>{a=new n}},754(e,t,i){let a;i.d(t,{fG:()=>eP,Dt:()=>a});var s,n,o=i(278600),r=i(438397),l=i(771809),d=i(297746),c=i(16233),_=i(2227),u=i(466082),m=i(759231),h=i(615129),p=i(40013);class g extends h.j{constructor(e){super(e)}handleMouseDown(e){let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(!c.qm)return;let a=!1;i&&i.canHaveAnnotation&&(m.zl.set(p.m,i.annotations.length),a=!0),a?c.qm.setEventCursor(e,"annotateCursor"):c.qm.setEventCursor(e,"annotateCursorFaded"),!a&&i&&e.accept(this)}handleMouseMove(e){c.qm&&(this.showAnnotationIsPossibleCursor(e)?c.qm.setEventCursor(e,"annotateCursor"):(c.qm.setEventCursor(e,"annotateCursorFaded"),e.accept(this)))}showAnnotationIsPossibleCursor(e){let t=e.findHoveredNodeId();if(t===_.AD||null!==m.zl.get(p.m)&&e.selectionNodeGUIDs().some(e=>e===t))return!1;let i=(0,u.UN)().get(t);return!i||!!i.canHaveAnnotation}render(){}handleMouseUp(){}handleMouseLeave(){}handleMouseDrag(){}handleContextMenuOpen(){}handleBeforeFrame(){}renderUnderEditModeUI(){}reset(){d.Ez5&&d.Ez5.editorState().focusedAnnotationId.set(null)}}var f=i(522645),E=i(736463),b=i(14575),T=i(933330),y=i(738991),S=i(295870),R=i(359731),v=i(184634),I=((s=I||{})[s.NONE=0]="NONE",s[s.REORDER=1]="REORDER",s[s.ADD=2]="ADD",s[s.APPEND=3]="APPEND",s[s.RESIZE=4]="RESIZE",s),x=((n=x||{})[n.INACTIVE=0]="INACTIVE",n[n.HOVERED=1]="HOVERED",n[n.SELECTED=2]="SELECTED",n[n.DRAGGED=3]="DRAGGED",n);function A(e,t,i,a,s){for(let n of(e.fillRoundedRect(t.expand(C.borderStrokeWidth),C.reorderHandleHoveredCornerRadius+2,(0,f.QR)(1,1,1)),e.fillRoundedRect(t,C.reorderHandleHoveredCornerRadius,i),C.equalIconOffsets)){let i=new b.r(n,C.equalIconSize);i=s===E._0.X?i:i.transpose(),e.fillRoundedRect(i.offsetBy(t.topLeft()),C.equalIconCornerRadius,a)}}function O(e,t,i){e.fillRoundedRect(t.expand(C.borderStrokeWidth),C.reorderHandleInactiveCornerRadius+1,(0,f.QR)(1,1,1)),e.fillRoundedRect(t,C.reorderHandleInactiveCornerRadius,i)}let N=class e{constructor(t,i,a,s,n){this._bounds=t,this._widths=i,this._heights=a,this._canvasScale=s,this._shouldRender=n;const o=e.cellStrokeWeight*s;this._columnPositions=i.reduce((e,t,i)=>(e.push(t+e[i]),e),[0]).map((e,t)=>0===t?e:e-o),this._rowPositions=a.reduce((e,t,i)=>(e.push(t+e[i]),e),[0]).map((e,t)=>0===t?e:e-o),c.qm||(0,v.$D)(S.FigmaTeam.FIGJAM,Error("Cannot get table colors (InteractionCpp unavailable)")),this._inactiveColor=c.qm?.getTableNodeColorInactive()??0xffffca80,this._hoverColorPrimary=c.qm?.getTableNodeColorHoveredPrimary()??0xffff990d,this._hoverColorSecondary=c.qm?.getTableNodeColorHoveredSecondary()??0xffffe3bd,this._selectedColor=c.qm?.getTableNodeColorSelected()??0xffff990d,this._whiteColor=(0,f.QR)(1,1,1),this.numColumns=i.length,this.numRows=a.length,this._tableUiHorizontalAxis=this._bounds.origin.y-e.padding-e.reorderHandleInactiveSize.y/2,this._tableUiVerticalAxis=this._bounds.origin.x-e.padding-e.reorderHandleInactiveSize.y/2,this._addColumnButtonPositions=this._getAddColumnButtonPositions(),this._addRowButtonPositions=this._getAddRowButtonPositions(),this._addColumnButtonHitTestBounds=this._getAddColumnButtonHitTestBounds(),this._addRowButtonHitTestBounds=this._getAddRowButtonHitTestBounds(),this._hoveredReorderColumnHandleBounds=this._computeReorderColumnHandleBounds(!0),this._hoveredReorderRowHandleBounds=this._computeReorderRowHandleBounds(!0),this._inactiveReorderColumnHandleBounds=this._computeReorderColumnHandleBounds(!1),this._inactiveReorderRowHandleBounds=this._computeReorderRowHandleBounds(!1),this._reorderColumnHandleHitTestBounds=this._computeReorderColumnHandleHitTestBounds(),this._reorderRowHandleHitTestBounds=this._computeReorderRowHandleHitTestBounds(),this._appendColumnBounds=this._getAppendColumnBounds(),this._appendRowBounds=this._getAppendRowBounds(),this._columnDividerHitTestBounds=this._getColumnDividerBounds(!0),this._rowDividerHitTestBounds=this._getRowDividerBounds(!0),this._columnDividerRenderBounds=this._getColumnDividerBounds(!1),this._rowDividerRenderBounds=this._getRowDividerBounds(!1)}isDirty(e,t,i,a,s){if(!e.equals(this._bounds)||a!==this._canvasScale||s!==this._shouldRender||t.length!==this._widths.length||i.length!==this._heights.length)return!0;for(let e=0;e<t.length;e++)if(t[e]!==this._widths[e])return!0;for(let e=0;e<i.length;e++)if(i[e]!==this._heights[e])return!0;return!1}_getBackgroundColor(e){switch(e){case 0:case 1:return this._hoverColorSecondary;case 3:case 2:return this._selectedColor;default:return(0,f.QR)(1,0,0)}}_getForegroundColor(e){switch(e){case 0:case 1:return this._hoverColorPrimary;case 3:case 2:return this._whiteColor;default:return(0,f.QR)(1,0,0)}}_getAppendColumnBounds(){let t=e.appendButtonLength,i=new T.Mi(this._bounds.right()+e.appendButtonPadding,this._bounds.top());return new b.r(i,new T.Mi(t,this._bounds.height()))}_getAppendRowBounds(){let t=e.appendButtonLength,i=new T.Mi(this._bounds.left(),this._bounds.bottom()+e.appendButtonPadding);return new b.r(i,new T.Mi(this._bounds.width(),t))}_getAddColumnButtonPositions(){let e=[];for(let t=0;t<=this.numColumns;t++){let i=this._bounds.origin.x+this._columnPositions[t],a=this._tableUiHorizontalAxis;e.push(new T.Mi(i,a))}return e}_getAddRowButtonPositions(){let e=[];for(let t=0;t<=this.numRows;t++){let i=this._tableUiVerticalAxis,a=this._bounds.origin.y+this._rowPositions[t];e.push(new T.Mi(i,a))}return e}_getAddColumnButtonHitTestBounds(){let t=[];for(let i=0;i<this.numColumns;i++){let a=new T.Mi(this._columnPositions[i],-e.hitTestPaddingThreshold.y),s=this._bounds.origin.plus(a),n=b.r.fromCenterSize(s,e.hitTestPaddingThreshold.multiplyBy(2));t.push(n)}return t}_getAddRowButtonHitTestBounds(){let t=[];for(let i=0;i<this.numRows;i++){let a=new T.Mi(-e.hitTestPaddingThreshold.y,this._rowPositions[i]),s=this._bounds.origin.plus(a),n=b.r.fromCenterSize(s,e.hitTestPaddingThreshold.multiplyBy(2).transpose());t.push(n)}return t}_getRowPositions(){return this._rowPositions}_getColumnPositions(){return this._columnPositions}_computeReorderColumnHandleHitTestBounds(){let t=[];for(let i=0;i<this.numColumns;i++){let a=new T.Mi((this._columnPositions[i]+this._columnPositions[i+1])/2,-e.hitTestPaddingThreshold.y),s=this._bounds.origin.plus(a),n=new T.Mi(this._columnPositions[i+1]-this._columnPositions[i],2*e.hitTestPaddingThreshold.y);t.push(b.r.fromCenterSize(s,n))}return t}_computeReorderRowHandleHitTestBounds(){let t=[];for(let i=0;i<this.numRows;i++){let a=new T.Mi(-e.hitTestPaddingThreshold.y,(this._rowPositions[i]+this._rowPositions[i+1])/2),s=this._bounds.origin.plus(a),n=new T.Mi(2*e.hitTestPaddingThreshold.y,this._rowPositions[i+1]-this._rowPositions[i]);t.push(b.r.fromCenterSize(s,n))}return t}_computeReorderColumnHandleBounds(t){let i=[],a=t?e.reorderHandleHoveredSize:e.reorderHandleInactiveSize,s=a.divideBy(2),n=this._columnPositions;for(let e=0;e<this.numColumns;e++){let t=this._bounds.origin.x+(n[e]+n[e+1])/2,o=this._tableUiHorizontalAxis,r=new T.Mi(t,o).minus(s),l=new b.r(r,a);i.push(l)}return i}_computeReorderRowHandleBounds(t){let i=[],a=(t?e.reorderHandleHoveredSize:e.reorderHandleInactiveSize).transpose(),s=a.divideBy(2),n=this._rowPositions;for(let e=0;e<this.numRows;e++){let t=this._tableUiVerticalAxis,o=this._bounds.origin.y+(n[e]+n[e+1])/2,r=new T.Mi(t,o).minus(s),l=new b.r(r,a);i.push(l)}return i}_getColumnDividerBounds(t){let i=[],a=e.dividerHeight+(t?e.dividerHitTestPadding:0);for(let e=0;e<this._addColumnButtonPositions.length;e++){let t=this._addColumnButtonPositions[e].x-a/2,s=this._bounds.top(),n=new T.Mi(t,s),o=new T.Mi(a,this._bounds.height());i.push(new b.r(n,o))}return i}_getRowDividerBounds(t){let i=[],a=e.dividerHeight+(t?e.dividerHitTestPadding:0);for(let e=0;e<this._addRowButtonPositions.length;e++){let t=this._bounds.left(),s=this._addRowButtonPositions[e].y-a/2,n=new T.Mi(t,s),o=new T.Mi(this._bounds.width(),a);i.push(new b.r(n,o))}return i}_isOutsideTableUIBounds(t){return!this._bounds.expand(2*e.hitTestPaddingThreshold.y).containsPointIncludingBoundary(t)}getHoveredSpan(e){if(this._isOutsideTableUIBounds(e))return new T.Mi(-1,-1);let t=this.numColumns;for(let i=1;i<this._addColumnButtonPositions.length;i++)if(e.x<=this._addColumnButtonPositions[i].x){t=i;break}let i=this.numRows;for(let t=1;t<this._addRowButtonPositions.length;t++)if(e.y<=this._addRowButtonPositions[t].y){i=t;break}return new T.Mi(t-1,i-1)}getHoveredRegion(e){if(this._bounds.isEmpty()||!this.shouldRender()||this._isOutsideTableUIBounds(e))return{element:0};if(this.shouldRenderAddButton()){let t=this._addColumnButtonHitTestBounds;for(let i=1;i<t.length;i++)if(t[i].containsPointIncludingBoundary(e))return{element:2,tableAxis:R.gSS.COLUMN,elementIndex:i};let i=this._addRowButtonHitTestBounds;for(let t=1;t<i.length;t++)if(i[t].containsPointIncludingBoundary(e))return{element:2,tableAxis:R.gSS.ROW,elementIndex:t}}for(let t=0;t<this.numColumns;t++){let i=this.getReorderHandleHitTestBounds(R.gSS.COLUMN,t);if(i&&i.containsPointIncludingBoundary(e))return{element:1,tableAxis:R.gSS.COLUMN,elementIndex:t}}for(let t=0;t<this.numRows;t++){let i=this.getReorderHandleHitTestBounds(R.gSS.ROW,t);if(i&&i.containsPointIncludingBoundary(e))return{element:1,tableAxis:R.gSS.ROW,elementIndex:t}}if(this._appendColumnBounds.containsPointIncludingBoundary(e))return{element:3,tableAxis:R.gSS.COLUMN};if(this._appendRowBounds.containsPointIncludingBoundary(e))return{element:3,tableAxis:R.gSS.ROW};for(let t=0;t<this._columnDividerHitTestBounds.length;t++)if(this._columnDividerHitTestBounds[t].containsPointIncludingBoundary(e))return{element:4,tableAxis:R.gSS.COLUMN,elementIndex:t};for(let t=0;t<this._rowDividerHitTestBounds.length;t++)if(this._rowDividerHitTestBounds[t].containsPointIncludingBoundary(e))return{element:4,tableAxis:R.gSS.ROW,elementIndex:t};return{element:0}}getNearestSpan(e,t){let i=e===R.gSS.ROW?this._addRowButtonPositions:this._addColumnButtonPositions,a=e===R.gSS.ROW?E._0.Y:E._0.X;for(let e=0;e<i.length-1;e++)if(t<=(i[e].component(a)+i[e+1].component(a))/2)return e;return i.length-1}getNearestColumn(e){return this.getNearestSpan(R.gSS.COLUMN,e)}getNearestRow(e){return this.getNearestSpan(R.gSS.ROW,e)}displaceRectForSpan(e,t,i){if(!c.qm)return void(0,v.$D)(S.FigmaTeam.FIGJAM,Error("Unable to compute table span displacement (InteractionCpp unavailable)"));let a=c.qm.getTableSpanIdAtIndex(e,t),s=c.qm.getViewportTableSpanDisplacement(a);i.origin=i.origin.plus(T.Mi.fromFigVector(s))}getSpanThickness(e,t){return t===R.gSS.COLUMN?this._widths[e]/this._canvasScale:this._heights[e]/this._canvasScale}getReorderHandleHitTestBounds(e,t){let i=e===R.gSS.ROW?this._reorderRowHandleHitTestBounds:this._reorderColumnHandleHitTestBounds;if(t<0||t>=i.length)return null;let a=i[t].clone();return this.displaceRectForSpan(e,t,a),a}getReorderHandleBounds(e,t,i){let a=e===R.gSS.COLUMN?this._inactiveReorderColumnHandleBounds:this._inactiveReorderRowHandleBounds,s=e===R.gSS.COLUMN?this._hoveredReorderColumnHandleBounds:this._hoveredReorderRowHandleBounds,n=0===i?a:s;if(t<0||t>=n.length)return null;let o=n[t].clone();return this.displaceRectForSpan(e,t,o),o}renderInactiveReorderHandle(e,t,i){let a=this.getReorderHandleBounds(t,i,0);null!==a&&O(e,a,this._inactiveColor)}renderInactiveAddButton(t,i,a){if(!this.shouldRenderAddButton())return;let s=i===R.gSS.COLUMN?this._addColumnButtonPositions:this._addRowButtonPositions;if(a<1||a>=s.length-1)return;let n=s[a];t.fillCircle(n,e.addButtonInactiveRadius+e.borderStrokeWidth,this._whiteColor),t.fillCircle(n,e.addButtonInactiveRadius,this._inactiveColor)}renderHitTestBoundsForDebugging(e){for(let t=0;t<Math.max(this.numRows,this.numColumns);++t)for(let i of[R.gSS.ROW,R.gSS.COLUMN])if(t<(i===R.gSS.ROW?this.numRows:this.numColumns)){let a=this.getReorderHandleHitTestBounds(i,t);a&&e.fillRoundedRect(a,0,(0,f.QR)(0,1,0))}if(this.shouldRenderAddButton()){for(let t of this._addColumnButtonHitTestBounds.slice(1))e.fillRoundedRect(t,0,(0,f.QR)(1,0,0));for(let t of this._addRowButtonHitTestBounds.slice(1))e.fillRoundedRect(t,0,(0,f.QR)(1,0,0))}}renderExpandedReorderHandle(e,t,i,a){let s=this.getReorderHandleBounds(t,i,a);null===s||A(e,s,this._getBackgroundColor(a),this._getForegroundColor(a),t===R.gSS.COLUMN?E._0.X:E._0.Y)}_renderPlusButton(t,i,a){let s=e.plusIconStrokeWidth,n=e.plusIconLength,o=new b.r(new T.Mi(i.x-n/2,i.y-s/2),new T.Mi(n,s)),r=new b.r(new T.Mi(i.x-s/2,i.y-n/2),new T.Mi(s,n));t.fillRect(o,a),t.fillRect(r,a)}renderExpandedAddButton(t,i,a){t.fillCircle(i,e.addButtonHoveredRadius+e.borderStrokeWidth,this._whiteColor),t.fillCircle(i,e.addButtonHoveredRadius,this._getBackgroundColor(a)),this._renderPlusButton(t,i,this._getForegroundColor(a))}renderAppendButton(t,i,a){let s=i===R.gSS.COLUMN?this._appendColumnBounds:this._appendRowBounds,n=0===a?this._hoverColorSecondary:this._selectedColor,o=0===a?this._hoverColorPrimary:this._whiteColor;t.fillRoundedRect(s,e.appendButtonCornerRadius,n),this._renderPlusButton(t,s.center(),o)}renderDivider(t,i,a,s){let n=i===R.gSS.COLUMN?this._columnDividerRenderBounds:this._rowDividerRenderBounds;if(a<0||a>=n.length)return;let o=n[a],r=this._getBackgroundColor(s);t.fillRoundedRect(o,e.dividerCornerRadius,r)}renderAddButton(e,t,i,a){if(!this.shouldRenderAddButton())return;let s=t===R.gSS.COLUMN?this._addColumnButtonPositions:this._addRowButtonPositions;if(i<0||i>s.length)return;let n=s[i];this.renderExpandedAddButton(e,n,a)}renderHoveredInactiveElements(e,t){for(let i of(0,y.U)(R.gSS)){let a=t.component(i?E._0.X:E._0.Y);this.renderInactiveReorderHandle(e,i,a),this.renderInactiveAddButton(e,i,a),this.renderInactiveAddButton(e,i,a+1)}}renderAllInactiveElements(e){for(let t of(0,y.U)(R.gSS)){let i=t===R.gSS.COLUMN?this.numColumns:this.numRows;for(let a=0;a<i;a++)this.renderInactiveReorderHandle(e,t,a);for(let a=1;a<i;a++)this.renderInactiveAddButton(e,t,a)}}renderHoveredInactiveElementsUnderEditModeUI(e,t){t.x===this.numColumns-1&&this.renderAppendButton(e,R.gSS.COLUMN,0),t.y===this.numRows-1&&this.renderAppendButton(e,R.gSS.ROW,0)}renderAllInactiveElementsUnderEditModeUI(e){for(let t of(0,y.U)(R.gSS))this.renderAppendButton(e,t,0)}shouldRender(){return!this._bounds.isInvalid()&&this._shouldRender!==c.mi.HIDE}shouldRenderAddButton(){return this.shouldRender()&&this._shouldRender===c.mi.FULL}bounds(){return this._bounds.scaledBy(1/this._canvasScale)}};N.hitTestPaddingThreshold=new T.Mi(11,22),N.padding=18,N.spacing=18,N.borderStrokeWidth=2,N.reorderHandleInactiveSize=new T.Mi(18,6),N.reorderHandleInactiveCornerRadius=4,N.reorderHandleHoveredLength=22,N.reorderHandleHoveredSize=new T.Mi(N.reorderHandleHoveredLength,N.reorderHandleHoveredLength),N.reorderHandleHoveredCornerRadius=6,N.addButtonInactiveRadius=4,N.addButtonHoveredRadius=11,N.appendButtonLength=26,N.appendButtonCornerRadius=5,N.appendButtonPadding=10,N.dividerCornerRadius=100,N.dividerHeight=4,N.dividerHitTestPadding=4,N.plusIconStrokeWidth=2,N.plusIconLength=12,N.equalIconSize=new T.Mi(12,2),N.equalIconCornerRadius=2,N.equalIconOffsets=[new T.Mi(5,8),new T.Mi(5,12)],N.cellStrokeWeight=1;let C=N;class L extends h.j{constructor(e){super(e),this.state={mouseState:x.INACTIVE},this._inactiveColor=c.qm?.getTableNodeColorInactive()??0,this._selectedColor=c.qm?.getTableNodeColorSelected()??0,this._hoverColorPrimary=c.qm?.getTableNodeColorHoveredPrimary()??0,this._hoverColorSecondary=c.qm?.getTableNodeColorHoveredSecondary()??0,this._whiteColor=(0,f.QR)(1,1,1)}handleContextMenuOpen(){}handleBeforeFrame(){}handleMouseLeave(){}renderUnderEditModeUI(){}handleMouseMove(e){if(this.state.mouseState===x.INACTIVE||!this.state.node||!this.state.node.isAlive)return;let{activeBounds:t}=this._getHandleBounds(this.state.node,e.viewport());t.containsPointIncludingBoundary(T.Mi.fromVectorD(e.viewportSpaceMouse()))?this.state={...this.state,mouseState:x.HOVERED}:this.state={...this.state,mouseState:x.SELECTED}}handleMouseDown(e){if(this.state.mouseState!==x.INACTIVE&&this.state.mouseState===x.HOVERED){let t=this._singleSelectedEmbedNode();if(!t||!t.parentNode)return void this.reset();let i=T.Mi.fromVectorD(e.canvasSpaceMouse()),a=new T.Mi(t.absoluteTransform.m02,t.absoluteTransform.m12).minus(i),s=new T.Mi(t.parentNode.absoluteTransform.m02,t.parentNode.absoluteTransform.m12);this.state={mouseState:x.DRAGGED,node:t,canvasSpaceMouseToEmbedRelativeTransformOffset:e=>e.minus(s).plus(a)},e.accept(this)}}handleMouseDrag(e){if(this.state.mouseState!==x.DRAGGED)return;let t=this.state.canvasSpaceMouseToEmbedRelativeTransformOffset(T.Mi.fromVectorD(e.canvasSpaceMouse())),i=this.state.node.relativeTransform;i.m02=t.x,i.m12=t.y,this.state.node.relativeTransform=i,e.accept(this)}handleMouseUp(){this.state.mouseState===x.DRAGGED&&(this.state={...this.state,mouseState:x.SELECTED})}_singleSelectedEmbedNode(){let e=(0,u.UN)().getDirectlySelectedNodes();if(1!==e.length)return null;let t=e[0];return t&&"INTERACTIVE_SLIDE_ELEMENT"===t.type&&"EMBED"===t.interactiveSlideElementType?t:null}_getHandleBounds(e,t){let{x:i,y:a,h:s}=e.absoluteBoundingBox,{x:n,y:o}=t.canvasSpaceToViewportSpace({x:i,y:a}),r=t.canvasScale()*s,l=new T.Mi(n-C.padding-C.reorderHandleInactiveSize.y/2,o+r/2),d=C.reorderHandleInactiveSize.transpose(),c=C.reorderHandleHoveredSize.transpose();return{inactiveBounds:b.r.fromCenterSize(l,d),activeBounds:b.r.fromCenterSize(l,c)}}_getBackgroundColor(){let{mouseState:e}=this.state;switch(e){case x.INACTIVE:case x.HOVERED:case x.SELECTED:return this._hoverColorSecondary;case x.DRAGGED:return this._selectedColor;default:return(0,f.QR)(.78,0,.92)}}_getForegroundColor(){let{mouseState:e}=this.state;switch(e){case x.INACTIVE:case x.HOVERED:return this._hoverColorPrimary;case x.DRAGGED:case x.SELECTED:return this._whiteColor;default:return(0,f.QR)(1,0,1)}}_maybeHandleSelectionChange(e){e?(this.state.mouseState===x.INACTIVE||this.state.node.guid!==e.guid)&&(this.state={mouseState:x.SELECTED,node:e}):this.reset()}render(e,t){let i=this._singleSelectedEmbedNode();if(this._maybeHandleSelectionChange(i),!i)return;let{inactiveBounds:a,activeBounds:s}=this._getHandleBounds(i,e);switch(this.state.mouseState){case x.SELECTED:O(t,a,this._inactiveColor);break;case x.HOVERED:case x.DRAGGED:A(t,s,this._getBackgroundColor(),this._getForegroundColor(),E._0.Y);case x.INACTIVE:}}reset(){this.state={mouseState:x.INACTIVE}}}var w=i(270450),D=i(763318),j=i(580416),k=i(957065),M=i(176307),P=i(31352),F=i(187446);class U extends D.C{getDefaultChildSize(){return R.CNR?new T.Mi(R.CNR.slideWidth(),R.CNR.slideHeight()):new T.Mi(1920,1080)}addBlankChildAtCoord(e,t,i,a,s){return(0,P.Sz)(e,t,i,a)}shouldHideUI(){return m.zl.get(M.v2)||!!m.zl.get(F.Ei)}shouldRenderEmptyCanvasPlaceholder(){return!(0,u.UN)().getRoot().slideThemeId.endsWith("-1:-1")}renderEmptyCanvasPlaceholder(e,t){if(!(d.Ez5&&R.CNR))return;let i=d.Ez5.canvasGrid().rectForCoord({row:0,col:0},this.getDefaultChildSize(),!0);if((0,j.zw)(i,e,t,this._getDashedPlaceholderBgColor(),this._getDashedPlaceholderOutlineColor()),"ADD_FIRST_CHILD_HOVERED"===this._state.mouse){let a={x:i.origin.x+i.size.x/2,y:i.origin.y+i.size.y/2},s=e.canvasSpaceToViewportSpace(a),n=R.CNR.slideHeight()*e.canvasScale()/2.5;(0,k.ft)(s,t,n,2,this.getActiveOutlineColor())}}addRowDotVerticalOffset(){return(0,w.getFeatureFlags)().slide_chapters?-(d.Ez5?.canvasGrid().gridRowSpacing()||600)/4:0}getActiveBgColor(){return d.Ez5?.getBgFSDesignTertiary()??0xffffff}getActiveOutlineColor(){return d.Ez5?.getCanvasButton()??0xcccccc}}var G=i(431666),B=i(407715);class V extends B.k{getDefaultChildSize(){return R.CNR?new T.Mi(R.CNR.slideWidth(),R.CNR.slideHeight()):new T.Mi(1920,1080)}isRowHeaderSelectable(){return!!(0,w.getFeatureFlags)().slide_chapters}shouldHideUI(){return m.zl.get(M.v2)||m.zl.get(G.BT).length<=1}selectRow(e){(0,w.getFeatureFlags)().slide_chapters?d.Ez5?.canvasGrid().selectRow(e):d.Ez5?.canvasGrid().selectChildrenInRow(e)}addOrRemoveRowFromSelection(e){(0,w.getFeatureFlags)().slide_chapters?d.Ez5?.canvasGrid().addOrRemoveRowFromSelection(e):d.Ez5?.canvasGrid().addOrRemoveRowChildrenFromSelection(e)}}var X=i(985240);class H extends h.j{constructor(e){super(e),this._button=new X.R(this),this._button.setButtonSize(new T.Mi(24,24))}handleMouseDown(e){this._button.handleMouseDown(e)}handleMouseUp(e){c.qm?.canTidyUp()&&this._button.handleMouseUp(e)&&d.glU?.triggerAction("tidy-up",{source:"canvas"})}handleMouseMove(e){this._button.handleMouseMove(e)}render(e,t){if(!(c.qm?.editorTypeConfig().showTidyUpButtonsOnCanvas()&&c.qm?.canTidyUp()&&c.qm?.activeCanvasExists()&&c.qm?.isSelectionViewportOverlayVisible()))return void this._button.removeBounds();let i=b.r.fromRectD(e.viewportSpaceSelectionBounds());if(this._button.positionInsideBounds(i),this._button.isSelectionHovered())if(this._button.render(t),c.qm?.isActionEnabled("arrange-as-grid")){let e=new T.Mi(2,2);for(let i=-1;i<=1;i++)for(let a=-1;a<=1;a++){let s=new T.Mi(5*i,5*a),n=this._button.buildRectangleOffsetFromCenter(s,e);t.fillRoundedRect(n,0,c.qm?.getCanvasButtonInterior()??0)}}else{let e=c.qm?.getArrangeAsListAxisForCurrentSelection()??null;if(null!=e){let i=e===E._0.X?new T.Mi(5,0):new T.Mi(0,5),a=e===E._0.X?new T.Mi(2,13):new T.Mi(13,2);for(let e=-1;e<=1;e++){let s=i.multiplyBy(e),n=this._button.buildRectangleOffsetFromCenter(s,a);t.fillRect(n,c.qm?.getCanvasButtonInterior()??0)}}}}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}renderUnderEditModeUI(e,t){}reset(){}}var z=i(932858),W=i.n(z),K=i(18453);class $ extends h.j{constructor(e){super(e)}render(e,t){if(!m.zl.get(K.L))return;let i=(0,u.UN)().getDirectlySelectedNodes(),a=new Set(i.map(e=>e.id));W()(i.flatMap(e=>e.getNodesForCmsBinding()),e=>e.id).forEach(i=>{var s,n;let o,r,l,c;if(!i||a.has(i.id))return;let _=(s=i,n=e,o=s.absoluteBoundingBox,r=new T.Mi(o.x,o.y),l=n.canvasSpaceToViewportSpace(r),c=new T.Mi(o.w,o.h).multiplyBy(n.canvasScale()),new b.r(T.Mi.fromVectorD(l),T.Mi.fromVectorD(c)));if(d.Ez5){let e=d.Ez5.getBorderFSComponent();t.strokeRect(_,e,1)}})}handleMouseMove(e){}handleMouseDown(e){}handleMouseUp(e){}handleMouseLeave(e){}handleMouseDrag(e){}handleBeforeFrame(){}handleContextMenuOpen(e){}renderUnderEditModeUI(e,t){}reset(){}}var q=i(155495);class Y extends h.j{constructor(e){super(e)}render(e,t){if(!m.zl.get(K.C))return;let i=(0,q.ci)(d.ZEs.HAS_IDENTICAL_CHILDREN,"CMSRepeaterCandidateBehavior"),a=new Set((0,u.UN)().getDirectlySelectedNodes().map(e=>e.id));for(let s=0;s<i.length;s++)for(let n of i[s]??[])if(!a.has(n)){let i=(0,u.UN)().get(n);if(i){let a=i.absoluteBoundingBox,n=new T.Mi(a.x,a.y),o=e.canvasSpaceToViewportSpace(n),r=new T.Mi(a.w,a.h).multiplyBy(e.canvasScale()),l=new b.r(T.Mi.fromVectorD(o),T.Mi.fromVectorD(r));if(d.Ez5){let e=0===s?d.Ez5.getBorderFSDesignStrong():d.Ez5.getBorderFSDesign();t.strokeRect(l,e,1)}}}}handleMouseMove(e){}handleMouseDown(e){}handleMouseUp(e){}handleMouseLeave(e){}handleMouseDrag(e){}handleBeforeFrame(){}handleContextMenuOpen(e){}renderUnderEditModeUI(e,t){}reset(){}}var Z=i(798913),Q=i(291210),J=i(153745),ee=i(194579),et=i(583400),ei=i(783710),ea=i(316880);class es extends h.j{constructor(e){super(e),this._toolLineStyle=void 0,this._endpointHoverzone=c.oH.NONE,this._createdFromCenter=!1,this._snapper=void 0,this._ignoreMagnetsTimer=0,this._shouldIgnoreMagnets=!1,this._insertionPoint=T.Mi.invalid(),this._didDragPastThreshold=!1,this._didSetConnectorStartWithClick=!1,this._keyboardShortcutTracked=!1,this.IGNORE_CONNECTOR_MAGNETS_MS=1e3,this._connectorGUID=_.AD,this._hoveredEndpoint=null,this._startEndpointWithAuto={endpointNodeID:_.AD,position:T.Mi.invalid(),magnet:R.SpR.NONE,relativePosition:new T.Mi},this._endpointHoverzone=c.oH.NONE,this._hoveredEndpointIgnoringMagnets={endpointNodeID:_.AD,position:T.Mi.invalid(),magnet:R.SpR.NONE,relativePosition:new T.Mi}}_getToolLineStyle({interactionCpp:e}){return this._toolLineStyle||(this._toolLineStyle=e.getToolLineStyle()),this._toolLineStyle}_getSnapper({interactionCpp:e}){return this._snapper||(this._snapper=e.getConnectorSnapper()),this._snapper}handleMouseLeave(e){}handleMouseDown(e){this.handleMouseMove(e),this._connectorGUID===_.AD?this.createConnector(e)?((0,w.getFeatureFlags)().figjam_select_connector_after_created&&et.wr(),e.accept(this),e.invalidateViewport()):(0,J.x1)("connector tool","unable to create new connector",{},{reportAsSentryError:!0}):(e.accept(this),this.updateConnector(e)),c.qm?.setEventCursor(e,"crosshairCursor")}handleMouseDrag(e){clearTimeout(this._ignoreMagnetsTimer),this.updateHoverState(e),this.updateConnector(e),c.qm?.setEventCursor(e,"crosshairCursor"),!this._didDragPastThreshold&&T.Mi.fromVectorD(e.canvasSpaceMouse()).distanceTo(this._insertionPoint)>e.canvasSpaceMouseThreshold()&&(this._didDragPastThreshold=!0)}handleMouseMove(e){this.updateHoverState(e),c.qm?.setEventCursor(e,"crosshairCursor");let t=this._connectorGUID!==_.AD;t&&(clearTimeout(this._ignoreMagnetsTimer),Z.l7.user("connector-tool-mouse-move",()=>this.updateConnector(e))),t&&e.invalidateViewport()}handleMouseUp(e){if(e.wasCanceled())return void this.resetState();let t=this._connectorGUID!==_.AD?(0,u.UN)().get(this._connectorGUID):null;t&&(this.handleMouseDrag(e),this._didDragPastThreshold||this._didSetConnectorStartWithClick?(this.possiblyDeleteConnectorIfNotVisible(t),(0,u.UN)().get(this._connectorGUID)?c.qm?.logConnectorInsertion(this._connectorGUID):c.qm?.trySwitchToSelectToolCpp(e),this.resetState()):(this._didSetConnectorStartWithClick=!0,this._didDragPastThreshold=!1),e.invalidateViewport())}handleContextMenuOpen(){}handleBeforeFrame(){}render(e,t){if(!e.isMouseOverCanvas()||!c.qm||.35>e.canvasScale())return;c.qm.renderStraightConnectorGuidelines(this._connectorGUID,e,t);let i=(0,u.UN)().get(this._hoveredEndpoint?.endpointNodeID||""),a=this._connectorGUID!==_.AD?(0,u.UN)().get(this._connectorGUID):null;i&&"CANVAS"!==i.type&&c.qm.renderEndpointNodeHoverIndicators(i.guid,this._hoveredEndpoint,this._endpointHoverzone,a?a.connectorLineStyle:c.qm.getToolLineStyle(),e,t),c.qm.renderSnappingVisualizations(this._getSnapper({interactionCpp:c.qm}),t,e)}renderUnderEditModeUI(e,t){}renderMagnet(e,t,i){if(!c.qm)return;let a=(0,f.QR)(1,1,1),s=c.qm.getNodeImmutableFrameSelected();i.fillAndStrokeCircle(e,6,t?s:a,t?a:s,2,R.OR7.OUTSIDE)}possiblyDeleteConnectorIfNotVisible(e){return!!d.DV9?.isDegenerateConnector(e.connectorStart,e.connectorEnd)&&(e.removeSelfAndChildren(),!0)}updateHoverState(e){if(!c.qm)return;let t=(0,u.UN)().get(this._connectorGUID),i=this._hoveredEndpoint,a=this._endpointHoverzone,s=t?T.Mi.fromVectorD(t.connectorStartCanvasPosition):T.Mi.invalid(),n=ea.F.getHoveredEndpoint(e,t,i,a,s,this._getSnapper({interactionCpp:c.qm}),this._shouldIgnoreMagnets,c.qm);if(this._hoveredEndpoint=n.endpoint,this._endpointHoverzone=n.hoverzone,this._shouldIgnoreMagnets&&ea.F.isEdgeOrCardinalHoverzone(this._endpointHoverzone)&&(this._shouldIgnoreMagnets=!1),i&&i.endpointNodeID!==this._hoveredEndpoint.endpointNodeID){this._shouldIgnoreMagnets=!1;let e=i.magnet===R.SpR.NONE&&this._hoveredEndpoint.magnet!==R.SpR.NONE,t=i.magnet!==R.SpR.NONE&&this._hoveredEndpoint.magnet===R.SpR.NONE,s=a===c.oH.NONE&&this._endpointHoverzone!==c.oH.NONE,n=a!==c.oH.NONE&&this._endpointHoverzone===c.oH.NONE;(e||t||s||n)&&Q.H.trigger(d.JA.SNAP)}let o=ea.F.getHoveredEndpoint(e,t,i,this._endpointHoverzone,this._insertionPoint,this._getSnapper({interactionCpp:c.qm}),!0,c.qm);this._hoveredEndpointIgnoringMagnets=this._shouldIgnoreMagnets||this._hoveredEndpoint?.magnet===R.SpR.NONE?this._hoveredEndpoint:o.endpoint,(i?.endpointNodeID!==this._hoveredEndpoint.endpointNodeID||i.magnet!==this._hoveredEndpoint.magnet||a!==this._endpointHoverzone||this._endpointHoverzone!==c.oH.NONE)&&e.invalidateViewport()}createConnector(e){if(!c.qm)return!1;this._connectorGUID=c.qm.createNewConnector(e);let t=this._connectorGUID!==_.AD?(0,u.UN)().get(this._connectorGUID):null;if(t){t.connectorStart=t.connectorEnd=this._hoveredEndpoint;let i=t.connectorStart.endpointNodeID?(0,u.UN)().get(t.connectorStart.endpointNodeID):null,a=i?.type==="SHAPE_WITH_TEXT"||i?.type==="INSTANCE";this._createdFromCenter=this._endpointHoverzone===c.oH.CENTER;let s=this._getToolLineStyle({interactionCpp:c.qm});this._createdFromCenter&&(s===R.PoC.ELBOWED||s===R.PoC.CURVED)&&a&&(this._hoveredEndpoint.magnet=R.SpR.AUTO,this._startEndpointWithAuto=this._hoveredEndpoint),this._insertionPoint=T.Mi.fromVectorD(c.qm.getConnectorMousePosition(e,c.Mo.YES));let n=t.guid;c.qm.insertNodeAtPoint(e.canvasGUID(),n,this._insertionPoint,new T.Mi(0,0));let o=e.canvasScene().immutableFrameObserverReference();o.invalidateConnectorForReparenting(n),o.updateImmutableFrameInternal();let r=Z.nc.user("connector-tool-hover-ignore-magnets-timer",()=>{!ea.F.isEdgeOrCardinalHoverzone(this._endpointHoverzone)&&(this._shouldIgnoreMagnets=!0,t&&(this._hoveredEndpoint=this._hoveredEndpointIgnoringMagnets,t.connectorStart=t.connectorEnd=this._hoveredEndpoint))});return this._ignoreMagnetsTimer=setTimeout(r,this.IGNORE_CONNECTOR_MAGNETS_MS),!0}return!1}updateConnector(e){if(!c.qm)return;let t=this._connectorGUID!==_.AD?(0,u.UN)().get(this._connectorGUID):null;if(t){let i=t.connectorLineStyle=e.isShiftPressed()?R.PoC.STRAIGHT:this._getToolLineStyle({interactionCpp:c.qm});t.connectorLineStyle=i,t.immutableFrameShape&&(t.immutableFrameShape.cornerRadius=c.qm.getDefaultCornerRadius(i)),e.isShiftPressed()&&!this._keyboardShortcutTracked&&(this._keyboardShortcutTracked=!0,ee.Y5.usedKeyboardShortcut("straight-connector")),this._createdFromCenter&&this._startEndpointWithAuto.endpointNodeID!==_.AD&&(t.connectorStart=this._startEndpointWithAuto);let a=t.connectorEnd.endpointNodeID?(0,u.UN)().get(t.connectorEnd.endpointNodeID):null,s=a?.type==="SHAPE_WITH_TEXT"||a?.type==="INSTANCE";if((this._toolLineStyle===R.PoC.ELBOWED||this._toolLineStyle===R.PoC.CURVED)&&s&&this._endpointHoverzone===c.oH.CENTER&&(this._hoveredEndpoint.magnet=R.SpR.AUTO),t.connectorEnd=this._hoveredEndpoint,t.connectorStart?.endpointNodeID&&t.connectorEnd?.endpointNodeID){let e=(0,u.UN)().get(t.connectorStart.endpointNodeID),i=(0,u.UN)().get(t.connectorEnd.endpointNodeID);e?.type==="SHAPE_WITH_TEXT"&&i?.type==="SHAPE_WITH_TEXT"&&(0,ei.H0)()}if(!this._shouldIgnoreMagnets){let e=Z.nc.user("connector-tool-hover-ignore-magnets-timer",()=>{if(!ea.F.isEdgeOrCardinalHoverzone(this._endpointHoverzone)){this._shouldIgnoreMagnets=!0;let e=(0,u.UN)().get(this._connectorGUID);e&&(this._hoveredEndpoint=this._hoveredEndpointIgnoringMagnets,e.connectorEnd=this._hoveredEndpoint)}});this._ignoreMagnetsTimer=setTimeout(e,this.IGNORE_CONNECTOR_MAGNETS_MS)}e.invalidateViewport()}}resetState(){let e=this._connectorGUID!==_.AD?(0,u.UN)().get(this._connectorGUID):null;e&&!Z.l7.system("connector-tool-reset-state",()=>this.possiblyDeleteConnectorIfNotVisible(e))&&(0,w.getFeatureFlags)().figjam_select_connector_after_created&&et.tJ([this._connectorGUID],!1),this._connectorGUID=_.AD,this._insertionPoint=T.Mi.invalid(),clearTimeout(this._ignoreMagnetsTimer),this._shouldIgnoreMagnets=!1,this._createdFromCenter=!1,this._startEndpointWithAuto={endpointNodeID:_.AD,position:T.Mi.invalid(),magnet:R.SpR.NONE,relativePosition:new T.Mi},this._snapper?.clearCache(),this._didDragPastThreshold=!1,this._didSetConnectorStartWithClick=!1}reset(){this.resetState()}}let en="-1:-1",eo=["hoveredOverButtonLeft","hoveredOverButtonRight"];function er({leftGapWidth:e,rightGapWidth:t,heightOfShortestFrame:i,medianYPosition:a,defaults:s},n){function o(e,t,i,a){return null!==e?e:null!==t?t<i?i:t:a}let r=e??null,l=t??null,d=s.gapWidth;return{leftGapWidth:o(r,l,n,d),rightGapWidth:o(l,r,n,d),height:i,topYPosition:a}}function el(e,{leftGapWidth:t,rightGapWidth:i,topYPosition:a,height:s}){return{left:T.Mi.fromVectorD({x:e.x-t/2,y:a+s/2}),right:T.Mi.fromVectorD({x:e.x+e.w+i/2,y:a+s/2})}}function ed(e,{leftGapWidth:t,rightGapWidth:i,height:a}){return{left:{x:e.x-t,y:e.y,w:t,h:a},right:{x:e.x+e.w,y:e.y,w:i,h:a}}}function ec(e,t,i){let a=(0,f.QR)(1,1,1);(0,k.GJ)(e,t,i,a,d.Ez5.getCanvasButton())}function e_(e,t,i){let a=(0,f.QR)(1,1,1);(0,k.kP)(e,t,i,d.Ez5.getCanvasButton(),a)}class eu extends h.j{constructor(e){super(e),this._state="inactive",this._insertionType=R.Roq.DUPLICATE,this._canvasSpaceMousePosition=new T.Mi,this._hoveredFrameGuid=null,this._seriesMeasurementsFromActiveFrame=null,this._previousCurrentTool=null,this._selectedFrameGuid=null}_resetState(){this._state="inactive",this._insertionType=R.Roq.DUPLICATE}_getActiveFrameGuidOrNull(){return this._selectedFrameGuid??this._hoveredFrameGuid}handleMouseLeave(e){}handleMouseMove(e){if(this._state="inactive",this._insertionType=R.Roq.DUPLICATE,this._canvasSpaceMousePosition=T.Mi.fromVectorD(e.canvasSpaceMouse()),!c.qm||!c.qm.isFrameQuickAddEnabled())return;let t=this._getActiveFrameGuidOrNull(),i=c.qm.setHoveredNodeForFrameQuickAdd(e,this._hoveredFrameGuid??en);this._hoveredFrameGuid=i===en?null:i;let a=c.qm.getCurrentTool();if(this._hoveredFrameGuid)this._selectedFrameGuid=null;else if(a===R.NLJ.FRAME&&this._previousCurrentTool!==a){let t=c.qm.getSingleSelectedNodeIfEligibleForFrameQuickAdd(e);this._selectedFrameGuid=t===en?null:t}this._previousCurrentTool=a;let s=this._getActiveFrameGuidOrNull();if(s){let i=(0,u.UN)().get(s);if(!i||(t!==s&&(this._seriesMeasurementsFromActiveFrame=function(e){let t=(0,u.UN)().get(e);if(!c.qm||!t)return null;let i=t.absoluteBoundingBox,{gapWidthsForSourceFrame:a,heightOfShortestFrame:s,medianYPosition:n}=c.qm.getSeriesMeasurements(e),o=c.qm.getDefaultGapWidthForFrameQuickAdd(e),r=c.qm.getDefaultHeightForFrameQuickAdd(e);return{leftGapWidth:a.left,rightGapWidth:a.right,heightOfShortestFrame:s,medianYPosition:n??i.y,defaults:{height:r,gapWidth:o}}}(s)),!this._seriesMeasurementsFromActiveFrame))return;let a=i.absoluteBoundingBox,n=c.qm.getMinimumAllowedGapWidthForFrameQuickAdd(),o=er(this._seriesMeasurementsFromActiveFrame,n);if(!function(e,t,i){let a=e.canvasSpaceViewportRect();if(t.y<a.origin.y&&t.y+t.h>a.origin.y+a.size.y)return!1;let{left:s,right:n}=el(t,i),o=T.Mi.fromVectorD({x:t.x,y:t.y}),r=T.Mi.fromVectorD({x:t.x+t.w,y:t.y}),l=e.canvasSpaceToViewportSpace(o),d=e.canvasSpaceToViewportSpace(r),c=e.canvasSpaceToViewportSpace(s),_=e.canvasSpaceToViewportSpace(n),u=c.x+k.Bm,m=_.x-k.Bm,h=u>l.x&&Math.abs(u-l.x)>8,p=m<d.x&&Math.abs(d.x-m)>8;return!h||!p}(e.viewport(),a,o))return;this._state=this.getBehaviorStateOnMouseMove(e,a,n,o),this._insertionType=this.getInsertionTypeFromEvent(e),eo.includes(this._state)&&(c.qm.setEventCursor(e,"blackCursor"),e.accept(this))}}getBehaviorStateOnMouseMove(e,t,i,a){if(this._canvasSpaceMousePosition.x>=t.x&&this._canvasSpaceMousePosition.x<=t.x+t.w)return"hoveredInside";let s=a.leftGapWidth>=i,n=a.rightGapWidth>=i,{left:o,right:r}=el(t,a),l=o.distanceTo(this._canvasSpaceMousePosition)*e.viewport().canvasScale(),d=r.distanceTo(this._canvasSpaceMousePosition)*e.viewport().canvasScale();if(s&&l<k.Bm+24)return"hoveredOverButtonLeft";if(n&&d<k.Bm+24)return"hoveredOverButtonRight";let{left:c,right:_}=ed(t,a),u=this._canvasSpaceMousePosition.x>=c.x&&this._canvasSpaceMousePosition.x<=c.x+c.w,m=this._canvasSpaceMousePosition.x>=_.x&&this._canvasSpaceMousePosition.x<=_.x+_.w;return u||m?"hoveredOutside":this._selectedFrameGuid?"frameAlreadySelected":"inactive"}getInsertionTypeFromEvent(e){return e.isAltPressed()&&"inactive"!==this._state?R.Roq.BLANK:R.Roq.DUPLICATE}handleMouseDown(e){if(!c.qm||!c.GT||this._hoveredFrameGuid&&c.qm.setHoveredNodeForFrameQuickAdd(e,this._hoveredFrameGuid)!==this._hoveredFrameGuid)return;let t=this._getActiveFrameGuidOrNull();t&&this._seriesMeasurementsFromActiveFrame&&(this._insertionType=this.getInsertionTypeFromEvent(e),"hoveredOverButtonLeft"===this._state?c.GT.createFrameFromQuickAdd(t,R.btW.LEFT,this._insertionType):"hoveredOverButtonRight"===this._state&&c.GT.createFrameFromQuickAdd(t,R.btW.RIGHT,this._insertionType),eo.includes(this._state)?e.accept(this):this._resetState())}handleMouseDrag(e){}handleMouseUp(e){}handleContextMenuOpen(){}handleBeforeFrame(){}reset(){}render(e,t){let i=this._getActiveFrameGuidOrNull();if(!i||!this._seriesMeasurementsFromActiveFrame||!c.qm)return;let a=(0,u.UN)().get(i);if(!a)return;let s=c.qm.getMinimumAllowedGapWidthForFrameQuickAdd(),n=a.absoluteBoundingBox,o=er(this._seriesMeasurementsFromActiveFrame,s),{left:r,right:l}=ed(n,o),d=r.w>=s,_=l.w>=s,{left:m,right:h}=el(n,o);("hoveredOverButtonLeft"===this._state||"hoveredOverButtonRight"===this._state)&&this._insertionType===R.Roq.DUPLICATE&&c.qm.renderHoverOutlineAroundFrameForQuickAdd(i,e,t),"inactive"!==this._state&&this.renderHoveredState({leftDotOrButtonPosition:m,rightDotOrButtonPosition:h,viewport:e,canvasContext:t,shouldRenderLeftDotOrButton:d,shouldRenderRightDotOrButton:_})}renderHoveredState({leftDotOrButtonPosition:e,rightDotOrButtonPosition:t,viewport:i,canvasContext:a,shouldRenderLeftDotOrButton:s,shouldRenderRightDotOrButton:n}){if("inactive"===this._state||!c.qm)return;let o=c.qm.getIndicatorColorForFrameQuickAdd();"hoveredOverButtonLeft"===this._state?s&&(this._insertionType===R.Roq.BLANK?e_(e,i,a):ec(e,i,a)):s&&(0,k.ZR)(e,i,a,o,0),"hoveredOverButtonRight"===this._state?n&&(this._insertionType===R.Roq.BLANK?e_(t,i,a):ec(t,i,a)):n&&(0,k.ZR)(t,i,a,o,0)}renderUnderEditModeUI(e,t){}}var em=i(414072),eh=i(46961);class ep extends h.j{constructor(e){super(e),this.responsiveNodeSetId=null}handleMouseDown(e){if(!(0,w.getFeatureFlags)().sts_rns_breakpoint_view_icon)return;let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(i&&i.isResponsiveNodeSet&&c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_NODE_SET_VIEW_BUTTON)){this.responsiveNodeSetId=t;let i=(0,u.UN)().get(e.canvasGUID());i&&i.setSelectionToSingleNode(this.responsiveNodeSetId),e.accept(this);return}}handleMouseUp(e){if(!this.responsiveNodeSetId||e.wasCanceled()){this.responsiveNodeSetId=null;return}let t=c.GU?.eventHitTestNameUIBounds(e,this.responsiveNodeSetId,d.f2e.RESPONSIVE_NODE_SET_VIEW_BUTTON),i=(0,u.UN)().get(e.canvasGUID()),a=(0,u.UN)().get(this.responsiveNodeSetId);t&&i&&a&&(0,eh.V2)(a)&&e.accept(this),this.responsiveNodeSetId=null}handleMouseMove(e){if(!(0,w.getFeatureFlags)().sts_rns_breakpoint_view_icon)return;let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(!i||!i.isResponsiveNodeSet)return void this.clearHoveredNodes();let a=em.D.getState().mirror.appModel.onCanvasNameEditorInfo.mode===d.nzw.RESPONSIVE_NODE_SET_NAME,s=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_NODE_SET_VIEW_BUTTON);this.clearHoveredNodes(),s&&!a&&c.qm?.setHoveredResponsiveNodeSetViewIconNode(t)}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){}clearHoveredNodes(){c.qm?.setHoveredResponsiveNodeSetViewIconNode(_.AD)}}var eg=i(516472),ef=i(511526),eE=i(945013),eb=i(306874),eT=i(104830),ey=i(478115);function eS(){return em.D.getState().mirror.appModel.activeCanvasEditModeType===R.m1T.CMS_BINDING_CONSTRAINED}class eR extends h.j{constructor(e){super(e),this.webpageId=null,this.breakpointFrameId=null,this.canEditCmsContent=!1,this.unsubscribeCmsPermission=null,this.initializeCmsPermission()}initializeCmsPermission(){if(!(0,w.getFeatureFlags)().cms_can_edit_mouse_behaviour)return;let e=m.zl.get(eE.ze);if(!e)return;let t=eb.r7k.Query({key:e}),i=()=>{let e=m.zl.get(t);this.canEditCmsContent="loaded"===e.status&&"loaded"===e.data.file.status&&e.data.file.data?.hasPermission===!0};i(),this.unsubscribeCmsPermission=m.zl.sub(t,i)}handleMouseDown(e){let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t),a=e.selectionNodeGUIDs();if(!i||!i.isResponsiveSetOrWebpage)return;let s=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_SET_PLAY_BUTTON),n=em.D.getState().openFile?.canEdit&&c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_SET_PLUS_BUTTON)&&!eS(),o=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.CMS_ITEM_BUTTON);if(s||n||o){if(this.webpageId=t,this.breakpointFrameId=null,1===a.length&&a[0]){let e=(0,u.UN)().get(a[0]),i=e?.isWebpage?e.containingDerivedBreakpoint:e?.containingBreakpointFrame,s=i?e?.isWebpage?e.containingWebpage:(0,eg.f)(i):null;e&&i&&s?.guid===t&&(this.breakpointFrameId=i.guid)}let i=(0,u.UN)().get(e.canvasGUID());i&&i.setSelectionToSingleNode(this.webpageId),e.accept(this);return}}handleMouseUp(e){let t=m.zl.get(eT.s0);if(!this.webpageId||e.wasCanceled()){this.webpageId=null,this.breakpointFrameId=null;return}let i=c.GU?.eventHitTestNameUIBounds(e,this.webpageId,d.f2e.RESPONSIVE_SET_PLUS_BUTTON)&&!eS(),a=c.GU?.eventHitTestNameUIBounds(e,this.webpageId,d.f2e.RESPONSIVE_SET_PLAY_BUTTON),s=c.GU?.eventHitTestNameUIBounds(e,this.webpageId,d.f2e.CMS_ITEM_BUTTON),n=(0,u.UN)().get(e.canvasGUID()),o=(0,u.UN)().get(this.webpageId);if(i&&n&&o){let t=em.D.dispatch;o&&(0,ey.b)(o,t)&&e.accept(this)}else if(a&&n&&o){if(o.childCount>0&&d.Ez5){let e=o.childrenGuids[0],i=d.Ez5.prototypingEditorState().prototypeViewMode.getCopy()===d.dBj.PRESENT?"present-sites-full-preview":"toggle-inline-html-preview";t!==R.Nfd.FILE&&m.zl.set(eT.s0,R.Nfd.FILE),d.glU?.triggerActionInUserEditScope(i,{source:"breakpoint_bar",startingNodeId:this.breakpointFrameId?this.breakpointFrameId:e})}}else if(s&&o){let e=em.D.dispatch;(0,ef.h)(o,e)}this.webpageId=null,this.breakpointFrameId=null}handleMouseMove(e){let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(!i||!i.isResponsiveSetOrWebpage)return void this.clearHoveredNodes();let a=em.D.getState().mirror.appModel.onCanvasNameEditorInfo.mode===d.nzw.RESPONSIVE_SET_NAME,s=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_SET_PLAY_BUTTON),n=c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.RESPONSIVE_SET_PLUS_BUTTON)&&!eS(),o=((0,w.getFeatureFlags)().cms_can_edit_mouse_behaviour?this.canEditCmsContent:em.D.getState().openFile?.canEdit)&&c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.CMS_ITEM_BUTTON);this.clearHoveredNodes(),n?c.qm?.setHoveredResponsiveSetPlusButtonNode(t):s?c.qm?.setHoveredResponsiveSetPlayButtonNode(t):o&&!a&&c.qm?.setHoveredResponsiveSetCMSItemPickerButtonNode(t)}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){(0,w.getFeatureFlags)().cms_can_edit_mouse_behaviour&&(this.unsubscribeCmsPermission?.(),this.unsubscribeCmsPermission=null)}clearHoveredNodes(){c.qm?.setHoveredResponsiveSetPlayButtonNode(_.AD),c.qm?.setHoveredResponsiveSetPlusButtonNode(_.AD),c.qm?.setHoveredResponsiveSetCMSItemPickerButtonNode(_.AD)}}var ev=i(92866),eI=i(14308),ex=i(332858),eA=i(721337);class eO extends h.j{constructor(e){super(e),this.sectionId=null}handleMouseDown(e){if(!m.zl.get(ex.w))return;let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);if(i&&i.isSection&&c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.SECTION_PRESET_PICKER)){this.sectionId=t,e.accept(this);return}}handleMouseUp(e){if(!this.sectionId||e.wasCanceled()){this.sectionId=null;return}let t=c.GU?.eventHitTestNameUIBounds(e,this.sectionId,d.f2e.SECTION_PRESET_PICKER),i=(0,u.UN)().get(e.canvasGUID());if(t&&i){let t=em.D.dispatch,a=(0,u.UN)().get(this.sectionId);(0,eA.BQ)(a,t)&&(e.accept(this),(0,eI.Cu)({nodeId:this.sectionId,trackingDescriptor:ev.c.SECTION_PRESET_PICKER_CLICKED})),i.setSelectionToSingleNode(this.sectionId)}this.sectionId=null}handleMouseMove(e){let t=e.findHoveredNodeId(),i=(0,u.UN)().get(t);i&&i.isSection?m.zl.get(ex.w)&&(c.GU?.eventHitTestNameUIBounds(e,t,d.f2e.SECTION_PRESET_PICKER)?d.Ez5?.setHoveredSectionPresetPickerNode(t):d.Ez5?.clearHoveredSectionPresetPickerNode()):d.Ez5?.clearHoveredSectionPresetPickerNode()}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){}}var eN=i(263740);let eC=class e extends h.j{constructor(e){super(e),this._snapper=null,this.ui=new C(b.r.invalidRect(),[],[],1,c.mi.HIDE),this.state={element:I.NONE,mouse:x.INACTIVE},this.hoveredSpans=new T.Mi(-1,-1),this.didDrag=!1,this.shouldRenderTableUi=c.mi.HIDE,this.previousMouseDragPos=T.Mi.invalid()}_getSnapper({interactionCpp:e}){return this._snapper||(this._snapper=e.getTableSpanSnapper()),this._snapper}_getOrUpdateTableUI(e){let t=e.canvasScale(),{bounds:i,widths:a,heights:s}=c.qm?{bounds:b.r.fromRectD(c.qm.viewportSpaceTableBounds()),widths:c.qm.getTableSpanLengths(R.gSS.COLUMN).map(e=>e*t),heights:c.qm.getTableSpanLengths(R.gSS.ROW).map(e=>e*t)}:{bounds:b.r.invalidRect(),widths:[],heights:[]};return this.ui.isDirty(i,a,s,t,this.shouldRenderTableUi)&&(this.ui=new C(i,a,s,t,this.shouldRenderTableUi)),this.ui}_getRegion(e,t){return e.getHoveredRegion(T.Mi.fromVectorD(t.viewportSpaceMouse()))}_selectSpan({axis:e,spanIndex:t,addToExistingSelection:i,interactionCpp:a,tableBindings:s}){let n=a.getTableSpanIdAtIndex(e,t);i&&a.isEntireSpanSelected(e,n)?(a.deselectSpan(e,n),a.maybeUpdatePivot()):s.selectTableSpans(e,[n],n,i)}_updateCursor({event:e,element:t,axis:i,interactionCpp:a}){let s=i===R.gSS.COLUMN?"horizontal":"vertical";switch(t){case I.RESIZE:a.setEventCursor(e,`${s}ResizeCursor`);break;case I.REORDER:a.setEventCursor(e,`${s}BlackMoveCursor`)}}_mouseComponent(e,t){return t===R.gSS.COLUMN?e.x:e.y}_isSelectingOrDraggingReorderHandle(){return this.state.element===I.REORDER&&(this.state.mouse===x.SELECTED||this.state.mouse===x.DRAGGED)}_isResizingSpan(){return this.state.element===I.RESIZE&&(this.state.mouse===x.SELECTED||this.state.mouse===x.DRAGGED)}_springDistanceFunction(t,i){let a=1/e.springStiffnessPower,s=Math.pow(1/a,1/(a-1)),n=s/i,o=Math.abs(t)*n,r=Math.pow(s,a)-s;return(o<s?o:Math.pow(o,a)-r)/n*Math.sign(t)}_extendedSpringDistanceFunction(e,t,i,a){let s=0;if(e>i)s=-i;else{if(!(e<t))return e;s=t}return this._springDistanceFunction(e+s,a)-s}_displacementSpringEffect(t,i,a){let s,n,o,r=this.ui.bounds(),l=1;t===R.gSS.ROW?(s=i.x,n=a.y,o=r.height(),l=.5):(s=i.y,n=a.x,o=r.width());let d=t===R.gSS.ROW?this.ui.numRows:this.ui.numColumns;var c=this._extendedSpringDistanceFunction(n,0,o-this.ui.getSpanThickness(d-1,t),e.boundarySpringStiffnessDistance*l)-n;return(s=this._springDistanceFunction(s,e.springStiffnessDistance),t===R.gSS.ROW)?new T.Mi(s,i.y+c):new T.Mi(i.x+c,s)}_updateSnapTargets({event:e,axis:t,spanFencepostIndex:i,interactionCpp:a}){let s=this._getSnapper({interactionCpp:a});a.cacheSnapTargetsForTableSpan(s,t,i),s.cacheTemporarySnapTargetsForLayoutGrids(e.canvasScene().handle,e.selectionNodeGUIDs(),e.canvasSpaceSnappingThreshold())}_getSnapOffset({event:e,mouse:t,interactionCpp:i}){if(this.state.element!==I.RESIZE)return 0;let a=this.state.tableAxis===R.gSS.COLUMN?new T.Mi(1,0):new T.Mi(0,1),s=e.canvasSpaceSnappingThreshold(),n=e.viewport().canvasSpaceViewportRect();return i.snapPointAlongAxis(this._getSnapper({interactionCpp:i}),t,a,s,n)}handleMouseLeave(e){}_hideTableUiForOtherInteraction({interactionCpp:e}){let t=e.getActiveUserAction();return t!==d.QOV.DEFAULT&&t!==d.QOV.SELECTING_TEXT&&!(this._isSelectingOrDraggingReorderHandle()||this._isResizingSpan())}_canProcessTableEvents({interactionCpp:e}){return this.shouldRenderTableUi!==c.mi.HIDE&&!this._hideTableUiForOtherInteraction({interactionCpp:e})}handleMouseMove(e){if(!c.qm||!this._canProcessTableEvents({interactionCpp:c.qm}))return;let t=this._getOrUpdateTableUI(e.viewport());this.hoveredSpans=t.getHoveredSpan(T.Mi.fromVectorD(e.viewportSpaceMouse()));let i=this._getRegion(t,e);i.element===I.RESIZE&&this._updateCursor({event:e,element:i.element,axis:i.tableAxis,interactionCpp:c.qm}),this.state={...i,mouse:x.HOVERED}}handleMouseDown(e){if(!c.qm||!this._canProcessTableEvents({interactionCpp:c.qm}))return;let t=this._getOrUpdateTableUI(e.viewport()),i=this._getRegion(t,e);switch(i.element){case I.NONE:return;case I.REORDER:{let t=c.qm.getTableSpanIdAtIndex(i.tableAxis,i.elementIndex),a=c.qm.viewportSpaceToTableSpanRelativePosition(t,e.viewportSpaceMouse());this.state={element:i.element,elementIndex:i.elementIndex,dividerHoverIndex:i.elementIndex,tableAxis:i.tableAxis,mouse:x.SELECTED,elementId:t,spanMouseDown:T.Mi.fromFigVector(a),numReorderingSpans:null},this._updateCursor({event:e,element:i.element,axis:i.tableAxis,interactionCpp:c.qm}),c.qm.setActiveUserAction(d.QOV.DRAGGING),(0,ei.HF)();break}case I.ADD:this.state={element:i.element,elementIndex:i.elementIndex,tableAxis:i.tableAxis,mouse:x.SELECTED};break;case I.RESIZE:if(this._updateCursor({event:e,element:i.element,axis:i.tableAxis,interactionCpp:c.qm}),2===e.clickCount()){let e=c.qm.getTableSpanIdAtIndex(i.tableAxis,Math.max(0,i.elementIndex-1));c.qm.resizeTableSpanToFitContents(i.tableAxis,e)}else{let e=c.qm.getTableSpanOppositePosition(i.tableAxis,i.elementIndex);this.state={element:i.element,opposite:e,elementIndex:i.elementIndex,tableAxis:i.tableAxis,mouse:x.SELECTED},c.qm.setActiveUserAction(d.QOV.RESIZING)}break;case I.APPEND:this.state={element:i.element,tableAxis:i.tableAxis,mouse:x.SELECTED}}e.accept(this)}_calculateDirectionOfMouseDrag(e,t){let i=t.minus(this.previousMouseDragPos),a=e===R.gSS.ROW?i.y:i.x;if(a<0)if(e===R.gSS.ROW)return 2;else return 0;if(a>0)if(e===R.gSS.ROW)return 3;else return 1}_calculateRepresentativeSpanIndex({tableAxis:e,directionOfMouseDrag:t,currentElementIndex:i,numSelectedSpans:a,interactionCpp:s}){if(a<=1||void 0===t)return i;switch(t){case 2:case 0:return s.findSmallestIndexOfSelectedSpans(e);case 3:case 1:return s.findLargestIndexOfSelectedSpans(e)}}_shouldReorderSpans(e,t,i,a){return(2===a||0===a)&&i>e||(3===a||1===a)&&!!(i<e)}_getSortedSelectedSpanIds({tableAxis:e,directionOfMouseDrag:t,interactionCpp:i,tableBindings:a}){let s;if(void 0===t)return[];let n=a.tableCellSelectionSelectedSpanIndexes(e);switch(t){case 2:case 0:s=n.sort((e,t)=>e-t);break;case 3:case 1:s=n.sort((e,t)=>t-e)}let o=[];for(let t of s)o.push([i.getTableSpanIdAtIndex(e,t),t]);return o}handleMouseDrag(e){if(c.qm&&d.Xxy&&this._canProcessTableEvents({interactionCpp:c.qm})&&(this._getSnapper({interactionCpp:c.qm}).clearSnappingVisualizations(),this.state.mouse===x.SELECTED||this.state.mouse===x.DRAGGED)){switch(this.state.element){case I.REORDER:{let{element:t,tableAxis:i,elementId:a,elementIndex:s}=this.state;if(this._updateCursor({event:e,element:t,axis:i,interactionCpp:c.qm}),(0,ei.HF)(),!this.didDrag){for(let e of(d.Xxy.tableCellSelectionSelectedSpanIndexes(i).includes(s)||this._selectSpan({axis:i,spanIndex:s,addToExistingSelection:!1,interactionCpp:c.qm,tableBindings:d.Xxy}),d.Xxy.tableCellSelectionSelectedSpanIndexes(i))){let t=c.qm.getTableSpanIdAtIndex(i,e);c.qm.setTableSpanFloating(t,!0)}d.Xxy.tableCellSelectionSelectedSpanIndexes(i).length>1&&c.qm.clumpTogetherSelectedSpansAround(i,a)}let n=d.Xxy.tableCellSelectionSelectedSpanIndexes(i);if(null===this.state.numReorderingSpans)this.state.numReorderingSpans=n.length;else if(this.state.numReorderingSpans!==n.length){this.handleMouseUp(e),c.qm.ensureNoTableSpansAreFloating();return}let o=e.viewportSpaceMouse(),r=T.Mi.fromVectorD(o),l=this._calculateDirectionOfMouseDrag(i,r),_=this._calculateRepresentativeSpanIndex({tableAxis:i,directionOfMouseDrag:l,currentElementIndex:s,numSelectedSpans:n.length,interactionCpp:c.qm}),u=c.qm.getTableSpanIdAtIndex(i,_),m=i===R.gSS.ROW?this.ui._getRowPositions():this.ui._getColumnPositions(),h=m[s]-m[_],p=i===R.gSS.ROW?new T.Mi(0,h):new T.Mi(h,0),g=r.minus(p),f=this.ui.getNearestSpan(i,i===R.gSS.ROW?g.y:g.x),E=f>_?f-1:f;if(this._shouldReorderSpans(f,E,_,l)){let e=d.Xxy.tableCellSelectionSelectedSpanIndexes(i).length;if(1===e)c.qm.reorderTableSpan(i,u,f),this.state.elementIndex=E;else if(e>1){let e=this._getSortedSelectedSpanIds({tableAxis:i,directionOfMouseDrag:l,interactionCpp:c.qm,tableBindings:d.Xxy}),t=f-_;for(let[a,s]of e)c.qm.reorderTableSpan(i,a,s+t);this.state.elementIndex=this.state.elementIndex+(E-_)}}this.state.dividerHoverIndex=f,this.state.mouse=x.DRAGGED;let b=T.Mi.fromFigVector(c.qm.viewportSpaceToTableSpanRelativePosition(this.state.elementId,o)),y=c.qm.getTableSpanIdAtIndex(this.state.tableAxis,0),S=T.Mi.fromFigVector(c.qm.viewportSpaceToTableSpanRelativePosition(y,o)),v=this._displacementSpringEffect(i,b.minus(this.state.spanMouseDown),S.minus(this.state.spanMouseDown));for(let e of d.Xxy.tableCellSelectionSelectedSpanIndexes(i)){let t=c.qm.getTableSpanIdAtIndex(i,e);c.qm.setTableSpanDisplacement(t,v)}this.previousMouseDragPos=T.Mi.fromVectorD(o),e.accept(this);break}case I.RESIZE:{let{tableAxis:t,elementIndex:i,opposite:a}=this.state;this._updateSnapTargets({event:e,axis:t,spanFencepostIndex:i,interactionCpp:c.qm}),this._updateCursor({event:e,element:this.state.element,axis:t,interactionCpp:c.qm});let s=e.viewport().viewportSpaceToCanvasSpace(e.viewportSpaceMouse()),n=c.qm.gridSnapBehavior(),o=T.Mi.fromVectorD(s).divideBy(n).rounded().multiplyBy(n),r=(0===i?-1:1)*(this._mouseComponent(o,t)-a),l=(0===i?-1:1)*this._getSnapOffset({event:e,mouse:o,interactionCpp:c.qm}),d=Math.max(0,i-1);c.qm.resizeTableSpan(t,d,r+l,0===i),this._getSnapper({interactionCpp:c.qm}).addPostSnappingVisualizations(),this.state.mouse=x.DRAGGED,e.accept(this)}}this.didDrag=!0}}handleMouseUp(e){if(!c.qm||!d.Xxy||!this._canProcessTableEvents({interactionCpp:c.qm})){this.didDrag=!1;return}let t=this._getOrUpdateTableUI(e.viewport()).getHoveredRegion(T.Mi.fromVectorD(e.viewportSpaceMouse()));if(this.state.mouse===x.SELECTED||this.state.mouse===x.DRAGGED){switch(this.state.element){case I.ADD:let{element:i,elementIndex:a,tableAxis:s}=this.state;t.element===i&&t.elementIndex===a&&c.qm.insertTableSpan(s,a);break;case I.REORDER:{let{elementId:i,elementIndex:a,tableAxis:s}=this.state;if(this.didDrag&&d.Xxy.tableCellSelectionSelectedSpanIndexes(s).length>0){for(let e of(c.qm.logTableSpanReordered(s,i,a),(0,ei.HF)(),d.Xxy.tableCellSelectionSelectedSpanIndexes(s))){let t=c.qm.getTableSpanIdAtIndex(s,e);c.qm.setTableSpanFloating(t,!1)}c.qm.setActiveUserAction(d.QOV.DEFAULT);break}if(t.element===this.state.element&&t.elementIndex===this.state.elementIndex)if(e.isShiftPressed()){let e=c.qm.getTableSpanIdAtIndex(s,a);c.qm.selectTableSpanRange(s,e,!1)}else{this._selectSpan({axis:s,spanIndex:a,addToExistingSelection:e.isMetaPressed(),interactionCpp:c.qm,tableBindings:d.Xxy});let t=(0,u.UN)().get(e.canvasGUID());0===(t?.directlySelectedNodes.length??0)&&(this.state={element:I.NONE,mouse:x.INACTIVE})}for(let e of d.Xxy.tableCellSelectionSelectedSpanIndexes(s)){let t=c.qm.getTableSpanIdAtIndex(s,e);c.qm.setTableSpanFloating(t,!1)}c.qm.setActiveUserAction(d.QOV.DEFAULT);break}case I.APPEND:{let e=this.state.tableAxis===R.gSS.COLUMN?this.ui.numColumns:this.ui.numRows;c.qm.insertTableSpan(this.state.tableAxis,e);break}case I.RESIZE:c.qm.setActiveUserAction(d.QOV.DEFAULT),this._getSnapper({interactionCpp:c.qm}).clearCache()}this.didDrag=!1,this.state.mouse=x.HOVERED,e.accept(this)}}handleBeforeFrame(){if(!c.qm)return;let e=this.shouldRenderTableUi;this.shouldRenderTableUi=c.qm.shouldRenderTableUiForSelection(),e&&!this.shouldRenderTableUi&&c.qm.ensureNoTableSpansAreFloating()}handleContextMenuOpen(e){if(!c.qm||!d.Xxy||!this._canProcessTableEvents({interactionCpp:c.qm}))return;let t=this._getOrUpdateTableUI(e.viewport()),i=this._getRegion(t,e);if(i.element===I.REORDER){let t=i.tableAxis,a=i.elementIndex;if(e.isShiftPressed()){let e=c.qm.getTableSpanIdAtIndex(t,a);c.qm.selectTableSpanRange(t,e,!1)}else this._selectSpan({axis:t,spanIndex:a,addToExistingSelection:e.isMetaPressed(),interactionCpp:c.qm,tableBindings:d.Xxy});e.setOwnedBySelection(!0),e.accept(this)}}renderSelection(e){if(d.Xxy)for(let t of(0,y.U)(R.gSS))for(let i of d.Xxy.tableCellSelectionSelectedSpanIndexes(t))this.ui.renderExpandedReorderHandle(e,t,i,x.SELECTED)}renderHoveredElements(e,t){let i=this._getOrUpdateTableUI(e);switch(this.state.element){case I.NONE:break;case I.ADD:{let{tableAxis:e,elementIndex:a,mouse:s}=this.state;i.renderAddButton(t,e,a,s),i.renderDivider(t,e,a,s);break}case I.REORDER:{let{tableAxis:e,elementIndex:a,mouse:s}=this.state;i.renderExpandedReorderHandle(t,e,a,s)}}}renderHoveredElementsUnderEditModeUI(e,t){let i=this._getOrUpdateTableUI(e);this.state.element===I.APPEND&&i.renderAppendButton(t,this.state.tableAxis,this.state.mouse)}shouldRenderAllInactiveElements(){return eN.A.isIpad}render(e,t){let i=this._getOrUpdateTableUI(e);c.qm&&i.shouldRender()&&this._canProcessTableEvents({interactionCpp:c.qm})&&(this.shouldRenderAllInactiveElements()?i.renderAllInactiveElements(t):this._isSelectingOrDraggingReorderHandle()||this._isResizingSpan()||i.renderHoveredInactiveElements(t,this.hoveredSpans),this.renderHoveredElements(e,t),this.renderSelection(t),c.qm.renderSnappingVisualizations(this._getSnapper({interactionCpp:c.qm}),t,e))}renderUnderEditModeUI(e,t){let i=this._getOrUpdateTableUI(e);c.qm&&i.shouldRender()&&this._canProcessTableEvents({interactionCpp:c.qm})&&(this.shouldRenderAllInactiveElements()?i.renderAllInactiveElementsUnderEditModeUI(t):this._isSelectingOrDraggingReorderHandle()||this._isResizingSpan()||i.renderHoveredInactiveElementsUnderEditModeUI(t,this.hoveredSpans),this.renderHoveredElementsUnderEditModeUI(e,t))}reset(){}};eC.springStiffnessDistance=25,eC.boundarySpringStiffnessDistance=64,eC.springStiffnessPower=3;var eL=i(982293);class ew extends h.j{constructor(e){super(e)}handleMouseMove(e){c.NE?.hitTestTemplatePreview(e)}handleMouseDown(e){c.NE?.hitTestTemplatePreview(e)&&e.accept(this)}handleMouseUp(e){c.NE?.hitTestTemplatePreview(e)&&m.zl.set(eL.bj,{selectTemplateAfterCommit:!0,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:R.zkO.USER})}handleMouseLeave(e){}handleMouseDrag(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){}}var eD=i(684946);class ej extends h.j{constructor(e){super(e)}handleMouseDown(e){if(this.isPointWithinVideoNode(e.viewportSpaceMouse())&&eN.A.isIpad){let{pointerDownOnVideo:e}=m.zl.get(eD.H);m.zl.set(eD.H,{isVideoNodeHovered:!0,pointerDownOnVideo:!e})}}handleMouseMove(e){if(this.isPointWithinVideoNode(e.viewportSpaceMouse())){let{pointerDownOnVideo:e}=m.zl.get(eD.H);m.zl.set(eD.H,{isVideoNodeHovered:!0,pointerDownOnVideo:e})}else m.zl.set(eD.H,{isVideoNodeHovered:!1,pointerDownOnVideo:!1})}isPointWithinVideoNode(e){let t=c.qm?.viewportSpaceVideoBounds();if(!t)return!1;let i=b.r.fromRectD(t);return!i.isInvalid()&&i.containsPointIncludingBoundary(T.Mi.fromVectorD(e))}handleMouseUp(e){}handleMouseDrag(e){}handleMouseLeave(e){}handleContextMenuOpen(e){}handleBeforeFrame(){}render(e,t){}renderUnderEditModeUI(e,t){}reset(){}}let ek={ArrangeAsListBehavior:H,ConnectorToolBehavior:es,TableBehavior:eC,TemplatePreviewBehavior:ew,VideoBehavior:ej,SectionPresetBehavior:eO,DevHandoffAnnotationsMouseBehavior:g,WebpageBehavior:eR,ResponsiveNodeSetBehavior:ep,SlideDeckAddBehavior:U,SlideDeckReorderRowBehavior:V,MoveEmbeddedPrototypeBehavior:L,BuzzGridAddBehavior:o.X,BuzzGridReorderRowBehavior:r.r,BuzzGridStateGroupErrorBehavior:l.A,FrameQuickAddBehavior:eu,CMSRepeaterCandidateBehavior:Y,CMSFieldPickerCandidateBehavior:$};class eM{createMouseBehavior(e){if(e in ek)return new ek[e](e);throw Error("unexpected mouse behavior name: "+e)}tableUiReorderHandleHoveredLength(){return C.reorderHandleHoveredLength}tableUiAddButtonHoveredRadius(){return C.addButtonHoveredRadius}}function eP(){a=new eM}},859069(e,t,i){let a;i.d(t,{F_:()=>a,dB:()=>d});var s=i(291061),n=i(270450),o=i(982021);class r{constructor(e,t,i){this.getFeatureFlags=e,this.observabilityClient=t,this.timerAPI=i,this.panVital=null,this.zoomVital=null,this.dragVital=null,this.panDebounceTimer=null,this.zoomDebounceTimer=null,this.dragDebounceTimer=null}onPan(){this.getFeatureFlags().critical_interaction_instrumentation_pan_zoom&&(this.panVital||(this.panVital=this.observabilityClient.createVital("viewport_pan_interaction",{level:s.$b.INFO,trackFps:!0,description:"Tracks FPS during viewport pan interactions"}),this.panVital.start()),null!==this.panDebounceTimer&&this.timerAPI.clearTimeout(this.panDebounceTimer),this.panDebounceTimer=this.timerAPI.setTimeout(()=>{this.stopPan()},100))}onZoom(){this.getFeatureFlags().critical_interaction_instrumentation_pan_zoom&&(this.zoomVital||(this.zoomVital=this.observabilityClient.createVital("viewport_zoom_interaction",{level:s.$b.INFO,trackFps:!0,description:"Tracks FPS during viewport zoom interactions"}),this.zoomVital.start()),null!==this.zoomDebounceTimer&&this.timerAPI.clearTimeout(this.zoomDebounceTimer),this.zoomDebounceTimer=this.timerAPI.setTimeout(()=>{this.stopZoom()},100))}stopPan(){this.panVital&&(this.panVital.stop(),this.panVital=null),null!==this.panDebounceTimer&&(this.timerAPI.clearTimeout(this.panDebounceTimer),this.panDebounceTimer=null)}stopZoom(){this.zoomVital&&(this.zoomVital.stop(),this.zoomVital=null),null!==this.zoomDebounceTimer&&(this.timerAPI.clearTimeout(this.zoomDebounceTimer),this.zoomDebounceTimer=null)}onDrag(){this.getFeatureFlags().critical_interaction_instrumentation_pan_zoom&&(this.dragVital||(this.dragVital=this.observabilityClient.createVital("viewport_drag_interaction",{level:s.$b.INFO,trackFps:!0,description:"Tracks FPS during viewport drag interactions"}),this.dragVital.start()),null!==this.dragDebounceTimer&&this.timerAPI.clearTimeout(this.dragDebounceTimer),this.dragDebounceTimer=this.timerAPI.setTimeout(()=>{this.stopDrag()},100))}stopDrag(){this.dragVital&&(this.dragVital.stop(),this.dragVital=null),null!==this.dragDebounceTimer&&(this.timerAPI.clearTimeout(this.dragDebounceTimer),this.dragDebounceTimer=null)}}let l={setTimeout:(e,t)=>window.setTimeout(e,t),clearTimeout:e=>window.clearTimeout(e)};function d(){a=new r(n.getFeatureFlags,o.J,l)}},727618(e,t,i){i.d(t,{j:()=>s});var a=i(655500);let s=new class{constructor(){this.counterAtom=(0,a.hR)({value:0},{changeFileBehavior:a.hW.RESET_VALUE_ON_FILE_CHANGE}),this.arrayAtom=(0,a.hR)([{value:0}],{changeFileBehavior:a.hW.RESET_VALUE_ON_FILE_CHANGE}),this.jsValueTestsCallback=null}jsEchoUintValue(e){if(e<0)throw Error("Unsigned value was negative");return e}jsEchoStringValue(e){return e}jsEchoInt64Value(e){return e}jsEchoUint64Value(e){return e}jsEchoInt64Struct(e){return e}jsEchoIntArrayValue(e){return e}jsEchoBoolArrayValue(e){return e}jsEchoJsonValue(e){return e}jsEchoJsValue(e){return e}jsEchoOptionalJsValue(e){return e}jsEchoDeeplyNestedJsValue(e){return e}jsEchoIntMapValue(e){return e}jsEchoFastParseableStructValue(e){return e}jsEchoNonFastParseableStructValue(e){return e}jsEchoIntSetValue(e){return e}jsEchoOptionalStringValue(e){return e}jsEchoOptionalStringStruct(e){return e}jsEchoCallbackValue(e){return e}getObservableCounter(){return this.counterAtom.observable}getObservableArray(){return this.arrayAtom.observable}jsValueTestsDone(e){this.jsValueTestsCallback?.(e),this.jsValueTestsCallback=null}setJsValueTestsCallback(e){this.jsValueTestsCallback=e}}},364573(e,t,i){i.d(t,{v:()=>s});var a=i(39116);function s(e){let t=a.y.isApple();switch(e.toUpperCase()){case"'":return"\u2032";case"-":return"\u2013";case"ESCAPE":return"\u238B";case"ENTER":return"\u21A9";case"RETURN":return"\u23CE";case"TAB":return"\u21E5";case"LEFT":case"ARROWLEFT":return"\u2190";case"RIGHT":case"ARROWRIGHT":return"\u2192";case"UP":case"ARROWUP":return"\u2191";case"DOWN":case"ARROWDOWN":return"\u2193";case"DELETE":return"\u2326";case"BACKSPACE":return"\u232B";case"CAPS LOCK":return"\u21EA";case"CONTROL":return t?"\u2303":"Ctrl";case"ALT":case"RIGHTALT":return t?"\u2325":"Alt";case"SHIFT":return t?"\u21E7":"Shift";case"META":return t?"\u2318":a.y.isWindows()?"Win":"Meta";case"BACKSLASH":return"\\";default:return e}}},327559(e,t,i){let a;i.d(t,{LC:()=>r,zT:()=>a});var s=i(256081),n=i(564551);class o{onNodeUpdate(e){let t=(0,s.X5)();t&&t.onNodeUpdate(e)}onNodeDeleted(e){let t=(0,s.X5)();t&&t.onNodeDeleted(e)}onNodeCreated(e){let t=(0,s.X5)();t&&t.onNodeCreated(e)}async isDesignLinterEnabledForUser(){return await (0,n.kU)()}isDesignLinterEnabledForUser_UNSAFE(){return(0,n.Ki)()}}function r(){a=new o}},277909(e,t,i){let a;i.d(t,{YN:()=>a,qZ:()=>m});var s=i(297746),n=i(417675),o=i(759231),r=i(504923),l=i(4257),d=i(414869),c=i(409731),_=i(194579);class u{setMentionsTypeaheadQuery(e){o.zl.set(c.h1,e)}clearMentionsTypeaheadQuery(e,t){if(e){let e=o.zl.get(c.h1),i=o.zl.get(c.LQ)?.index||null,a=o.zl.get(c.wm);(0,d.W)(e,t,i,a)}o.zl.set(c.h1,null),this.endSearchSession()}isShowingMentionsTypeaheadResults(){let e=o.zl.get(c.LQ);return!!e?.mentions?.length}setMentionsTypeaheadTargetRect(e,t,i){o.zl.set(c.MX,{x:e,y:t,height:i,width:0})}startSearchSession(){let e=(0,r.MZ)();return o.zl.set(c.wm,e),e}endSearchSession(){let e=o.zl.get(c.wm);return o.zl.set(c.wm,""),e}showVisualBellForPastedMentions(e,t){_.Y5.dispatch(l.F.enqueue({message:(0,n.t)("whiteboard.visual_bell.canvas_at_mentions_send_notifications_from_pasted_mentions",{numUsers:t}),button:{text:(0,n.t)("whiteboard.visual_bell.canvas_at_mentions_send_notifications_from_pasted_mentions_action"),action:()=>{s.fp8?.allowSendNotificationsForPastedMentions(e)}}}))}}function m(){a=new u}},212437(e,t,i){let a;i.d(t,{DI:()=>_,Ds:()=>g,ZO:()=>a,e8:()=>u,vS:()=>m});var s=i(359731),n=i(414072),o=i(115378);let r=!1,l=!1,d=!1,c=!1;function _(){l=!0,h()}function u(){r=!1,l=!1,d=!1,c=!1}function m(e,t){let i=n.D.getState(),a=i.openFile?.key;a&&!c&&((0,o.ds)("Show Missing Fonts Popover",a,i,{fontListLoaded:e,counts:t,timeNow:performance.now()}),c=!0)}function h(){if(r&&l&&!d){let e=n.D.getState(),t=new Set(Object.values(e.fonts).map(e=>Object.values(e)).flat().map(e=>e.source)),i=e.openFile?.key,a=e.figFileDuplicatedFromHubFile,r=!1;void 0!==i&&void 0!==a&&(r=null!=a[i]),(0,o.ds)("has_missing_font",i,e,{has_google_fonts:t.has(s.jXp.GOOGLE),has_local_fonts:t.has(s.jXp.LOCAL),has_shared_fonts:t.has(s.jXp.SHARED),is_community_duplicated_file:r}),d=!0}}class p{markMissingFontScannerAsComplete(){r=!0,h()}}function g(){a=new p}},635593(e,t,i){let a;i.d(t,{PU:()=>r,pY:()=>a});var s=i(759231),n=i(945013);class o{getOpenFileParentOrgId(){return s.zl.get(n.yV)?.parentOrgId??null}}function r(){a=new o}},259294(e,t,i){i.d(t,{Ts:()=>x,Z_:()=>y,yQ:()=>T});var a=i(898860),s=i(297746),n=i(16233),o=i(270450),r=i(759231),l=i(263740),d=i(575015),c=i(32186),_=i(86118),u=i(414072),m=i(115378),h=i(587360),p=i(683855),g=i(477658),f=i(624984);let E={periodMs:36e5,frequentPeriodMs:6e4},b={periodMs:3e5,frequentPeriodMs:6e4};function T(e,t){return Object.keys(e).reduce((i,a)=>{let s=t[a],n=e[a];return null!=s&&null!=n&&(i[a]=s-n),i},{})}function y(){let e=S();if(!n.P2)return{...e};let t=n.P2.getHeapMemoryBreakdown(),i={};for(let e of Object.keys(t))i[`heap_breakdown_${e}`]=t[e];let a=n.P2.getRendererMemoryBreakdown()||{};function s(e){return"number"==typeof e?e:parseInt(e)}return{...e,renderer_gpu_memory:s(n.P2.getRendererGpuMemory()),renderer_textures_memory:s(a.textures),renderer_vertex_buffers_memory:s(a.vertexBuffers),renderer_render_buffers_memory:s(a.renderBuffers),renderer_uniform_buffers_memory:s(a.uniformBuffers),image_memory:s(n.P2.getTotalImageMemory()),...i}}function S(){let e=(0,h.aW)()??0,t=a.hM;if(!t)return{process_memory:e,emscripten_reserved_memory:(0,h.le)()};let i=t.getTotalUsedHeapMemory();return{process_memory:e,cpp_memory:i,js_memory:e>i?e-i:void 0,cpp_max_memory:t.getMaxUsedHeapMemory(),alloc_total:t.getAllocTotal(),alloc_call_count:t.getAllocCallCount(),emscripten_reserved_memory:(0,h.le)(),indirect_buffer_memory:t.getJsBufferMemory(),texture_image_memory:t.getTextureMemStatsTotal(a.aD.IMAGE),texture_tile_atlas_memory:t.getTextureMemStatsTotal(a.aD.TILE_ATLAS),texture_tile_stack_memory:t.getTextureMemStatsTotal(a.aD.TILE_STACK),texture_glyph_data_memory:t.getTextureMemStatsTotal(a.aD.GLYPH_DATA),compressed_images:t.getImageMemStatsTotal(a.fL.BITMAP),uncompressed_images_arraybuffer:t.getImageMemStatsTotal(a.fL.COMPRESSED),uncompressed_images_imagebitmap:t.getImageMemStatsTotal(a.fL.BUFFER)}}async function R(){if(_.eD){let e=await _.eD.getCPUUsage();if(e)return e.percent}return null}async function v(e,t,i,n,o){let _="Fullscreen Periodic Metrics"===e;if(!(!a.hM||"ok"!==r.zl.get(g.h)||(0,d.PN)()))if(_){let a=y();i&&(a.cpu_usage=await R());let r=(0,f.dd)(),d=(0,f.PH)();(0,m.ds)(e,n,u.D.getState(),{reporting_interval:t,file_key:n,is_hidden:document.hidden,product_type:o,is64BitBrowser:l.A.is64BitBrowser,multiplayer_state:s.h3O&&(0,p.LD)(s.h3O.getSessionState()),...a,...r,...d},{forwardToDatadog:!0})}else{let a=S();i&&(a.cpu_usage=await R());let s=(0,f.dd)(),o=(0,f.PH)();(0,c.sx)(e,{reporting_interval:t,file_key:n,is_hidden:document.hidden,is64BitBrowser:l.A.is64BitBrowser,...a,...s,...o},{forwardToDatadog:!0})}}let I=!1;function x(e,t,i){if(I)return;I=!0;let a=(0,o.getFeatureFlags)().cpu_monitoring_enabled||!1,s="Fullscreen Periodic Metrics"===e?E:b,n=s.periodMs;(0,o.getFeatureFlags)().frequent_periodic_metrics&&(n=s.frequentPeriodMs),setTimeout(()=>{v(e,0,a,t(),i())},3e5),setInterval(()=>{v(e,n,a,t(),i())},n)}},97121(e,t,i){let a,s;i.d(t,{$G:()=>s,LU:()=>d,Pu:()=>a});var n=i(800201),o=i(183172);class r{isRenderWorkerSupported(){return o.s.isRenderWorkerSupported()}convertToBitmapViaRenderWorker(e,t,i,a,s,n){let r=o.s.getInstance(),l=r.channel;if(!l)throw Error("Render worker channel not found");return r.beginExport(),new Promise(async(o,d)=>{r.registerExportRejection(d);try{let c=n.map(e=>this.sendImageDataToRenderWorker(e.imageHash,e.compressedData,e.mimeType,e.imageMetadata,e.isThumbnail,e.emojiIdString));await Promise.all(c);let _=await l.request("convertToBitmapFromRenderTree",{input:e,settings:t,renderTree:i,baseFilename:a,stopAfterTimeSeconds:s},[i.buffer]);r.unregisterExportRejection(d),o({imageBuffer:new Uint8Array(_.imageBuffer),cpuTimerTree:_.cpuTimerTree,gpuMetrics:_.gpuMetrics})}catch(e){r.unregisterExportRejection(d),d(e)}finally{r.endExport()}})}async sendImageDataToRenderWorker(e,t,i,a,s,r){let l=o.s.getInstance().channel;if(!l)throw Error("Render worker channel not found");let d=await n.EC.decodeAsync(t,i,0,0,!0);return r?l.request("sendEmojiDataToRenderWorker",{emojiIdString:r,imageBitmap:d.bitmap,width:d.width,height:d.height},[d.bitmap]):l.request("sendImageDataToRenderWorker",{imageHash:e,compressedData:t.buffer,decodedImage:d.bitmap,imageMetadata:a,isThumbnail:s},[t.buffer,d.bitmap]),!0}}class l{sendRenderTreeToRenderWorkerForCanvasRendering(e,t,i,a,s){let n=o.s.getInstance().channel;n?n.request("sendRenderTreeToRenderWorkerForCanvasRendering",{renderTree:e,devicePixelRatio:t,canvasOriginX:i,canvasOriginY:a,canvasScale:s},[e.buffer]):console.warn("Render worker channel not found, skipping sendRenderTreeToRenderWorkerForCanvasRendering")}}function d(){a=new r,s=new l}},183172(e,t,i){i.d(t,{s:()=>T});var a=i(705633),s=i(270450),n=i(32186),o=i(925778),r=i(824203),l=i(982021),d=i(184634),c=i(153745),_=i(778745),u=i(684833),m=i(940848),h=i(39116);let p=Fig.renderWorkerURL,g=(0,s.getFeatureFlags)()?.fullscreen_use_threaded_rendering||(0,s.getFeatureFlags)()?.fullscreen_use_threaded_exporter,f=g?Fig.renderBundleURLs["compiled_wasm.js"]:"compiled_wasm.js",E=g?Fig.renderBundleURLs["compiled_wasm.wasm"]:"compiled_wasm.wasm",b=class e{constructor(){this._worker=null,this._channel=null,this._currentState="uninitialized",this._previousState=null,this._onEnterStateCallbacks={},this._activeExportCount=0,this._activeExportRejects=[],this._RenderingWorkerStates={uninitialized:{spawn:{_event:"spawn",_target:"spawned",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},restarting:{spawn:{_event:"spawn",_target:"spawned",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},spawned:{init:{_event:"init",_target:"initializing",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},initializing:{initialized:{_event:"initialized",_target:"initialized",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},initialized:{start:{_event:"start",_target:"starting",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},starting:{started:{_event:"started",_target:"started",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},started:{beginExport:{_event:"beginExport",_target:"exporting",_callback:this.defaultTransitionCallback},stop:{_event:"stop",_target:"stopping",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback},restart:{_event:"restart",_target:"restarting",_callback:this.defaultTransitionCallback}},exporting:{endExport:{_event:"endExport",_target:"started",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback},restart:{_event:"restart",_target:"restarting",_callback:this.defaultTransitionCallback}},stopping:{stopped:{_event:"stopped",_target:"stopped",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}},stopped:{start:{_event:"start",_target:"starting",_callback:this.defaultTransitionCallback},error:{_event:"error",_target:"error",_callback:this.defaultErrorCallback}}}}defaultTransitionCallback(t,i,a){let s=e.getInstance()._onEnterStateCallbacks[i];s&&s(t,i,a)}defaultErrorCallback(e,t,i){(0,c.x1)("RenderingWorker",`Critical error: invalid event ${i} while in state ${e} to ${t}`),"error"===t&&(this._activeExportCount>0&&this.triggerExportFallbacks(),this._activeExportCount=0)}processStateMachineEvent(e){let t=this._RenderingWorkerStates[this._currentState];if(t){let i=t[e];i?(this._previousState=this._currentState,this._currentState=i._target,i._callback&&i._callback(this._previousState,this._currentState,e)):(0,c.xi)("RenderingWorker",`No transition found for event ${e} in state ${this._currentState}`)}else(0,c.x1)("RenderingWorker",`No state information found for ${this._currentState}`)}processIdMessage(t){e.getInstance()._currentState,t&&(t?e.getInstance().processStateMachineEvent(t):(0,c.x1)("RenderingWorker",`Unknown event ${t} received`))}get channel(){return this._channel}get worker(){return this._worker}onError(t){let i=e.getInstance();switch(i._currentState){case"started":(0,c.x1)("RenderingWorker","Render Worker crashed while not in an export. Restarting.",{error:t}),i.restartWorker();break;case"exporting":"exporting"===i._currentState&&i._activeExportCount>0&&((0,c.x1)("RenderingWorker","Render worker crashed during export. Restarting and triggering export fallbacks",{error:t,activeExportCount:i._activeExportCount}),i.triggerExportFallbacks()),i.restartWorker();break;default:(0,c.x1)("RenderingWorker","Error from rendering worker while already in an error state!",{error:t})}}static isRenderWorkerSupported(){let e="undefined"!=typeof OffscreenCanvas;return"undefined"!=typeof Worker&&e}static getInstance(){return e._instance||(e._instance=new e),e._instance}installListenersOnChannel(){this._channel?.addServerMethod("trackDefinedEvent",({eventName:e,data:t})=>(n.az.trackDefinedEvent(e,t),{data:{}})),this._channel?.addServerMethod("setGlobalContext",({key:e,value:t})=>(l.J.setGlobalContext(e,t),{data:{}})),this._channel?.addServerMethod("reportErrorToSentry",({team:e,error:t})=>((0,d.$D)(e,t),{data:{}})),this._channel?.addServerMethod("trackDefinedEventFromFullscreen",({event:e,args:t})=>(console.warn("trackDefinedEventFromFullscreen: ",e,t),n.az.trackDefinedFullscreenEvent(e,(0,m.r)(t||{})),{data:{}}))}async spawnWorker(){if(this._worker||"uninitialized"!==this._currentState&&"restarting"!==this._currentState)return void(0,c.x1)("RenderingWorker","Attempting to spawn the rendering worker but it's already spawned");let{worker:e,channel:t}=await (0,_.r)(p,"render-worker");if(this._worker=e,this._channel=t,this.installListenersOnChannel(),!this._worker){(0,c.x1)("RenderingWorker","Failed to spawn rendering worker"),this.processStateMachineEvent("error");return}this._worker.addEventListener("error",this.onError),this.processStateMachineEvent("spawn")}needsAlphaGPUBackingStore(){return!!new URLSearchParams(o.Ay.location.search).get("needsAlpha")}init(){if(!this._worker)return void(0,c.x1)("RenderingWorker","Trying to init Rendering Worker but it isn't spawned yet");"spawned"===this._currentState||(0,c.x1)("RenderingWorker","Trying to init Rendering Worker that isn't valid in state "+this._currentState);let e=document.createElement("canvas");if(a.v.getFeatureGate("fullscreen_use_threaded_rendering")){let t=document.getElementsByTagName("canvas")[0];t.parentNode?.appendChild(e),t.parentNode?.removeChild(t),e.id="fullscreen-root-2"}let t=e.transferControlToOffscreen();this.processStateMachineEvent("init");var i=null;try{i=self.localStorage}catch(e){}var n=!!(i&&!0===i["low-power"]);if(!f||!E){(0,c.x1)("RenderingWorker","Failed to get rendering worker bundle URLs"),this.processStateMachineEvent("error");return}let o=h.y.getMemoryLimit();this._channel.request("init",{jsUrl:f,wasmUrl:E,canvas:t,powerPref:n?"low-power":"high-performance",featureFlags:(0,s.getFeatureFlags)(),dynamicConfigs:(0,r.default)()?.dynamic_configs||{},webGPUSupport:{isWebGL2Supported:(0,u.ap)(),isWebGPUSupported:(0,u.Vu)(),isWebGPUSupportedAndAllowed:(0,u.wO)(),mustUseWebGPU:(0,u.Zj)()},isE2ETest:(0,r.default)().e2e_traffic,platformInfo:{isIE:h.y.isIE(),isEdge:h.y.isEdge(),isChrome:h.y.isChrome(),isFirefox:h.y.isFirefox(),isSafari:h.y.isSafari(),isMobileBrowser:h.y.isMobileBrowser(),isMac:h.y.isMac(),isiOS:h.y.isiOS(),isWindows:h.y.isWindows(),isLinux:h.y.isLinux(),isChromeOS:h.y.isChromeOS(),isChromePre118:h.y.isChromePre118(),isInNativeApp:h.y.isInNativeApp(),isIpad:h.y.isIpad(),isIpadNative:h.y.isIpadNative(),isMeetDevice:h.y.isMeetDevice(),isApple:h.y.isApple(),isOnline:h.y.isOnline(),logicalCoreCount:h.y.logicalCoreCount(),physicalMemoryMB:o.physicalMemoryMB,textureMemoryMB:o.textureMemoryMB,hasVirtualMemory:o.hasVirtualMemory,isZoomIntegration:h.y.isZoomIntegration(),isIntlBacklashAndBackquoteSwapped:h.y.isIntlBacklashAndBackquoteSwapped()}},[t]).then(({id:e})=>{this.processIdMessage(e)})}start(){!this._worker||this._currentState in["initialized","stopped"]?console.error("Trying to start Rendering Worker from an invalid state",this._currentState):(this.processStateMachineEvent("start"),this._channel.request("start",{}).then(({id:e})=>{this.processIdMessage(e)}))}beginExport(){"started"===this._currentState?(this._activeExportCount++,this.processStateMachineEvent("beginExport"),this._activeExportCount):"exporting"===this._currentState?(this._activeExportCount++,this._activeExportCount):(0,c.xi)("RenderingWorker",`Attempting to begin export from invalid state: ${this._currentState}`)}endExport(){"exporting"===this._currentState?this._activeExportCount>0?(this._activeExportCount--,this._activeExportCount,0===this._activeExportCount&&this.processStateMachineEvent("endExport")):(0,c.xi)("RenderingWorker","endExport called but export count is already 0"):(0,c.xi)("RenderingWorker",`Attempting to end export from invalid state: ${this._currentState}`)}isExporting(){return"exporting"===this._currentState&&this._activeExportCount>0}registerExportRejection(e){this._activeExportRejects.push(e)}unregisterExportRejection(e){let t=this._activeExportRejects.indexOf(e);-1!==t&&this._activeExportRejects.splice(t,1)}triggerExportFallbacks(){if(this._activeExportRejects.length>0){this._activeExportRejects.length;let e=Error("Render worker crashed during export, falling back to synchronous export");e.isRenderWorkerCrash=!0;let t=[...this._activeExportRejects];for(let i of(this._activeExportRejects=[],t))i(e)}}restartWorker(){this._worker=null,this._activeExportCount=0,this.processStateMachineEvent("restart"),this.spawnAndStart()}spawnAndStart(){this._onEnterStateCallbacks.spawned=()=>{e.getInstance().init()},this._onEnterStateCallbacks.initialized=()=>{e.getInstance().start()},this.spawnWorker()}};b._instance=null;let T=b},218539(e,t,i){i.d(t,{m:()=>n});var a=i(359731),s=i(715458);let n=new class{readRichTextFromHtml(e){return(0,s.ln)(e)}createHtmlFromTextNodes(e){return(0,s.QJ)(e)}createHtmlFromTextData(e){if(-1===e)return"";let t=a.YMM.getOrCreateJsCopy(e),i={characters:t.characters,characterStyleIDs:t.characterStyleIDs,styleOverrideTable:t.styleOverrideTable,lines:t.lines};return(0,s.gv)([i])}}},249837(e,t,i){i.d(t,{M:()=>a,g:()=>s});let a=null;function s(e){a=e}},362033(e,t,i){i.d(t,{v:()=>n});var a=i(759231),s=i(104830);let n=new class{setSitesViewState(e){a.zl.set(s.s0,e)}getSitesViewState(){return a.zl.get(s.s0)}}},627886(e,t,i){i.d(t,{u:()=>ee});var a=i(25378),s=i(919278);let n=`import { defineProperties } from "figma:react";

export default function Layer({ text }) {
  return (
    <div className="flex flex-wrap items-center justify-center size-full p-2 gap-1 bg-blue-600 text-white rounded-xl">
      <div className="text-md font-light truncate">{text}</div>
    </div>
  );
}

defineProperties(Layer, {
  text: {
    label: "Text",
    type: "string",
    defaultValue: "Code layer",
  },
});`,o=`import { Frame, Span } from "figma:react-scenegraph-components";
import { defineProperties } from "figma:react";

export default function Layer({ text }) {
  return (
    <Frame
      fill="#155dfc"
      cornerRadius={6}
      flex="vertical"
      spacing={10}
      verticalAlignItems="center"
      horizontalAlignItems="center"
      width={200}
      height={200}
    >
      <Span fill="#FFFFFF">{text}</Span>
    </Frame>
  );
}

defineProperties(Layer, {
  text: {
    label: "Text",
    type: "string",
    defaultValue: "Code layer",
  },
});`;var r=i(295870),l=i(297746),d=i(16233),c=i(359731),_=i(466082),u=i(270450),m=i(759231),h=i(927614),p=i.n(h),g=i(188044),f=i.n(g),E=i(32186),b=i(414072),T=i(184634),y=i(242510),S=i(361783),R=i(145823),v=i(857376),I=i(945013),x=i(930501),A=i(157354),O=i(307257),N=i(762052),C=i(273508),L=i(365887),w=i(654479),D=i(292146),j=i(563825),k=i(410633),M=i(458314),P=i(575015),F=i(192809),U=i.n(F),G=i(224638),B=i(511071),V=i(781026),X=i(812323),H=i(55009),z=i(419869);let W=(e,t)=>{let i=e(K),a=e(z.a);for(let e of i)t((0,X.Vg)({id:e})),(a=a.filter(t=>t!==e)).push(e);t(H._,e=>e+1),t(K,new Set),t(z.R,a)},K=(0,m.eU)(new Set),$=U()(W,30),q=U()(W,3e3),Y=(0,m.eU)(null,(e,t,i)=>{let a=e(K);for(let e of i)a.add(e);t(K,new Set(a)),e(V._b)?.mode==="modal"&&t(V.W,!0),e(G.oD)||e(B.eI)?(q.cancel(),$(e,t)):($.cancel(),q(e,t)),(0,P.PN)()&&($.flush(),q.flush())});var Z=i(127287),Q=i(249837);function J(e,t){return"pending"!==e.status&&"error"!==e.status&&e.nodeGuid===t}let ee=new class{constructor(){this._isUpdating=!1,this._dirtyNodes=new Set,this._codeNodeGUIDsWithSourceCodeToSync=new Set,this._codeMaterializationManager=new Z.O,this._derivedCodeFilesPendingRegeneration=new Map}setMakeThumbnail(e){let t=b.D?.getState(),i=t?.openFile?.key;i?d.u7?.canvasViewState().thumbnailNodeId.getCopy()!==e&&(0,R.FE)(i,e).catch(()=>console.warn("Unable to set thumbnail for make.")):console.warn("No open file found when setting make thumbnail")}updatePreview(e){if(this._isUpdating){for(let t of e)this._dirtyNodes.add(t);return}Q.M&&(this._isUpdating=!0,(0,Q.M)(e).finally(()=>{if(this._isUpdating=!1,this._dirtyNodes.size>0){let e=this._dirtyNodes;this._dirtyNodes=new Set,this.updatePreview(e)}}))}updateDirtyWebpages(e){m.zl.set(Y,[...e])}setLeftPanelTabToCode(){b.D.dispatch(v.FP({tab:l.xae.CODE}))}setCodeWindowPanelToChat(){m.zl.set(O.hi,"chat")}setLeftPanelTabToChat(){b.D.dispatch(v.FP({tab:l.xae.CHAT}))}setNewCodeLayerState(e,t,i){m.zl.set(N.Vp,{newCodeInstanceNodeId:e,newEntryPointCodeFileNodeId:t,initializingNodeIds:i})}markNodeAsDesignToReact(e,t){this._codeMaterializationManager.markNodeAsDesignToReact(e,t)}markCodeNodesDirty(e){this._codeMaterializationManager.markCodeNodesDirty(e)}markCodeNodesDirtyWithOptions(e){this._codeMaterializationManager.markCodeNodesDirtyWithOptions(e)}setSelectedCodeInstancesAndReactFibers(e){this._codeMaterializationManager.setSelectedCodeInstancesAndReactFibers(e)}setAutoDeploySupabase(){m.zl.set(j.GV,!0)}showSupabaseDeployNudge(){m.zl.set(j.Xl,!0)}getCodeLayersDefaultEntryPointFile(e){return e===c.BXJ.NATIVE_LAYER?o:n}setSprigUserCreatedCodeLayerAtom(){m.zl.set(C.f,!0)}async syncCodeFileEntries(e,t){if(0===e.length)return;let i=(0,a.N)().storageAdapter.updateEntries(e,t??void 0);0!==i.updatedEntries.length&&(m.zl.set(M.mI,e=>e+1),await (0,w.fM)(i.updatedEntries.map(e=>e.asTransferableEntry())))}removeCodeFileEntries(e,t){for(let i of e)(0,a.N)().storageAdapter.removeEntryByGUID(i,t??void 0);e.length>0&&(0,w.WS)(e)}getAutomaticCodeFileNameForNodeName(e,t,i=!1){let s=f()(p()(e))+".tsx",n=new Set((0,a.N)().listFiles().map(e=>e.name));if(!i&&!n.has(s))return s;let o=s.replace(".tsx",`-${t}.tsx`);if(!n.has(o))return o;let r=2,l=o.replace(".tsx",`-${r}.tsx`);for(;n.has(l);)r++,l=o.replace(".tsx",`-${r}.tsx`);return l}updateCodeSnapshotState(e,t,i,a,s){this._codeMaterializationManager.updateCodeSnapshotState(e,t,i,a,s)}cleanupCodeSnapshotOverlays(){this._codeMaterializationManager.cleanupCodeSnapshotOverlays()}clearCodeFileEntries(){(0,a.N)().storageAdapter.clear(),(0,w.tI)(),this._codeMaterializationManager.clearBundleCache()}setAllowNestedObjects(e){(0,a.N)().setAllowNestedObjects(e)}getTimestampForCodeSnapshotInvalidatedAt(){return this._codeMaterializationManager.getTimestampForCodeSnapshotInvalidatedAt()}isCodeSnapshotStale(e,t){return this._codeMaterializationManager.isCodeSnapshotStale(e,t)}resnapshotIfStale(e,t,i){this._codeMaterializationManager.isCodeSnapshotStale(t,i)&&this.markCodeNodesDirty(new Set([e]))}pushAttachmentSourceCode(e,t,i){let a=performance.now(),s=(0,_.UN)(),n=t.reduce((e,t)=>{let i=s.get(t);return i&&e.push({code:i.sourceCode,codeFileGuid:t.toString()}),e},[]);0===n.length?this.pushAttachmentError(e,c.FDn.DESIGN_2_REACT_OTHER,i,c.doA.PUSH_ATTACHMENT_SOURCE_CODE,performance.now()-a,"no code files from d2r output"):(this.trackMakeAttachmentStep(c.doA.PUSH_ATTACHMENT_SOURCE_CODE,i,e,void 0,performance.now()-a),this.processAttachmentImageAsync(e,s.get(e),n,i))}removeAttachment(e){m.zl.set(L.Ah,t=>t.filter(t=>!J(t,e)))}pushAttachmentError(e,t,i,a,s,n){let o=c.FDn[t];this.trackMakeAttachmentStep(a,i,e,n?`${o}:${n}`:o,s??void 0),m.zl.set(L.Ah,a=>a.map(a=>J(a,e)?{...a,uniqueId:i,designToCodeErrors:[...a?.designToCodeErrors??[],t]}:a))}terminateOnePendingAttachment(e){(0,L._5)(e)}showErrorBellForAttachmentError(e){(0,L.hH)(e)}async processAttachmentImageAsync(e,t,i,a){if((0,T.Bc)({attachment_id:a}),(0,k.$L)([a]),t){if(0===i.length){this.pushAttachmentError(e,c.FDn.DESIGN_2_REACT_OTHER,a,c.doA.PROCESS_ATTACHMENT_IMAGE_ASYNC,null,"no code files found"),(0,T.Bc)({attachment_id:void 0});return}}else{this.pushAttachmentError(e,c.FDn.DESIGN_2_REACT_OTHER,a,c.doA.PROCESS_ATTACHMENT_IMAGE_ASYNC,null,"no node found"),(0,T.Bc)({attachment_id:void 0});return}try{let n=await (0,s.rt)(t);this.trackMakeAttachmentStep(c.doA.PROCESS_ATTACHMENT_IMAGE_ASYNC,a,e,n?void 0:"failed to generate thumbnail");let o={uniqueId:a,status:"success",nodeGuid:e,codeFiles:i,type:"FIGMA_NODE",image:n};m.zl.set(L.Ah,t=>t.map(t=>J(t,e)?o:t)),this.trackMakeAttachmentStep(c.doA.FINISH_ATTACHMENT,a,e),E.az.trackDefinedEvent("ai_for_production.chat_attachment_added",{attachmentType:"FIGMA_NODE",fileKey:m.zl.get(I.ze)??void 0,imageSize:n?.length??0,attachmentId:a})}catch(t){(0,T.$D)(r.FigmaTeam.MAKE_EDITING,t),this.pushAttachmentError(e,c.FDn.OTHER,a,c.doA.PROCESS_ATTACHMENT_IMAGE_ASYNC,null,t.message)}finally{(0,T.Bc)({attachment_id:void 0})}}trackMakeAttachmentStep(e,t,i,a,s){E.az.trackDefinedEvent("ai_for_production.code_chat_figma_attachment_funnel",{step:c.doA[e],attachmentType:"FIGMA_NODE",attachmentId:t,fileKey:m.zl.get(I.yV)?.key??void 0,nodeGuid:i,error:a,elapsedMs:s||0})}regenerateDerivedCodeFileDebounced(e){let t,i,a=(0,_.UN)().getCodeFileNode(e);if(!a)throw Error("CodeFile not found");let s=this._derivedCodeFilesPendingRegeneration.get(e);if(s)return clearTimeout(s.timeout),this._derivedCodeFilesPendingRegeneration.set(e,{timeout:setTimeout(s.callback,500),callback:s.callback}),Promise.resolve(null);let n=new Promise((e,a)=>{t=e,i=a}),o=()=>{let s=a.codeFileCanvasNode;s&&(0,A.Ts)(s).then(i=>{this._derivedCodeFilesPendingRegeneration.delete(e),t(i)}).catch(i)};return this._derivedCodeFilesPendingRegeneration.set(e,{callback:o,timeout:setTimeout(o,500)}),n}directManipulationCanvasEditor(){return this._codeMaterializationManager.directManipulationCanvasEditor()}prewarmSandboxPool(){(0,D.wn)()}enqueueCMSBindingResultVisualBell(e){let t=b.D.getState();return(0,y.M4)({status:e,cmsBindingState:l.Ez5?.cmsState()?.bindingModeState(),existingBell:t.visualBell.find(e=>e.type===y.On),isInBindingMode:t.mirror.appModel.activeCanvasEditModeType===c.m1T.CMS_BINDING_CONSTRAINED,dispatch:b.D.dispatch})}emphasizeCMSUserInstructions(){m.zl.set(S.xW,!0)}enableDerivedSubtreeInstancesForSites(){let e=m.zl.get(I.yV),t=e?.editorType;return!!t&&!!(t===x._Y.SITES&&(0,u.getFeatureFlags)().derived_subtree_instances_sites)}}},426683(e,t,i){let a;i.d(t,{e4:()=>o,mn:()=>a});var s=i(919907);class n{enableSlotsForOpenFile(){(0,s.m)()}}function o(){a=new n}},75680(e,t,i){let a;i.d(t,{Vm:()=>a,no:()=>d});var s=i(295870),n=i(466082),o=i(184634),r=i(725008);class l{getSummaryAsClipboardText(e){let t,i=(0,n.UN)().get(e),a=i?.getWidgetSyncedState()["syncedState:ai-summary-items"],l=i?.getWidgetSyncedState()["syncedState:summarized-at"];try{t=JSON.parse(a)}catch(e){(0,o.$D)(s.FigmaTeam.EXPRESSIVE_AI,Error(`Could not parse summary data, error: ${e}`))}return(0,r.Aq)(t,l)}}function d(){a=new l}},693400(e,t,i){let a;i.d(t,{hR:()=>o,we:()=>a});var s=i(171668);class n{rgbaToThumbhash(e,t,i){if(e>100||t>100){let a=e,s=t,n=e/t;e<t?e=Math.round((t=100)*n):t=Math.round((e=100)/n);let o=new OffscreenCanvas(a,s),r=o.getContext("2d"),l=new ImageData(new Uint8ClampedArray(i),a,s);r.putImageData(l,0,0);let d=new OffscreenCanvas(e,t).getContext("2d");d.drawImage(o,0,0,a,s,0,0,e,t),i=new Uint8Array(d.getImageData(0,0,e,t).data)}return(0,s.WB)(e,t,i)}thumbhashToRgba(e){let{w:t,h:i,rgba:a}=(0,s.Oe)(e);return{width:t,height:i,rgba:a}}}function o(){a=new n}},193859(e,t,i){i.d(t,{b:()=>eJ});var a=i(705633),s=i(968922),n=i(78210),o=i(374838),r=i(384297),l=i(320404),d=i(948818),c=i(450794),_=i(358258),u=i(184634),m=i(884368),h=i(940040),p=i(194579),g=i(811273),f=i(718323),E=i(923886),b=i(94398),T=i(820109),y=i(37898),S=i(122768),R=i(831649),v=i(198089),I=i(800201),x=i(662018),A=i(688537),O=i(632031),N=i(386738),C=i(141992),L=i(65712),w=i(85275),D=i(390218),j=i(747788),k=i(47132),M=i(982293),P=i(63484),F=i(887649),U=i(942103),G=i(110845),B=i(434717),V=i(43901),X=i(703992),H=i(427686),z=i(937811),W=i(394527),K=i(716778),$=i(161656),q=i(145938),Y=i(47607),Z=i(562240),Q=i(156309),J=i(551613),ee=i(202364),et=i(8338),ei=i(452135),ea=i(533064),es=i(154929),en=i(288858),eo=i(744328),er=i(417675),el=i(414072),ed=i(925778),ec=i(4257),e_=i(950054);let eu=new class{exportVideo(e,t){let i=function(e){let t=el.D.getState(),i=t.openFile?.key;if(!i||!e)return!1;let a=(0,e_.xS)(t,{view:"export",fileKey:i,nodeId:e});try{return ed.Ay.redirect(a,"_blank"),!0}catch{return!1}}(e);return(0,el.D.dispatch)(i?ec.F.enqueueWithCloseButton("video-export-opened",!1,{message:(0,er.t)("video_export.toast_opened_in_new_tab")}):ec.F.enqueueWithCloseButton("video-export-failed",!0,{message:(0,er.t)("video_export.error.failed_to_open_tab")})),Promise.reject(Error("Video export redirected to new tab"))}};var em=i(935678),eh=i(906093),ep=i(398798),eg=i(673916),ef=i(644722),eE=i(136821),eb=i(822445),eT=i(754),ey=i(859069),eS=i(727618),eR=i(320148),ev=i(327559),eI=i(277909),ex=i(212437),eA=i(635593),eO=i(39116),eN=i(97121),eC=i(218539),eL=i(294875),ew=i(508902),eD=i(37589),ej=i(362033),ek=i(627886),eM=i(426683),eP=i(867109),eF=i(75680),eU=i(144975),eG=i(693400),eB=i(165579),eV=i(533720),eX=i(750904),eH=i(835083),ez=i(843083),eW=i(998822),eK=i(275948),e$=i(709192),eq=i(806141),eY=i(537251),eZ=i(279704),eQ=i(603444);let eJ={CommonApp:()=>({...eV.LO,...(0,K.N)(),appType:()=>c.uC.FullscreenApp}),AccessibleAreasBindings:()=>F.H,ActionBindings:()=>U.J,OOMHelpers:()=>p._W,WebReporting:()=>C.F,PlatformInfo:()=>eO.y,FontManagerJs:()=>em.hB,Async:()=>X.V,JsBindingsTestHelpers:()=>eS.j,ImageTsBindings:()=>x.j5,PdfImportBindings:()=>b.IY,InteractionBindings:()=>eT.Dt,InteractionInstrumentationBindings:()=>ey.F_,SitesBindings:()=>ej.v,SitesJsBindings:()=>ek.u,SlidesTsBindings:()=>k.h,CooperTsBindings:()=>m.F,CodeVfsBindings:()=>Q.f,BoundsWatcherTs:g.Iu,ImageToolsBindingsJs:()=>eb.SQ,FigmaApp:()=>p.Y5,AutoLayoutBindings:()=>H.mX,CurrentUserInfo:()=>p.BI,WebSelection:()=>p.ZP,WebMultiplayer:()=>p.r1,WebUserSyncing:()=>A.R9,EmojiWheelBindings:()=>E.CB,Comments:()=>et.lS,PluginCallbacks:()=>O.d1,WidgetBindings:()=>eZ.x,VideoTsBindings:()=>eK.fm,JsKiwiSerialization:()=>new l.s,TsFontManualLoader:()=>new r.E,StylesCheckBindings:()=>p.Vv,AutosaveSessionBindings:()=>z.X,CanvasSearchBindings:()=>Y.r,AccessibilityBindings:()=>P.Lj,HandoffScenegraphBindings:()=>eE.ld,BuzzScenegraphBindings:()=>q.AG,RichTextBindings:()=>eC.m,SpellCheckAPIBindings:()=>eP.$4,VariablesBindingsWeb:()=>ez.WH,VariablesMirrorBindings:()=>eW.DQ,AssetMirrorBindings:()=>V.ki,AssetConsumptionMirrorBindings:()=>B.BF,HandoffBindings:()=>ef.z4,HandoffCallbacks:()=>h.rS,JSTextLayout:()=>eU.Q,ScaleToolAPIBindings:()=>eL.h,LinterBindings:()=>ev.zT,EmojiTsBindings:()=>en.jm,NodeChatMessageHelper:()=>s.sv,MentionsTsBindings:()=>eI.YN,EditScopeWebBindings:()=>es.xo,StateManagementBindings:()=>D.XO,ColorManagementBindings:()=>J.l,KeyboardShortcutBindings:()=>eR.Gm,WhiteboardTemplatePreviewTsBindings:()=>M.t7,FrameDistributionTrackerBindings:()=>eh.ip,WhiteboardTsBindings:()=>eq.nz,AiAssistantTsBindings:()=>G.SL,CodeBlockBindings:()=>Z.P,ColorRampBindings:()=>ee.C5,OpenFileBindings:()=>eA.pY,WhiteboardAnalyticsTsBindings:()=>e$.bN,ExperimentBuildersTsBindings:()=>eo.Zc,ZipImpl:()=>eQ.m,CoreUtils:()=>new n.f,SummaryBindings:()=>eF.Vm,SceneGraphHookBindings:()=>ew.uo,MissingFontsTrackerJs:()=>ex.ZO,StatsigConfigBindings:()=>ep.gR,WhiteboardThemeTsBindings:()=>eX.rG,QuickActionsBindings:()=>j.ZO,BranchingWebBindings:()=>$.B,SafeModeOptions:()=>_.iw,DSAWebBindings:()=>ea.Tl,WhiteboardDltConstantBindings:()=>eY.yu,DeprecatedXHRSendBindings:()=>eg.yx,ComponentPropBindings:()=>w.XA,ImageIo:()=>I.YN,HTMLWindowBindings:()=>v.IM,WebGPUTsContext:()=>R.NP,TsGlContextBindings:S.X,ScreenBindings:()=>y.N,FullscreenWebSocketTsCallbacks:()=>T.Pp,AutosuggestTextBindings:()=>W.z5,VariablesJsRuntimeAliasTsBindings:()=>p.w8,UndoRedoEventsBindings:()=>eH.wV,ScenegraphStringManagementBindings:()=>eD.Bm,ThumbnailRequestManager:eB.Db,TsRequestPromiseManager:d.pL,UserActionTimingBindings:()=>L.st,PrototypingFormatter:()=>N.u,SlotsBindingsWeb:()=>eM.mn,DesignSystemsLoggingBindings:()=>ei.c8,ExportTsBindings:()=>a.v.getFeatureGate("panama_new_tab")?eu:new o.G({videoUrlResolver:(0,eK.h3)(),gifDataResolver:(0,x.Nj)()}),RenderWorkerExportBindings:()=>eN.Pu,RenderWorkerCanvasRenderingBindings:()=>eN.$G,jsHelpers:{reportError:u.Cp,preventEnteringCpp:()=>f.y.preventEnteringCpp(),fatalCppError(e,t){f.y.fatalCppError(e,t)}},ThumbhashBindings:()=>eG.we}},750904(e,t,i){let a;i.d(t,{fT:()=>r,rG:()=>a});var s=i(297746),n=i(270450);class o{showUI3Colors(){return s.Ez5?.uiState().showUI3Colors.getCopy()??!0}showUI3ColorsInitialValue(){return!!(0,n.getFeatureFlags)().figjam_ui3_color_palette}}function r(){a=new o}},835083(e,t,i){let a;i.d(t,{EA:()=>d,Zr:()=>c,wV:()=>a});var s=i(139865),n=i(414072),o=i(165582);class r{onUndo(e){l&&l.trigger("undo",{undoneCommitId:e})}onRedo(e){l&&l.trigger("redo",{redoneCommitId:e})}}let l=null;function d(){a=new r;let e=!1;n.D.subscribe(()=>{let t=(0,o.o)(n.D.getState());t!==e&&(t?(l&&l.removeAllListeners(),l=new s.b("fullscreen-undo-redo-events")):l&&(l.removeAllListeners(),l=null),e=t)})}function c(e,t){if(!l)return()=>{};let i=i=>{i.undoneCommitId===e&&t()};return l.on("undo",i),()=>{l?.removeListener("undo",i)}}},843083(e,t,i){let a;i.d(t,{WH:()=>a,_:()=>S});var s=i(297746),n=i(417675),o=i(270450),r=i(759231),l=i(32186),d=i(414072),c=i(925778),_=i(245694),u=i(4257),m=i(755706),h=i(892480),p=i(194579),g=i(300208),f=i(88869),E=i(854529),b=i(385745),T=i(738337);class y{async pasteVariablesWithLocalizationPopup(e,t,i){let a=[];for(let t=0;t<e.size;t+=25){let i=Array.from(e.entries()).slice(t,t+25).map(([e,t])=>`${e}|${t}`).join(","),s=`/api/variables/publish_state?keysAndLibrary=${i}`;a.push(_.Ay.post(s))}let y={};(await Promise.all(a)).forEach(e=>{Object.assign(y,e.data.meta)});let S=new Set;if(Object.keys(y).forEach(e=>!1===y[e]?S.add(e):null),S.size>0)if((0,l.sx)("prototype.variables_pasted",{numPublished:e.size-S.size,numUnpublished:S.size}),(0,o.getFeatureFlags)().variables_paste_remap_popup){if((0,T.YE)())return;d.D.dispatch(u.F.dequeue({matchType:"localize_unpublished_variables"})),d.D.dispatch(u.F.dequeue({matchType:"unpublished_variables_localized"})),d.D.dispatch(u.F.enqueue({message:(0,n.t)("proto.paste_unpublished_variable_localize"),type:"localize_unpublished_variables",button:{text:(0,n.t)("proto.paste_unpublished_variable_localize_cta"),action:()=>{let e=s.CWU?.performVariableLocalizationFromPopup(S,t,i);if(p.Y5.commit(),null!=e&&Object.keys(e).includes("numberOfNewVariables")){let t=e.numberOfNewVariables;t>0&&d.D.dispatch(u.F.enqueue({message:(0,n.t)("proto.unpublished_variables_localized",{numberOfVariables:t}),type:"unpublished_variables_localized"}))}}}}))}else d.D.dispatch(u.F.enqueue({message:(0,n.t)("proto.paste_unpublished_variable"),button:{text:(0,n.t)("proto.paste_unpublished_variable_cta"),action:()=>{c.Ay.unsafeRedirect("https://help.figma.com/hc/articles/14506821864087#copy_paste","_blank")}}}));else{let t=d.D.getState(),i=t.openFile?.editorType,a=t.openFile?.key,s=t.openFile?.libraryKey;if("cooper"!==i||!(0,o.getFeatureFlags)().buzz_variable_modes||!a||!s)return{};let l=new Set(e.values()),c=r.zl.get(g.$p);if(c){let e=new Set(c.map(e=>e.libraryKey)),t=Array.from(l).filter(t=>t!==s&&!e.has(t));t.length>0&&(d.D.dispatch(u.F.dequeue({matchType:"paste_unadded_libraries"})),d.D.dispatch(u.F.enqueue({message:(0,n.t)("proto.paste_unadded_libraries"),type:"paste_unadded_libraries",button:{primary:{text:(0,n.t)("proto.paste_unadded_libraries_add_cta"),action:()=>{t.forEach(t=>{d.D.dispatch((0,m.am)({libraryFileSubscription:{file_key:a,library_key:t,is_subscribed:!0},userInitiated:!0,fileSubscribedLibraryKeys:e}))}),p.Y5.commit()}},secondary:{text:(0,n.t)("proto.paste_unadded_libraries_manage_cta"),action:()=>{d.D.dispatch(h.to({type:b.T,data:{entrypoint:E.r6.PASTE_UNADDED_LIBRARIES,initialTab:f.Wv.LIBRARIES}}))}}}})))}}return{}}}function S(){a=new y}},275948(e,t,i){i.d(t,{fm:()=>m,h3:()=>p,tG:()=>h});var a=i(60021),s=i(297746),n=i(270450),o=i(245694),r=i(850736),l=i(757291),d=i(194579),c=i(662018),_=i(594585);class u{constructor(){this.pendingPasteRequests={},this.pendingVideosToRecordByFileKey={},this.pendingVideosToRecordByLibraryKey={},this.pendingRecordVideosTasksByFileKey={},this.pendingRecordVideosTasksByLibraryKey={},this.allVideos={},this.flushPendingRecordVideos=(0,a.s)(async()=>{let e=this.pendingVideosToRecordByFileKey,t=this.pendingVideosToRecordByLibraryKey,i=this.pendingRecordVideosTasksByFileKey,a=this.pendingRecordVideosTasksByLibraryKey,n=Object.keys(e).map(e=>({fileKey:e,type:"fileKey"})).concat(Object.keys(t).map(e=>({libraryKey:e,type:"libraryKey"})));this.pendingVideosToRecordByFileKey={},this.pendingRecordVideosTasksByFileKey={},this.pendingVideosToRecordByLibraryKey={},this.pendingRecordVideosTasksByLibraryKey={};let r=await this.getEditingFileKey();n.forEach(async n=>{if("fileKey"===n.type&&n.fileKey===r)return void i[n.fileKey].resolve();if("fileKey"===n.type&&!n.fileKey)return void i[n.fileKey].reject("Invalid originFileKey");let l=1,d="fileKey"===n.type?e[n.fileKey]:t[n.libraryKey];if(s.tHB)for(;;){try{let e=await o.Ay.put(`/api/files/${r}`,{video_sha1s:[...new Set(d)],image_origin_file_key:"fileKey"===n.type?n.fileKey:void 0,image_origin_library_key:"libraryKey"===n.type?n.libraryKey:void 0}),{success:t,failed:l}=c.xY.parseFileUpdateResponseForImages(d,e);for(let e of(s.tHB.markVideoPermissionsCopied(t),l))s.tHB.videoIsMissing(e);for(let e of d)delete this.pendingPasteRequests[e];"fileKey"===n.type?i[n.fileKey].resolve():a[n.libraryKey].resolve(),this.getAllVideoUrls();return}catch(e){if(e.status>=400&&e.status<500){for(let e of d)s.tHB.videoIsMissing(e),delete this.pendingPasteRequests[e];"fileKey"===n.type?i[n.fileKey].resolve():a[n.libraryKey].resolve();return}}let e=1e3*l*Math.random();await new Promise(t=>setTimeout(t,e)),l=Math.min(2*l,64)}})},100),this.contextLostCallbacks=new Map,this.nextContextLostCallbackId=0}async getAllVideoUrls(){if(!(0,n.getFeatureFlags)().cross_env_paste)return;let e=await l.S.getVideos({fileKey:await this.getEditingFileKey()});this.allVideos=e.data.meta.videos}getSignedUrls(e){let t=new Map;for(let i of e)t.set(i,this.allVideos[i]);return t}recordVideos(e,t){if(0===t.length)return Promise.resolve();if(!e)throw Error("No originFileKey specified");if(this.pendingVideosToRecordByFileKey[e]=this.pendingVideosToRecordByFileKey[e]||[],this.pendingVideosToRecordByFileKey[e].push(...t),!this.pendingRecordVideosTasksByFileKey[e]){let t,i,a=new Promise((e,a)=>{t=e,i=a});this.pendingRecordVideosTasksByFileKey[e]={promise:a,resolve:t,reject:i}}for(let i of t)this.pendingPasteRequests[i]=this.pendingRecordVideosTasksByFileKey[e].promise;let i=this.pendingRecordVideosTasksByFileKey[e].promise;return this.flushPendingRecordVideos(),i}recordVideosFromLibraryKey(e,t){if(0===t.length)return Promise.resolve();if(!e)throw Error("No sourceLibraryKey specified");if(this.pendingVideosToRecordByLibraryKey[e]??=[],this.pendingVideosToRecordByLibraryKey[e].push(...t),!this.pendingRecordVideosTasksByLibraryKey[e]){let t,i,a=new Promise((e,a)=>{t=e,i=a});this.pendingRecordVideosTasksByLibraryKey[e]={promise:a,resolve:t,reject:i}}for(let i of t)this.pendingPasteRequests[i]=this.pendingRecordVideosTasksByLibraryKey[e].promise;let i=this.pendingRecordVideosTasksByLibraryKey[e].promise;return this.flushPendingRecordVideos(),i}getEditingFileKey(){return d.Y5.openFileKeyPromise()}contextLost(){for(let e of this.contextLostCallbacks.values())e()}subscribeToContextLost(e){let t=this.nextContextLostCallbackId++;return this.contextLostCallbacks.set(t,e),()=>{this.contextLostCallbacks.delete(t)}}}let m=new class{constructor(){this.videoManager=new u,this.thumbnailGenerator=_.t}copyVideoPermissions(e,t){return this.videoManager.recordVideos(e,t)}copyVideoPermissionsFromLibraryKey(e,t){return this.videoManager.recordVideosFromLibraryKey(e,t)}createVideo(){return this.thumbnailGenerator.createVideo()}deleteVideo(e){this.thumbnailGenerator.deleteVideo(e)}getWidth(e){return this.thumbnailGenerator.getWidth(e)}getHeight(e){return this.thumbnailGenerator.getHeight(e)}getCoverImage(e){return this.thumbnailGenerator.getCoverImage(e)}loadVideo(e,t,i){return this.thumbnailGenerator.loadVideo(e,t,i)}getSignedUrls(e){return this.videoManager.getSignedUrls(e)}async setExternalSource(e,t){let i=await fetch(t),a=new Uint8Array(await i.arrayBuffer()),s=await d.Y5.openFileKeyPromise();(0,r.C)([{sha1:e,bytes:a}],s)}loadAllVideos(){return this.videoManager.getAllVideoUrls()}contextLost(){this.videoManager.contextLost()}};function h(){return m.videoManager}function p(){return async e=>{let t=h();return await t.getAllVideoUrls(),t.getSignedUrls(e)}}},709192(e,t,i){let a;i.d(t,{bJ:()=>d,bN:()=>a});var s=i(522645),n=i(759231),o=i(412991),r=i(839928);class l{isCustomPaletteColor(e,t){let i=n.zl.get(r.$R);if(i){let a=(0,s.aH)(e);for(let e of(0,r.Uh)(t))if(i[e].some(e=>(0,o.DA)(a,e)))return!0}return!1}}function d(){a=new l}},806141(e,t,i){let a;i.d(t,{nz:()=>a,pP:()=>c});var s=i(522645),n=i(759231),o=i(839928),r=i(227507),l=i(332858);class d{getEyedropperContext(){return n.zl.get(r.Bw)}updateEditPaletteModalColor(e){let t=n.zl.get(o.Jq),i=n.zl.get(o.rN),a=[...i.slice(0,t),(0,s.aH)(e),...i.slice(t+1)];n.zl.set(o.rN,a)}isCustomPaletteApplied(){return!!n.zl.get(o.$R)}showSectionPresets(){return n.zl.get(l.w)}}function c(){a=new d}},537251(e,t,i){let a;i.d(t,{A9:()=>o,yu:()=>a});var s=i(676870);class n{constructor(){this.getDefaultPencilStrokeWeight=()=>s.wv,this.getDefaultHighlighterStrokeWeight=()=>s.g5}}function o(){a=new n}},234666(e,t,i){i.d(t,{Qx:()=>o,WL:()=>n,ZY:()=>s});let a=new Map;function s(e){return a.has(e)}function n(e,t){return(a.get(e)??[])[+t]??""}function o(e){return String((a.get(e)??[]).length-1)}},603444(e,t,i){i.d(t,{m:()=>l});var a=i(295870),s=i(898860),n=i(616246),o=i.n(n),r=i(184634);let l={readSync(e){let t=new(o());return t.load(e),Object.keys(t.files).map(e=>{let i=t.file(e).asUint8Array();return{name:e,contents:i}})},writeSync(e){try{let t=new(o());for(let i of e)t.file(i.name,i.contents,{compression:i.compressionLevel===s.uP.NONE?"STORE":"DEFLATE"});return t.generate({type:"uint8array"})}catch(e){return(0,r.$D)(a.FigmaTeam.SCENEGRAPH_AND_SYNC,e),new Uint8Array}}}},478482(e,t,i){i.d(t,{J:()=>s});var a=i(153745);function s(e){try{return new n(e)}catch(e){return console.warn(`Failure in parsing GIF: ${e}`),null}}class n{numFrames(){return this._frames.length}loopCount(){return this.loop_count}getFrameDurationMs(e){let t=this._frames[e];if(!t)throw Error("Frame index out of range.");let i=t.delay;return(0===i?10:i)*10}getTotalDurationMs(){let e=0;for(let t of this._frames){let i=t.delay;e+=(0===i?10:i)*10}return e}getFrameTimeOffsets(){let e=[0],t=0;for(let i=0;i<this._frames.length-1;i++){let a=this._frames[i];if(!a)break;let s=a.delay;t+=(0===s?10:s)*10,e.push(t)}return e}frameInfo(e){if(e<0||e>=this._frames.length)throw Error("Frame index out of range.");return this._frames[e]}frameIsFullSized(e){return e.width===this.width&&e.height===this.height}blitFrame(e,t,i){let s;if(e===this.currentFrame)return t;if(this.frameNeedsBackfill(e))if(!this.currentFrame||e<this.currentFrame)for(s=e-1;s>=0&&this.frameNeedsBackfill(s);)s--;else s=this.currentFrame;else s=e;let n=!1;if(0===s)n=!0;else{let e=this.frameInfo(s-1);2===e.disposal&&this.frameIsFullSized(e)&&(n=!0)}n&&(t.data.fill(0),i.putImageData(t,0,0));for(let n=s;n<=e;n++){if(n!==e){if(2===this.frameInfo(n).disposal){let e=this.frameInfo(n);i.clearRect(e.x,e.y,e.width,e.height),t=i.getImageData(0,0,this.width,this.height);continue}else if(3===this.frameInfo(n).disposal){null===this._tmpBufForLastNonDisposedFrame&&((0,a.x1)("gif","Found null array for last non-disposed frame for GIF with disposal = 3"),this._tmpBufForLastNonDisposedFrame=new Uint8Array(this.width*this.height*4)),t.data.set(this._tmpBufForLastNonDisposedFrame),i.putImageData(t,0,0);continue}}this.decodeAndBlitFrameRGBA(n,t.data),i.putImageData(t,0,0),this._needsLastNonDisposedFrame&&(0===n||this.frameInfo(n).disposal<2)&&this._tmpIdxForNonDisposedFrame!==n&&(null===this._tmpBufForLastNonDisposedFrame&&((0,a.x1)("gif","Found null array for last non-disposed frame for GIF with disposal = 3"),this._tmpBufForLastNonDisposedFrame=new Uint8Array(this.width*this.height*4)),0===n&&this.frameInfo(n).disposal>=2?this._tmpBufForLastNonDisposedFrame.fill(0):this._tmpBufForLastNonDisposedFrame.set(t.data),this._tmpIdxForNonDisposedFrame=n)}return this.currentFrame=e,t}frameNeedsBackfill(e){if(0===e)return!1;let t=this.frameInfo(e);if(null===t.transparent_index&&this.frameIsFullSized(t))return!1;let i=this.frameInfo(e-1);return!this.frameIsFullSized(i)||2!==i.disposal}constructor(e){this.currentFrame=null,this.buf=e;var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||(e[t++]+1&253)!=56||97!==e[t++])throw Error("Invalid GIF 87a/89a header.");this.width=e[t++]|e[t++]<<8,this.height=e[t++]|e[t++]<<8;var i=e[t++],a=1<<(7&i)+1;t+=2;var s=null,n=null;i>>7&&(s=t,n=a,t+=3*a);var o=!0;this._frames=[],this._needsLastNonDisposedFrame=!1,this._tmpIdxForNonDisposedFrame=-1;for(var r=0,l=null,d=0;o&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78===e[t+1]&&69===e[t+2]&&84===e[t+3]&&83===e[t+4]&&67===e[t+5]&&65===e[t+6]&&80===e[t+7]&&69===e[t+8]&&50===e[t+9]&&46===e[t+10]&&48===e[t+11]&&3===e[t+12]&&1===e[t+13]&&0===e[t+16])t+=14,this.loop_count=e[t++]|e[t++]<<8,t++;else for(t+=12;;){var c=e[t++];if(!(c>=0))throw Error("Invalid block size");if(0===c)break;t+=c}break;case 249:if(4!==e[t++]||0!==e[t+4])throw Error("Invalid graphics extension block.");var _=e[t++];r=e[t++]|e[t++]<<8,l=e[t++],(1&_)==0&&(l=null),d=_>>2&7,this._needsLastNonDisposedFrame||3!==d||(this._needsLastNonDisposedFrame=!0,this._tmpBufForLastNonDisposedFrame=new Uint8Array(this.width*this.height*4)),t++;break;case 254:case 1:for(;;){var u=e[t++];if(!(u>=0))throw Error("Invalid block size");if(0===u)break;t+=u}break;default:throw Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var m=e[t++]|e[t++]<<8,h=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,f=e[t++],E=f>>7,b=f>>6&1,T=1<<(7&f)+1,y=s,S=n,R=!1;E&&(R=!0,y=t,S=T,t+=3*T);var v=t,I=!1;for(t++;;){var x=e[t++];if(void 0===x){I=!0;break}if(!(x>=0))throw Error("Invalid block size");if(0===x)break;t+=x}I||this._frames.push({x:m,y:h,width:p,height:g,has_local_palette:R,palette_offset:y,palette_size:S,data_offset:v,data_length:t-v,transparent_index:l,interlaced:!!b,delay:r,disposal:d});break;case 59:o=!1;break;default:throw Error("Unknown gif block: 0x"+e[t-1].toString(16))}}decodeAndBlitFrameRGBA(e,t){var i=this.frameInfo(e),a=i.width*i.height,s=new Uint8Array(a);this.GifReaderLZWOutputIndexStream(i.data_offset,s,a);var n=i.palette_offset,o=i.transparent_index;null===o&&(o=256);var r=i.width,l=this.width-r,d=r,c=(i.y*this.width+i.x)*4,_=((i.y+i.height)*this.width-(this.width-i.width-i.x))*4,u=c,m=4*l;!0===i.interlaced&&(m+=4*this.width*7);for(var h=8,p=0,g=s.length;p<g;++p){var f=s[p];if(0===d&&(u+=m,d=r,u>=_&&(m=4*l+4*this.width*(h-1),u=c+(r+l)*(h<<1),h>>=1)),f===o)u+=4;else{var E=this.buf[n+3*f],b=this.buf[n+3*f+1],T=this.buf[n+3*f+2];t[u++]=E,t[u++]=b,t[u++]=T,t[u++]=255}--d}}GifReaderLZWOutputIndexStream(e,t,i){for(var a=this.buf[e++],s=1<<a,n=s+1,o=n+1,r=a+1,l=(1<<r)-1,d=0,c=0,_=0,u=this.buf[e++],m=new Int32Array(4096),h=null;;){for(;d<16&&0!==u;)c|=this.buf[e++]<<d,d+=8,1===u?u=this.buf[e++]:--u;if(d<r)break;var p=c&l;if(c>>=r,d-=r,p===s){o=n+1,l=(1<<(r=a+1))-1,h=null;continue}if(p===n)break;for(var g=p<o?p:h,f=0,E=g;E>s;)E=m[E]>>8,++f;var b=E;if(_+f+ +(g!==p)>i)return void console.warn("Warning, gif stream longer than expected.");t[_++]=b;var T=_+=f;for(g!==p&&(t[_++]=b),E=g;f--;)E=m[E],t[--T]=255&E,E>>=8;null!==h&&o<4096&&(m[o++]=h<<8|b,o>=l+1&&r<12&&(++r,l=l<<1|1)),h=p}return _!==i&&console.warn("Warning, gif stream shorter than expected."),t}}},745698(e,t,i){i.d(t,{Z:()=>r});var a=i(417675),s=i(759231),n=i(118836),o=i(945013);function r(){let e=(0,o.q5)(),t=(0,s.md)(n.lu);return e?e.name:t?t.name:(0,a.t)("fullscreen.filename_view.title_placeholder")}},126658(e,t,i){i.d(t,{Bm:()=>d,Zt:()=>r,pz:()=>_,yw:()=>c});var a=i(22291),s=i(597551),n=i(759231);i(575015);var o=i(930501);let r="INTERACTION_TEST_FAKE_FILE_KEY";(0,a.l)("lk-9a75e874c6cf749cc3e2c2678c7687697c01c5ab6693bc56d8b2775f21b117c468ec00c2f338b97c6c7e12bc5c61cd87d215f492bb77fcd81e449651b080cf4b"),o.kU.STUDENT_TEAM_NULL;let l={};function d(e){delete l[e]}(0,n.eU)("unloaded"),(0,n.eU)("unloaded");let c=(0,n.eU)(!1);(0,n.eU)(40),(0,s.v)(),(0,s.v)();let _=null},26487(e,t,i){i.d(t,{M:()=>l});var a=i(86118),s=i(357315),n=i(573683),o=i(733081);let r=null;function l(){return r||(a.eD&&(r=new n.k),(0,s.T)()&&(r=new o.y)),r}},407406(e,t,i){i.d(t,{k:()=>n});var a=i(836848),s=i(32186);class n{constructor(e){this.eventName=e,this.fileKey=null,this.nodeChangesSizes=[],this.queries=[],this.replies=[],this.queriesTs=[],this.nodeChangesTs=[],this.repliesTs=[],this.alreadySent=!1,this.logEvent=e=>{if(this.fileKey&&!this.alreadySent)switch(e.type){case"sendSceneGraphQuery":this.queries.push(o(e.queries)),this.queriesTs.push(this.now());break;case"receiveNodeChanges":this.nodeChangesSizes.push(e.size),this.nodeChangesTs.push(this.now());break;case"receiveSceneGraphReply":this.replies.push(o(e.queries)),this.repliesTs.push(this.now());break;case"finishIncrementalLoading":if(e.fileKey===this.fileKey){if(this.nodeChangesSizes.length>0){let t={version:1,fileKey:e.fileKey,nodeChangesSizes:this.nodeChangesSizes,queries:this.queries,replies:this.replies,maxNodeChangesSize:Math.max.apply(null,this.nodeChangesSizes),...r(this.queriesTs,"query",5),...r(this.nodeChangesTs,"node",5),...r(this.repliesTs,"reply",5)};(0,s.sx)(this.eventName,t),this.alreadySent=!0}}else console.error(`IncrementalLoadTimer: file key mismatch ${e.fileKey} != ${this.fileKey}`);this.reset();break;default:(0,a.xb)(e)}}}reset(){this.fileKey=null,this.nodeChangesSizes=[],this.queries=[],this.replies=[],this.queriesTs=[],this.nodeChangesTs=[],this.repliesTs=[],this.alreadySent=!1}now(){return Math.round(performance.now())}setFileKey(e){this.fileKey=e}}function o(e){return[...e].sort().join(",")}function r(e,t,i){let a={};return e.forEach((e,s)=>{s<i&&(a[`${t}.${s}`]=e)}),a}},465833(e,t,i){i.d(t,{Kd:()=>T,Mt:()=>v,XF:()=>A,XY:()=>R,et:()=>x,fD:()=>g,hw:()=>f,iu:()=>p,lM:()=>E,mv:()=>y,nT:()=>N,qR:()=>b,wY:()=>O,yp:()=>I});var a=i(295870),s=i(759231),n=i(575015),o=i(86118),r=i(414072),l=i(982021),d=i(184634),c=i(566884),_=i(320656),u=i(73593),m=i(508280);let h=null,p={currentPluginRunID:null,stats:null,currentWidget:void 0,setMediaEnabled:!1,allowedPluginOrigin:void 0,resetGlobalPluginAPI:null};function g(){return p.currentPluginRunID}function f(){return s.zl.get(c.GR)}function E(e){l.J.setViewTag("pluginId",e?.plugin_id),s.zl.set(c.GR,e)}function b(e){l.J.setViewTag("pluginTriggeredFrom",e),s.zl.set(c.vT,e??null)}function T(e){s.zl.set(c.$f,e)}function y(){return Math.random().toString(36).slice(2)}function S(e){(0,n.nl)(),(0,d.$D)(a.FigmaTeam.EXTENSIBILITY_ECOSYSTEM,e)}function R(e){h&&S(Error(`Did not close the previous plugin: type=${h.type}`)),h={type:"global",closePluginFunc:e}}function v(e,t){h?.type==="plugin"&&t?.ignorePreviousCloseFunc!==h.closePluginFunc&&S(Error(`Did not close the previous plugin: type=${h.type}`)),h?.type==="global"&&S(Error(`Did not close the previous plugin: type=${h.type}`)),h=e?{type:"plugin",closePluginFunc:e}:null}function I(e){p.resetGlobalPluginAPI=e}function x(){return h?.type==="global"}async function A(e){if(h){let{closePluginFunc:t,type:i}=h;h=null,"global"===i?await t():await t(e)}}let O=(0,u.nh)(async e=>{await A(e?{message:e+"",isError:!0}:{}),N()});function N(){if((0,m.Tj)(void 0),p.currentWidget=void 0,E(null),b(null),T(null),p.currentPluginRunID=null,p.stats=null,s.zl.set(c.d4,null),s.zl.set(c.GR,null),o.eD&&p.setMediaEnabled&&(p.setMediaEnabled=!1),o.eD&&p.allowedPluginOrigin&&(o.eD.removeAllowedPluginOrigin(p.allowedPluginOrigin),p.allowedPluginOrigin=void 0),r.D){let e=(0,_.o8)(),t=(0,_.YR)();e&&t&&p.resetGlobalPluginAPI?.({userID:e,openFileKey:t})}}},719400(e,t,i){i.d(t,{Ol:()=>g,aB:()=>f,jx:()=>h});var a=i(836848),s=i(297746),n=i(270450),o=i(797174),r=i.n(o),l=i(857176),d=i(312010),c=i(886349),_=i(88869);function u(e,t){return void 0===t||t.has(e.node_id)}class m{constructor(e){this.addItem=(e,t,i)=>{if(t[e.type]&&t[e.type][i])return t[e.type][i].push(e),this.shouldReturnEarlyOnUpdate;(0,a.wc)("Unexpected library item type: "+e.type)},this.publishItem=(e,t)=>this.addItem(e,t,_.M$.PUBLISH),this.unpublishItem=(e,t)=>this.addItem(e,t,_.M$.UNPUBLISH),this.getPendingLibraryUpdates=(e,t,i,a,s,o,m,h,g,f)=>{let E={[_.PW.STATE_GROUP]:{[_.M$.PUBLISH]:[],[_.M$.UNPUBLISH]:[]},[_.PW.COMPONENT]:{[_.M$.PUBLISH]:[],[_.M$.UNPUBLISH]:[]},[_.PW.STYLE]:{[_.M$.PUBLISH]:[],[_.M$.UNPUBLISH]:[]},[_.PW.VARIABLE]:{[_.M$.PUBLISH]:[],[_.M$.UNPUBLISH]:[]},[_.PW.VARIABLE_SET]:{[_.M$.PUBLISH]:[],[_.M$.UNPUBLISH]:[]},[_.PW.MODULE]:{[_.M$.PUBLISH]:[],[_.M$.UNPUBLISH]:[]},[_.PW.RESPONSIVE_SET]:{[_.M$.PUBLISH]:[],[_.M$.UNPUBLISH]:[]},[_.PW.CODE_COMPONENT]:{[_.M$.PUBLISH]:[],[_.M$.UNPUBLISH]:[]},[_.PW.MANAGED_STRING]:{[_.M$.PUBLISH]:[],[_.M$.UNPUBLISH]:[]}};if(!h)return E;let b=e=>Object.values(e).filter(e=>(0,c.O)(e.type)&&u(e,f?.itemsToPublish)),T=f?.overridePublishPermissions||(0,d.w5)(h.team_id?g[h.team_id]:null),y=b(T?t:{}),S=b(T?e:{}),R=b(i),v=b(s),I=(0,n.getFeatureFlags)().dse_module_publish?b(o):[],x=b(m);if(f?.unpublishAll){for(let e of[...y,...S,...R,...v,...I,...x])e.status!==_.E8.NOT_STAGED&&e.status!==_.E8.NEW&&(e.type===_.PW.COMPONENT&&e.containing_frame?.containingStateGroup?.nodeId||this.unpublishItem(e,E));return E}let A=new Set(Object.keys(f?.moveRemappings||{}));for(let e of R){if(p(e,A,f?.forcePublish))continue;let t=e.status;if(t===_.E8.DELETED){if(this.unpublishItem(e,E))return E}else if((0,l.lg)(t)&&this.publishItem(e,E))return E}let O=function(e){let t=new Map;for(let i of e){if(i.deletedFromSceneGraph)continue;let e=i.containing_frame?.containingStateGroup?.nodeId;if(!e)continue;let a=t.get(e);a||(a=[],t.set(e,a)),a.push(i)}return t}(Object.values(t)),N=r()(Object.values(a),e=>e.variableSetId);for(let e of S){if(p(e,A,f?.forcePublish))continue;let t=e.status,i=e.node_id,a=O.get(i)??[];if(!(0,l.Hb)(t)){if(t===_.E8.DELETED&&this.unpublishItem(e,E))return E;for(let e of a){let t=e.status!==_.E8.NOT_STAGED&&e.status!==_.E8.NEW;if(e.component_key&&t&&this.unpublishItem(e,E))return E}continue}if((0,l.zE)(e))continue;let s=new Set(a.map(e=>e.node_id));for(let e of a)if(!p(e,A,f?.forcePublish)&&s.has(e.node_id)&&this.publishItem(e,E))return E;if(this.publishItem(e,E))return E}for(let e of y)if(!(e.status===_.E8.NOT_STAGED||p(e,A,f?.forcePublish))&&!e.containing_frame?.containingStateGroup?.nodeId){if(e.component_key&&e.status===_.E8.DELETED){if(this.unpublishItem(e,E))return E;continue}if(this.publishItem(e,E))return E}let C=new Set((0,l.X7)(E[_.PW.COMPONENT][_.M$.PUBLISH]).filter(e=>!!e)),L=new Set((0,l.X7)(E[_.PW.COMPONENT][_.M$.UNPUBLISH]).filter(e=>!!e));for(let e of[])if(!C.has(e.component_key)&&!L.has(e.component_key)&&this.unpublishItem(t[e.node_id],E))return E;for(let e of v)if(e.status!==_.E8.NOT_STAGED){if(e.key&&e.status===_.E8.DELETED){if(this.unpublishItem(e,E))return E;continue}for(let t of N[e.node_id]??[])if(t.status!==_.E8.NOT_STAGED&&t.status!==_.E8.CURRENT){if(t.key&&t.status===_.E8.DELETED){if(this.unpublishItem(t,E))return E;continue}if(this.publishItem(t,E))return E}if(this.publishItem(e,E))return E}for(let e of I){if(e.key&&e.status===_.E8.DELETED){if(this.unpublishItem(e,E))return E;continue}if(this.publishItem(e,E))return E}for(let e of x)if((0,c.O)(e.type)){if(e.status===_.E8.DELETED){if(this.unpublishItem(e,E))break}else if((0,l.lg)(e.status)&&this.publishItem(e,E))break}return E},this.shouldReturnEarlyOnUpdate=!!e?.shouldReturnEarlyOnUpdate}}function h(e,t,i,a,s,n,o,r,l,d){return new m().getPendingLibraryUpdates(e,t,i,a,s,n,o,r,l,d)}function p(e,t,i){return!!s.glU&&!i&&!(e.status!==_.E8.CURRENT||t.has(e.node_id))&&(s.glU.clearLibraryMoveInfo(e.node_id),!0)}function g(e){return!e.some(e=>[_.E8.CURRENT,_.E8.CHANGED,_.E8.NEW].includes(e.status))}function f(e,t){return Object.values(e).filter(e=>u(e,t)).every(e=>!(0,l.Hb)(e.status))}},915852(e,t,i){i.d(t,{J:()=>r,m:()=>l});var a=i(457672),s=i(245694),n=i(789766),o=i(868020);async function r(e,t="",i="",l,d=!1){d&&await (0,o.l)();let{data:{meta:c}}=await s.Ay.post(`/api/multiplayer/${e}/create_savepoint`,{label:t,description:i});return l(n.BC({history:{versions:[c]},direction:a.mL})),l(n.A9({status:!1})),c}async function l(e,t="",i="",a,s=!1){return null!=e?await r(e,t,i,a,s):null}},75488(e,t,i){i.d(t,{AN:()=>l,OC:()=>n,Uc:()=>o,yF:()=>r});var a=i(759231),s=i(141573);let n=(0,s.bt)(e=>e.selectedView),o=(0,s.bt)(e=>e.modalShown),r=(0,a.eU)(e=>e(o)?.type||null),l=(0,s.bt)(e=>e.notifications?.[0]?.type??null)},492081(e,t,i){i.d(t,{H1:()=>g,X0:()=>h,XJ:()=>u,z:()=>_});var a=i(297746),s=i(16233),n=i(359731),o=i(32186),r=i(404999),l=i(414072),d=i(115378),c=i(366217);let _={includeMatches:!0,shouldSort:!1,findAllMatches:!1,ignoreLocation:!0};function u(e){return e.replace(/[\u201D\u201C\"\u2019\u2018]/g,"'")}function m(e){return e.textContent&&(e.textContent=u(e.textContent)),e}function h(e,t,i){let s=[];for(let n of e.indices){let o=n[0],r=n[1]+1,l=e.value;if(!i.matchCase||l.substring(o,r)===t){if(i.wholeWords&&(o>0&&p(l[o-1])||r<e.value.length&&p(l[r])))continue;s.push({start:o,end:r,matchType:a.Ifi.TEXT_MATCH})}}return s}function p(e){return/[\p{L}\p{N}\p{Pc}\p{M}]/u.test(e)}let g=new class{constructor(){this.searchLibrary=new c.CN({keys:["textContent","name","type","annotationTextContent"],exactMatch:!0,..._})}initializeIndex(){if(!s.YE)return void console.warn("CanvasSearchHelpers is null/undefined - coult not initialize index");r.sn.start("canvas_search_index_create");let e=s.YE.getSearchableNodes(!0).map(m),t=l.D.getState();this.searchLibrary.set(e);let i=r.sn.tryStop("canvas_search_index_create");i&&(0,d.ds)("canvas_search_index_create",t.openFile?.key,t,{timeElapsedMs:i,numberOfNodes:e.length})}destroyIndex(){this.searchLibrary.set([])}addNode(e){this.searchLibrary.add(e)}removeNode(e){this.searchLibrary.remove("guid",e)}async search(e,t={}){let i;this.updateIndex(),r.sn.start("canvas_search_query_time");let s=`'"${u(e)}"`,o=[{textContent:s}];if(t.searchLayerNames&&o.push({name:s}),t.searchAnnotationTextContent&&o.push({annotationTextContent:s}),t.layerTypes){let e=[];t.layerTypes.forEach(t=>{e.push({type:t})}),i={$and:[{$or:o},{$or:e}]}}else i={$or:o};let l=await this.searchLibrary.search(i),d={},c=0,_=0;for(let i of l){let s=[];for(let o of i.matches){let r=h(o,e,t);if("textContent"!==o.key&&r.length){let e=r[0];e.matchType=i.item.type===n.Z6A.CANVAS?a.Ifi.PAGE_MATCH:a.Ifi.LAYER_MATCH,s=[e,...s]}else s.push(...r)}if(s.length){c+=s.length,_++;let e=i.item.pageGuid,t={guid:i.item.guid,textMatches:s};d[e]?d[e].push(t):d[e]=[t]}}let m=r.sn.tryStop("canvas_search_query_time");return{resultsByPage:d,metrics:{queryLength:e.length,numMatchingNodes:_,numMatches:c,queryTimeMs:m??0}}}logIndex(){this.updateIndex(),this.searchLibrary.logIndex()}updateIndex(){if(!s.YE)return void console.warn("CanvasSearchHelpers is null/undefined - coult not update index");r.sn.start("canvas_search_index_update");let e=s.YE.getSearchableNodes(!1).map(m);if(e.length>2e3)return void this.initializeIndex();let t=[],i=[];for(let a of e)t.push(a.guid),(a.name||a.textContent)&&i.push(a);e.length&&this.searchLibrary.updateEntries("guid",t,i);let a=r.sn.tryStop("canvas_search_index_update");e.length>0&&a&&(0,o.sx)("canvas_search_index_update",{timeElapsedMs:a,numberOfNodes:e.length})}}},809064(e,t,i){i.d(t,{b:()=>l});var a=i(923461),s=i(206556),n=i(678356),o=i(239068),r=i(930501);async function l({dispatch:e,fileKey:t,folderId:i,plan:l,seatType:d}){return await new Promise((c,_)=>{if(l.key.type===r.OL.ORG){let n=l.key.parentId;e(a.$V({orgId:n,entryPoint:s.tc.NUX,licenseType:o.TI[d],seatTypeKey:d,fileKey:t??void 0,onError:()=>_(Error("Error requesting upgrade for org")),onSuccess:e=>{c(e)},suppressVisualBell:!0,folderId:i??void 0}))}else{let a=l.key.parentId;e(n.Nu({teamId:a,entryPoint:s.tc.NUX,licenseType:o.TI[d],seatTypeKey:d,fileKey:t??void 0,onError:()=>_(Error("Error requesting upgrade for team")),onSuccess:e=>{c(e)},hideSuccessMessage:!0,folderId:i??void 0}))}})}},8621(e,t,i){i.d(t,{_V:()=>n,b4:()=>s,kM:()=>a.k});var a=i(4723);let s=[a.k.Text,a.k.FrameOrGroup,a.k.Component,a.k.Instance,a.k.Image,a.k.Shape,a.k.Other],n=[a.k.MatchCase,a.k.WholeWords]},589202(e,t,i){i.d(t,{Vf:()=>m,_O:()=>u,fK:()=>p,hb:()=>c,ib:()=>d});var a=i(209185);let s=a.By.arrayOf(a.By.exact({name:a.By.string,key:a.By.string,description:a.By.string.isOptional,optional:a.By.bool.isOptional,allowFreeform:a.By.bool.isOptional})),n=a.By.arrayOf(a.By.oneOf([a.By.exact({command:a.By.string,name:a.By.string,parameters:s.isOptional,parameterOnly:a.By.bool.isOptional}),a.By.exact({separator:!0}),a.By.exact({name:a.By.string,get menu(){return n}})])),o=a.By.arrayOf(a.By.string).isOptional,r=a.By.arrayOf(a.By.oneOf([a.By.exact({itemType:"action",propertyName:a.By.string,label:a.By.string.isOptional,includedLanguages:o}),a.By.exact({itemType:"unit",scaledUnit:a.By.string,defaultScaleFactor:a.By.float.isOptional,default:a.By.bool.isOptional,includedLanguages:o}),a.By.exact({itemType:"select",propertyName:a.By.string,label:a.By.string.isOptional,includedLanguages:o,options:a.By.arrayOf(a.By.exact({value:a.By.string,label:a.By.string,isDefault:a.By.bool.isOptional}))})])),l=a.By.exact({label:a.By.string,value:a.By.string}),d=a.By.arrayOf(a.By.string).isOptional,c=a.By.arrayOf(a.By.string).isOptional,_={id:a.By.string.isOptional,name:a.By.string,api:a.By.string,main:a.By.string,ui:a.By.oneOf([a.By.string.isOptional,a.By.dictionaryOf(a.By.string.isOptional)]),build:a.By.string.isOptional,enableProposedApi:a.By.bool.isOptional,enablePrivatePluginApi:a.By.bool.isOptional,permissions:a.By.arrayOf(a.By.string).isOptional,capabilities:c,networkAccess:a.By.exact({allowedDomains:a.By.arrayOf(a.By.string),reasoning:a.By.string.isOptional,devAllowedDomains:a.By.arrayOf(a.By.string).isOptional}).isOptional,documentAccess:a.By.string.isOptional},u=a.By.exact({..._,menu:n.isOptional,relaunchButtons:a.By.arrayOf(a.By.exact({command:a.By.string,name:a.By.string,multipleSelection:a.By.bool.isOptional})).isOptional,parameters:s.isOptional,parameterOnly:a.By.bool.isOptional,editorType:d,enableReadOnly:a.By.bool.isOptional,codegenLanguages:a.By.arrayOf(l).isOptional,codegenPreferences:r.isOptional,relatedLinkDomains:a.By.arrayOf(a.By.string).isOptional,devResourceDomains:a.By.arrayOf(a.By.string).isOptional,lintRules:a.By.arrayOf(a.By.exact({key:a.By.string,name:a.By.string,description:a.By.string.isOptional})).isOptional}),m=a.By.exact({..._,containsWidget:!0,widgetApi:a.By.string.isOptional,editorType:d}),h=a.By.exact({type:a.By.string,data:a.By.string}),p=a.By.exact({clientX:a.By.float,clientY:a.By.float,items:a.By.arrayOf(h).isOptional,files:a.By.arrayOf(a.By.any).isOptional,dropMetadata:a.By.any.isOptional})},767467(e,t,i){i.d(t,{Y:()=>s});let a=class e{static getInstance(t){if(!e.instance[t])throw Error("Running plugin before iframe sandbox started loading");return e.instance[t]}static getInstanceLoading(t){if(t in e.instanceLoading)return e.instanceLoading[t].promise;let i=()=>{},a=()=>{},s=new Promise((e,t)=>{i=e,a=t});return e.instanceLoading[t]={promise:s,resolve:i,reject:a},s}};a.instance={},a.instanceLoading={};let s=a},14038(e,t,i){i.d(t,{WW:()=>d,Ym:()=>r,pN:()=>l});var a=i(4257),s=i(459270),n=i(92839),o=i(194579);function r(e){let t;if(e.isBackground)return;let i=(t=d(e.name,e.vmType),e.isBackground?(0,n.A)("plugins-background",{plugin:t}):e.isInsert?(0,n.A)("plugins-inserting",{plugin:t}):(0,n.A)("plugins-running",{plugin:t}));o.Y5.dispatch(a.F.enqueue({type:"plugins-status",message:i,icon:e.isBackground?s.zX.NONE:e.shouldShowCheck?s.zX.CHECK:s.zX.SPINNER,timeoutType:"exact",timeoutOverride:e.isBackground?1/0:e.shouldShowCheck?1e3:void 0,delay:e.delayOverride??300,button:e.isInsert?void 0:{text:e.isBackground?(0,n.A)("plugins-stop"):(0,n.A)("plugins-cancel"),action:t=>{e.cancelCallback()}}}))}function l(e){o.Y5&&o.Y5.isReady()&&e.shouldShowVisualBell&&o.Y5.dispatch(a.F.dequeue({matchType:"plugins-status"}))}function d(e,t){return"realms"===t?`${e} (${(0,n.A)("plugins-realms-vm")})`:e}},523433(e,t,i){i.d(t,{Z:()=>m});var a=i(449979),s=i(148849),n=i(968368),o=i(245694),r=i(1118),l=i(368958),d=i(271702),c=i(88869),_=i(365477);let u=o.Ay.requiredHeaders,m=new class{constructor(){this.LibraryComponentV2DestinationSchemaValidator=(0,n.YV)("LibraryComponentV2Destination",s.z.object({node_id:_.ZI,file_key:s.z.string(),component:c.$L,component_set:c.Ko.optional()}),"ds_zod_components",!1,!0),this.LibraryPublishedComponentsSchemaValidator=(0,n.vh)(),this.CommunityLibraryPublishedComponentsSchemaValidator=(0,n.vh)(),this.LibraryPublishedComponentsV2SchemaValidator=(0,n.YV)("LibraryPublishedComponentsV2",s.z.object({components:s.z.array((0,c.XS)(r.P.REST_API).extend(c.$L.shape)),state_groups:s.z.array((0,c.XS)(r.P.REST_API).extend(c.Ko.shape)),file:l.L.nullable(),hub_file:s.Ip.coerce.null(d.NS.nullable())}),"ds_zod_components",!1,!0),this.LibraryStylesSchemaValidator=(0,n.YV)("LibraryStylesSchemaValidator",s.z.object({styles:s.z.array((0,c.XS)(r.P.REST_API).extend(c.Vp.shape))}),"ds_zod_styles",!1,!0),this.LibraryStyleByKeyValidator=(0,n.YV)("LibraryStyleByKeyValidator",s.z.object({style:(0,c.XS)(r.P.REST_API).extend(c.Vp.shape),file:l.L}),"ds_zod_styles",!1,!0),this.LibraryStyleLogByKeyVersionValidator=(0,n.vh)(),this.LibrarySubscribedComponentsEditorTypeSchemaValidator=(0,n.YV)("LibrarySubscribedComponentsEditorType",s.z.object({components:s.z.array((0,c.XS)(r.P.REST_API).extend(c.$L.shape)),state_groups:s.z.array((0,c.XS)(r.P.REST_API).extend(c.Ko.shape)),files:l.L.array(),hub_files:d.NS.array().optional()}),"ds_zod_components",!1,!0),this.DefaultLibrariesSchemaValidator=(0,n.vh)(),this.DefaultLibraryAttributionSchemaValidator=(0,n.vh)(),this.LibraryPublishedComponentsStatsSchemaValidator=(0,n.vh)(),this.LibraryComponentV2SchemaValidator=(0,n.YV)("LibraryComponentV2",s.z.object({component:(0,c.XS)(r.P.REST_API).extend(c.$L.shape),component_set:(0,c.XS)(r.P.REST_API).extend(c.Ko.shape).nullable(),state_components:s.z.array((0,c.XS)(r.P.REST_API).extend(c.$L.shape)),file:l.L.nullable()}),"ds_zod_components",!1,!0),this.LibraryStateGroupSchemaValidator=(0,n.YV)("LibraryStateGroup",(0,c.XS)(r.P.REST_API).extend(c.Ko.shape),"ds_zod_components",!1,!0),this.LibraryPublishedAndMovedComponentsSchemaValidator=(0,n.YV)("LibraryPublishedAndMovedComponents",s.z.object({components:s.z.array((0,c.XS)(r.P.REST_API).extend(c.$L.shape)),state_groups:s.z.array((0,c.XS)(r.P.REST_API).extend(c.Ko.shape)),files:s.z.array(l.L),move_remappings:s.z.record(c.cI)}),"ds_zod_components",!1,!0),this.LibrariesSchemaValidator=(0,n.vh)(),this.LibrariesV2SchemaValidator=(0,n.vh)(),this.LibraryPublishSchemaValidator=(0,n.vh)(),this.UploadPublishParamsSchemaValidator=(0,n.vh)(),this.UnpublishedStylesSchemaValidator=(0,n.YV)("UnpublishedStylesSchemaValidator",s.z.object({styles:s.z.array((0,c.XS)(r.P.REST_API).extend(c.Vp.shape))}),"ds_zod_styles",!1,!0),this.MissingStylesByLibraryKeySchemaValidator=(0,n.vh)(),this.EverPublishedLibrariesSchemaValidator=(0,n.vh)(),this.LibrariesByLibraryKeys=(0,n.vh)(),this.ValidateCopyValidator=(0,n.vh)(),this.EnableSlotsForFileValidator=(0,n.vh)()}getLibraryComponentV2Destination(e){return this.LibraryComponentV2DestinationSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/component_v2/${e.componentKey}/destination`))}getLibraryPublishedComponents(e){let{key:t,includeThumbnail:i,includeRealtime:a}=e;return this.LibraryPublishedComponentsSchemaValidator.validate(async({xr:e})=>await e.get(`/api/design_systems/library/${t}/published_components`,n.td.toAPIParameters({includeThumbnail:i,includeRealtime:a}),{...u,retryCount:5}))}getCommunityLibraryPublishedComponents(e){return this.CommunityLibraryPublishedComponentsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/community_libraries/${e.hubFileId}/published_components`,null,{...u,retryCount:5}))}getLibraryPublishedComponentsV2(e){let{libraryKey:t,includeThumbnail:i,includeRealtime:a}=e;return this.LibraryPublishedComponentsV2SchemaValidator.validate(async({xr:e})=>await e.get(`/api/design_systems/v2/library/${t}/published_components`,n.td.toAPIParameters({includeThumbnail:i,includeRealtime:a}),{...u,retryCount:5}))}getLibraryStyles(e){return this.LibraryStylesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/${e.libraryFileKey}/styles`))}getLibraryStylesByLibraryKey(e){return this.LibraryStylesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/v2/library/${e.libraryKey}/styles`))}getLibraryStyleByKey(e){return this.LibraryStyleByKeyValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/styles/${e.styleKey}`))}getLibraryStyleByKeyAndVersion(e){return this.LibraryStyleLogByKeyVersionValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/styles/${e.styleKey}/version/${e.version}`))}getLibrarySubscribedComponentsEditorType(e){return this.LibrarySubscribedComponentsEditorTypeSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/${e.key}/subscribed_components?editor_type=${e.editorType}`))}getDefaultLibraries(e){return this.DefaultLibrariesSchemaValidator.validate(async({xr:t})=>await t.get("/api/design_systems/default_libraries",n.td.toAPIParameters(e)))}getDefaultLibraryAttribution(e){return this.DefaultLibraryAttributionSchemaValidator.validate(async({xr:t})=>await t.get("/api/design_systems/default_library_attribution",n.td.toAPIParameters(e)))}getLibraryPublishedComponentsStats(e){return this.LibraryPublishedComponentsStatsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/${e.libraryFileKey}/published_components`))}getLibraryComponentV2(e){return this.LibraryComponentV2SchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/component_v2/${e.componentKey}`,n.td.toAPIParameters(e)))}getLibraryStateGroup(e){return this.LibraryStateGroupSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/state_group/${e.stateGroupKey}`))}getLibraryPublishedAndMovedComponents(e){return this.LibraryPublishedAndMovedComponentsSchemaValidator.validate(async({xr:t})=>await t.get(`/api/design_systems/library/${e.openFileKey}/published_and_moved_components`,null,{...u,retryCount:5}))}getLibraries(e){return this.LibrariesSchemaValidator.validate(async({xr:t})=>await t.get("/api/design_systems/libraries",n.td.toAPIParameters(e)))}getLibrariesV2(e){return this.LibrariesV2SchemaValidator.validate(async({xr:t})=>await t.get("/api/design_systems/v2/libraries",n.td.toAPIParameters(e)))}postLibraryPublish({fileKey:e,checkpointKey:t,paramsPath:i,publishToCommunity:a,publishScope:s}){return this.LibraryPublishSchemaValidator.validate(async({xr:n})=>await n.post(`/api/publish/${e}`,{file_key:e,checkpoint_key:t,params_path:i,publish_to_community:a,publish_scope:s}))}postUploadPublishParams(){return this.UploadPublishParamsSchemaValidator.validate(async({xr:e})=>await e.post("/api/publish_params/upload"))}postUnpublishedStyles({styleKeys:e,orgId:t}){return this.UnpublishedStylesSchemaValidator.validate(async({xr:i})=>await i.post("/api/unpublished_styles",{style_keys:e,org_id:t}))}postMissingStylesByLibraryKey({styleKeys:e}){return this.MissingStylesByLibraryKeySchemaValidator.validate(async({xr:t})=>await t.post("/api/missing_styles_by_library_key",{style_keys:e}))}postEverPublishedLibraries({libraryKeys:e}){return this.EverPublishedLibrariesSchemaValidator.validate(async({xr:t})=>await t.post("/api/design_systems/missing_libraries",{library_keys:e}))}getLibrariesByLibraryKeys({libraryKeys:e,subscriptionFileKey:t,orgId:i}){return this.LibrariesByLibraryKeys.validate(async({xr:s})=>await s.post("/api/design_systems/libraries_by_library_keys",{library_keys:e.filter(a.Vq),subscription_file_key:t,org_id:i}))}postValidateCopy({nodeIds:e,fileKey:t,copyType:i}){return this.ValidateCopyValidator.validate(async({xr:a})=>await a.post("/api/design_systems/validate_copy",n.td.toAPIParameters({nodeIds:e,fileKey:t,copyType:i})))}postEnableSlotsForFile({fileKey:e}){return this.EnableSlotsForFileValidator.validate(async({xr:t})=>await t.put(`/api/enable_slots/${e}`,{slots_enabled:!0}))}}},49117(e,t,i){i.d(t,{e:()=>o});var a=i(359731),s=i(245694),n=i(930501);let o=new class{async recordStatusChange(e){let t=new Date().toISOString();return await s.Ay.post(`/api/files/${e.fileKey}/dev_mode_activity`,{nodes:e.nodes,activity_data:{type:n.o6.STATUS_CHANGE,status:function(e){switch(e){case a.zIx.BUILD:return n.zI.BUILD;case a.zIx.NONE:return n.zI.NONE;case a.zIx.COMPLETED:return n.zI.COMPLETED}}(e.status),description:e.description},version_id:e.versionId,timestamp:t})}}},819064(e,t,i){i.d(t,{PT:()=>l});var a=i(449109),s=i(699715),n=i(526322),o=i(968368);function r(e){let t=o.td.toAPIParameters(e)??{},i=Object.keys(t),r=i.map(e=>t[e]),l=(0,s.A)().utc().unix(),d=["please_use_the_public_api",l,...r].join(","),c=(0,n.F)(d).slice(0,10),_=[l,...i].join(",");return{dsaToken:c,dsaTokenKey:(0,a.aj)(_)}}let l=new class{constructor(){this.LibraryWeeklyInsertionsSchemaValidator=(0,o.vh)(),this.LibraryTeamUsageSchemaValidator=(0,o.vh)(),this.LibraryPublishedComponentsUsagesSchemaValidator=(0,o.vh)(),this.LibraryPublishedComponentsActionsSchemaValidator=(0,o.vh)(),this.LibraryOverviewSchemaValidator=(0,o.vh)(),this.LibrariesSchemaValidator=(0,o.vh)(),this.NumTeamsSchemaValidator=(0,o.vh)(),this.StateGroupComponentsSchemaValidator=(0,o.vh)(),this.ComponentFileUsageSchemaValidator=(0,o.vh)(),this.ComponentSchemaValidator=(0,o.vh)(),this.StateGroupSchemaValidator=(0,o.vh)(),this.OrgMigrationStatusSchemaValidator=(0,o.vh)(),this.LibraryStyleOverviewValidator=(0,o.vh)(),this.LibraryStyleDetailsValidator=(0,o.vh)(),this.LibraryVariableOverviewValidator=(0,o.vh)(),this.LibraryVariableDetailsValidator=(0,o.vh)(),this.RecordStylesActionValidator=(0,o.vh)(),this.RecordVariablesActionValidator=(0,o.vh)(),this.RecordComponentActionValidator=(0,o.vh)()}getLibraryWeeklyInsertions(e){let t=r(e);return this.LibraryWeeklyInsertionsSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.fileKey}/weekly_insertions`,o.td.toAPIParameters({...e,...t})))}getLibraryTeamUsage(e){let t=r(e);return this.LibraryTeamUsageSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.fileKey}/team_usage`,o.td.toAPIParameters({...e,...t})))}getLibraryPublishedComponentsUsages(e){let t={start_ts:e.startTs,end_ts:e.endTs,org_id:e.orgIdForLogging,entrypoint:e.entrypointForLogging,library_file_key:e.libraryFileKey},i=r(t);return this.LibraryPublishedComponentsUsagesSchemaValidator.validate(async({xr:a})=>await a.get(`/api/dsa/library/${e.libraryFileKey}/published_components_usages`,o.td.toAPIParameters({...t,...i})))}getLibraryPublishedComponentsActions(e){let t={start_ts:e.startTs,end_ts:e.endTs,org_id:e.orgIdForLogging,entrypoint:e.entrypointForLogging,library_file_key:e.libraryFileKey},i=r(t);return this.LibraryPublishedComponentsActionsSchemaValidator.validate(async({xr:a})=>await a.get(`/api/dsa/library/${e.libraryFileKey}/published_components_actions`,o.td.toAPIParameters({...t,...i})))}getLibraryOverview(e){let t=r(e);return this.LibraryOverviewSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library_overview/${e.libraryFileKey}`,o.td.toAPIParameters({...e,...t})))}getLibraries(e){let t=r(e);return this.LibrariesSchemaValidator.validate(async({xr:i})=>await i.get("/api/dsa/libraries",o.td.toAPIParameters({...e,...t})))}getNumTeams(e){let t=r(e);return this.NumTeamsSchemaValidator.validate(async({xr:i})=>await i.get("/api/dsa/num_teams",o.td.toAPIParameters({...e,...t})))}getStateGroupComponents(e){let t=r(e);return this.StateGroupComponentsSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/state_group/${e.stateGroupKey}/components`,o.td.toAPIParameters({...e,...t})))}getComponentFileUsage(e){let t=r(e);return this.ComponentFileUsageSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/component/${e.componentKey}/file_usage`,o.td.toAPIParameters({...e,...t})))}getComponent(e){let t=r(e);return this.ComponentSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/component/${e.componentKey}`,o.td.toAPIParameters({...e,...t})))}getStateGroup(e){let t=r(e);return this.StateGroupSchemaValidator.validate(async({xr:i})=>await i.get(`/api/dsa/state_group/${e.stateGroupKey}`,o.td.toAPIParameters({...e,...t})))}getOrgMigrationStatus(e){return this.OrgMigrationStatusSchemaValidator.validate(async({xr:t})=>await t.get(`/api/dsa/migration_status/${e.orgId}`))}getLibraryStyleOverview(e){let t=r(e);return this.LibraryStyleOverviewValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.libraryFileKey}/styles/overview`,o.td.toAPIParameters({...e,...t})))}getLibraryStyleDetails(e){let t=r(e);return this.LibraryStyleDetailsValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.libraryFileKey}/styles/${e.styleKey}/details`,o.td.toAPIParameters({...e,...t})))}getLibraryVariableOverview(e){let t=r(e);return this.LibraryVariableOverviewValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.libraryFileKey}/variables/overview`,o.td.toAPIParameters({...e,...t})))}getLibraryVariableDetails(e){let t=r(e);return this.LibraryVariableDetailsValidator.validate(async({xr:i})=>await i.get(`/api/dsa/library/${e.libraryFileKey}/variables/${e.variableKey}/details`,o.td.toAPIParameters({...e,...t})))}recordStylesAction(e){return this.RecordStylesActionValidator.validate(async({xr:t})=>await t.post("/api/dsa/record/style/action",o.td.toAPIParameters(e)))}recordVariablesAction(e){return this.RecordVariablesActionValidator.validate(async({xr:t})=>await t.post("/api/dsa/record/variable/action",o.td.toAPIParameters(e)))}recordComponentAction(e){return this.RecordComponentActionValidator.validate(async({xr:t})=>await t.post("/api/dsa/record/component/action",o.td.toAPIParameters(e)))}}},757291(e,t,i){i.d(t,{S:()=>o});var a=i(968368),s=i(245694),n=i(368958);let o=new class{constructor(){this.RelatedLinksSchemaValidator=(0,a.vh)(),this.FilesSchemaValidator=(0,a.vh)(),this.FilesSchemaValidatorWithPerms=(0,a.vh)(),this.VideosSchemaValidator=(0,a.vh)(),this.RealtimeTokenSchemaValidator=(0,a.vh)(),this.SourceCheckpointCreatedAtSchemaValidator=(0,a.vh)(),this.SourceFileUpdatedInfoSchemaValidator=(0,a.vh)(),this.MetaSchemaValidator=(0,a.vh)(),this.LastInteractionSchemaValidator=(0,a.vh)(),this.VideosUploadSchemaValidator=(0,a.vh)(),this.VideoDownloadSchemaValidator=(0,a.vh)(),this.VideoThumbnailsSchemaValidator=(0,a.vh)(),this.IncludeFolderTeamCanEditSchemaValidator=(0,a.vh)(),this.PageCheckpointThumbnailsSchemaValidator=(0,a.vh)(),this.GetHubFileDuplicatesSchemaValidator=(0,a.vh)(),this.GetTaggedUserFileSchemaValidator=(0,a.vh)(),this.PageWAFValidatorSchemaValidator=(0,a.vh)(),this.CopyFileSchemaValidator=(0,a.YV)("CopyFileSchemaValidator",n.L,null),this.ReferenceIdSchemaValidator=(0,a.vh)()}getRelatedLinks(e){let{fileKey:t,...i}=e;return this.RelatedLinksSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/related_links`,a.td.toAPIParameters(i)))}getFiles(e){let{fileKey:t,args:i,...s}=e;return e.includePerms?this.FilesSchemaValidatorWithPerms.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}`,a.td.toAPIParameters(s),i)):this.FilesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}`,a.td.toAPIParameters(s),i))}getVideos(e){return this.VideosSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/videos`))}getRealtimeToken(e){return this.RealtimeTokenSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/realtime_token`))}getSourceCheckpointCreatedAt(e){return this.SourceCheckpointCreatedAtSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.currentFileKey}/source_checkpoint_created_at`))}getSourceFileUpdatedInfo(e){return this.SourceFileUpdatedInfoSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.branchFileKey}/source_file_updated_info`))}getMeta(e){return this.MetaSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/meta`))}getLastInteraction(e){return this.LastInteractionSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.openFileKey}/last_interaction`))}getVideosUpload(e){return this.VideosUploadSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}/videos/${e.sha1}/upload`))}getVideosDownload(e){return this.VideoDownloadSchemaValidator.validate(({xr:t})=>t.get(`/api/files/${e.fileKey}/videos/${e.hexHash}`))}getVideoThumbnails(e){return this.VideoThumbnailsSchemaValidator.validate(({xr:t})=>{let i=a.td.toAPIParameters({max_results:e.maxResults,start_timestamp_ms:e.startTimestampMs,end_timestamp_ms:e.endTimestampMs});return t.get(`/api/files/${e.fileKey}/videos/${e.sha1}/thumbnails`,i)})}getIncludeFolderTeamCanEdit(e){return this.IncludeFolderTeamCanEditSchemaValidator.validate(async({xr:t})=>await t.get(`/api/files/${e.fileKey}`,a.td.toAPIParameters({includeFolderTeamCanEdit:+!!e.includeFolderTeamCanEdit})))}putFile(e){return s.Ay.put(`/api/files/${e.file.key}`,e.file)}updatePageCheckpointThumbnails(e){return this.PageCheckpointThumbnailsSchemaValidator.validate(async({xr:t})=>await t.post(`/api/files/${e.fileKey}/page_thumbnails`))}getHubFileDuplicates(e){return this.GetHubFileDuplicatesSchemaValidator.validate(async({xr:t})=>await t.post("/api/files/hub_file_duplicates",a.td.toAPIParameters({fileKeys:e.fileKeys})))}getTaggedUserFiles(e){return this.GetTaggedUserFileSchemaValidator.validate(async({xr:t})=>await t.post("/api/tagged_file",a.td.toAPIParameters({fileTags:e.fileTags,currentOrgId:e.currentOrgId,currentTeamId:e.currentTeamId,shouldRecreate:e.shouldRecreate})))}getWAFValidator(){return this.PageWAFValidatorSchemaValidator.validate(async({xr:e})=>await e.get("/waf-validation-captcha"))}copyFile(e,t){return this.CopyFileSchemaValidator.validate(async({xr:i})=>await i.post(`/api/multiplayer/${e}/copy`,a.td.toAPIParameters({...t||{}})))}getOrCreateReferenceId(e){return this.ReferenceIdSchemaValidator.validate(async({xr:t})=>await t.post(`/api/files/${e.fileKey}/reference_id`))}}},576934(e,t,i){i.d(t,{j:()=>s});var a=i(968368);let s=new class{constructor(){this.AutoAcceptResponseValidator=(0,a.vh)(),this.UpdateInviteBillableProductKeyValidator=(0,a.vh)()}putAcceptInvite(e){return this.AutoAcceptResponseValidator.validate(async({xr:t})=>await t.put("/api/invites/accept",e))}updateInviteBillableProductKey(e){let{inviteId:t,billableProductKey:i}=e;return this.UpdateInviteBillableProductKeyValidator.validate(async({xr:e})=>await e.patch(`/api/invites/${t}/billable_product_key`,{billable_product_key:i}))}}},889218(e,t,i){i.d(t,{f:()=>n});var a=i(359731),s=i(245694);let n=new class{getStatusType(e){switch(e){case a.zIx.BUILD:return"build";case a.zIx.COMPLETED:return"completed";default:return"none"}}recordStatusChange(e){s.Ay.post(`/api/files/${e.fileKey}/node_status`,{node_id:e.nodeId,node_name:e.nodeName,node_type:e.nodeType,node_status_type:this.getStatusType(e.status),page_name:e.pageName,node_prev_status_type:this.getStatusType(e.prevStatus),node_status_description:e.description,node_preview_background:e.previewBackground,prev_activity_id:e.prevActivityId})}}},677954(e,t,i){i.d(t,{G:()=>l,h:()=>r});var a,s=i(148849),n=i(968368),o=i(82298),r=((a=r||{}).DEV_MODE_BETA_SUGGESTED_UPGRADES="dev_mode_beta_suggested_upgrades",a.MEMBERS_TAB="members_tab",a.FILE_PERMISSIONS_MODAL="file_permissions_modal",a);let l=new class{constructor(){this.GuestResourcesSchemaValidator=(0,n.vh)(),this.OrgUserSchemaValidator=(0,n.YV)("OrgUserSchemaValidator",o.WU,null,!1),this.UpdateOrgUsersSchemaValidator=(0,n.YV)("UpdateOrgUsersSchemaValidator",s.z.array(o.WU),null,!1),this.CreateStarterTeamSchemaValidator=(0,n.vh)(),this.requestUpgradeSchemaValidator=(0,n.vh)()}getGuestResources(e){return this.GuestResourcesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/org_user/${e.orgUserId}/guest_resources`))}updateOrgUser(e){let{id:t,changes:i}=e;return this.OrgUserSchemaValidator.validate(({xr:e})=>e.put(`/api/org_users/${t}`,n.td.toAPIParameters(i)))}updateOrgUsers(e){let{orgId:t,...i}=e;return this.UpdateOrgUsersSchemaValidator.validate(({xr:t})=>t.put(`/api/orgs/${e.orgId}/org_users`,n.td.toAPIParameters(i)))}createStarterTeam(){return this.CreateStarterTeamSchemaValidator.validate(({xr:e})=>e.post("/api/org_user/create_starter_team"))}postOrgUserFlags(e){let{orgUserId:t,flags:i}=e;return n._5.validate(({xr:e})=>e.post(`/api/org_users/${t}/flags`,{flags:i}))}requestOrgAccountTypeRequest(e){return this.requestUpgradeSchemaValidator.validate(async({xr:t})=>await t.post(`/api/orgs/${e.org_id}/org_users/request_upgrade`,e))}getMemberCSVExport(e){return n._5.validate(({xr:t})=>t.post(`/api/orgs/${e.orgId}/export_members`))}}},463989(e,t,i){i.d(t,{G:()=>s});var a=i(968368);let s=new class{constructor(){this.FileUsersSchemaValidator=(0,a.vh)(),this.TeamSchemaValidator=(0,a.vh)(),this.RolesSchemaValidator=(0,a.vh)()}getFileUsers(e){return this.FileUsersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/roles/file_users/${e.fileKey}`))}getTeam(e){return this.TeamSchemaValidator.validate(async({xr:t})=>await t.get(`/api/roles/team/${e.teamId}`))}getRoles(e){return this.RolesSchemaValidator.validate(async({xr:t})=>await t.get(`/api/roles/${e.resourceType}/${e.resourceId}`))}}},940448(e,t,i){i.d(t,{z:()=>n});var a=i(148849),s=i(968368);let n=new class{constructor(){this.SitesBundleSchemaValidator=(0,s.vh)(),this.SitesCustomDomainDnsRecordsValidator=(0,s.YV)("SitesCustomDomainDnsRecordsValidator",a.z.array(a.z.object({type:a.z.string(),host:a.z.string(),value:a.z.string()})),null),this.SitesActivateCustomDomainValidator=(0,s.YV)("SitesActivateCustomDomainValidator",a.z.void(),null),this.SitesRemoveCustomDomainValidator=(0,s.YV)("SitesRemoveCustomDomainValidator",a.z.void(),null),this.SitesCustomDomainLimitReachedValidator=(0,s.YV)("SitesCustomDomainLimitReachedValidator",a.z.object({limit_reached:a.z.boolean(),num_domains_allowed:a.z.number(),num_domains:a.z.number()}),null),this.SitesUpdateBundleValidator=(0,s.YV)("SitesUpdateBundleValidator",a.z.void(),null),this.SitesUpdateSubdomainValidator=(0,s.YV)("SitesUpdateSubdomainValidator",a.z.object({domain:a.z.string()}),null),this.SitesValidateSubdomainValidator=(0,s.YV)("SitesValidateSubdomainValidator",a.z.void(),null),this.SitesFileKeyVideos=(0,s.YV)("SitesFileKeyVideosValidator",a.z.object({videos:a.z.record(a.z.string(),a.z.string())}),null),this.SitesFileKeyImages=(0,s.YV)("SitesFileKeyImagesValidator",a.z.object({images:a.z.record(a.z.string(),a.z.string())}),null),this.SitesSetPasswordValidator=(0,s.YV)("SitesSetPasswordValidator",a.z.object({success:a.z.boolean(),password_version:a.z.number()}),null),this.SitesUnsetPasswordValidator=(0,s.YV)("SitesUnsetPasswordValidator",a.z.object({success:a.z.boolean()}),null),this.SitesEnableSsoValidator=(0,s.YV)("SitesEnableSsoValidator",a.z.void(),null),this.SitesDisableSsoValidator=(0,s.YV)("SitesDisableSsoValidator",a.z.void(),null)}postSitesBundleAsync(e){return this.SitesBundleSchemaValidator.validate(async({xr:t})=>{let i={responsive_set_guids:e.responsiveSetGuids,font_index_hash:e.fontIndexHash};return i.file_version_id=e.fileVersionId,await t.post(`/api/sites/${e.fileKey}/async/upload`,i)})}unpublishSite(e){return this.SitesBundleSchemaValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/unpublish`))}addCustomDomain(e){return this.SitesCustomDomainDnsRecordsValidator.validate(async({xr:t})=>await t.post(`/api/sites/${e.fileKey}/custom_domain`,{domain:e.domain,create_paired_domain:e.createPairedDomain}))}configureRedirect(e){return this.SitesCustomDomainDnsRecordsValidator.validate(async({xr:t})=>await t.post(`/api/sites/${e.fileKey}/configure_redirect`))}activateCustomDomain(e){return this.SitesActivateCustomDomainValidator.validate(async({xr:t})=>await t.post(`/api/sites/${e.fileKey}/verify_custom_domain`))}getDomainDNSRecords(e){return this.SitesCustomDomainDnsRecordsValidator.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/get_custom_domain_dns_records`))}removeCustomDomain(e){return this.SitesRemoveCustomDomainValidator.validate(async({xr:t})=>await t.del(`/api/sites/${e.fileKey}/remove_custom_domain`))}removeCustomDomainRedirect(e){return this.SitesRemoveCustomDomainValidator.validate(async({xr:t})=>await t.del(`/api/sites/${e.fileKey}/remove_custom_domain_redirect`))}customDomainLimitReached(e){return this.SitesCustomDomainLimitReachedValidator.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/check_custom_domain_limit`))}updateBundle(e){return this.SitesUpdateBundleValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/update_bundle`,{bundle_id:e.bundleId}))}updateSubdomain(e){return this.SitesUpdateSubdomainValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/update_subdomain`,{new_base_domain:e.new_base_domain}))}validateSubdomain(e){return this.SitesValidateSubdomainValidator.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/validate_subdomain`,{new_base_domain:e.new_base_domain}))}getFileVideos(e){return this.SitesFileKeyVideos.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/videos`))}getFileImages(e){return this.SitesFileKeyImages.validate(async({xr:t})=>await t.get(`/api/sites/${e.fileKey}/images`,{shas:e.shas.join(",")}))}setPassword(e){return this.SitesSetPasswordValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/set_password`,{password:e.password,protected_webpage_guids:e.protectedWebpageGuids&&e.protectedWebpageGuids.length>0?e.protectedWebpageGuids:null}))}unsetPassword(e){return this.SitesUnsetPasswordValidator.validate(async({xr:t})=>await t.del(`/api/sites/${e.fileKey}/unset_password`))}enableSso(e){return this.SitesEnableSsoValidator.validate(async({xr:t})=>await t.put(`/api/sites/${e.fileKey}/enable_sso`))}disableSso(e){return this.SitesDisableSsoValidator.validate(async({xr:t})=>await t.del(`/api/sites/${e.fileKey}/disable_sso`))}}},446133(e,t,i){i.d(t,{B:()=>o,H:()=>r});var a,s=i(968368),n=i(600893),o=((a=o||{}).DEV_MODE_BETA_SUGGESTED_UPGRADES="dev_mode_beta_suggested_upgrades",a.MEMBERS_TAB="members_tab",a.FILE_PERMISSIONS_MODAL="file_permissions_modal",a);let r=new class{constructor(){this.UpdateTeamUsersSchemaValidator=(0,s.YV)("UpdateTeamUsersSchemaValidator",n.wF.array(),null)}updateTeamUsers(e){return this.UpdateTeamUsersSchemaValidator.validate(async({xr:t})=>await t.put(`/api/teams/${e.team_id}/team_user_batch`,e))}}},779871(e,t,i){i.d(t,{R:()=>n});var a=i(968368),s=i(971127);let n=new class{constructor(){this.UpgradeSchemaValidator=(0,a.vh)()}upgrade(e,t,i,n,o,r,l,d,c){let _=n===s.J.ADMIN_AUTO_PATHWAY;return this.UpgradeSchemaValidator.validate(async({xr:s})=>await s.post(`/api/upgrade/auto_pathway/${e}/${t}`,a.td.toAPIParameters({upgrade_reason:i,billable_product_key:o,file_key:r,folder_id:l,license_type:d,editor_type:c,is_admin_self_upgrade:_}))??null)}}},819069(e,t,i){i.d(t,{$L:()=>o,Xx:()=>r,sC:()=>n,us:()=>s});var a=i(462285);let s=[a.w3,a.dV,a.$r,a.JT,a.Me,a.$C,a.Wn];function n(e,t){if(!e)return t[0];try{let i=e.substring(e.length-4),a=parseInt(i);if(Number.isNaN(a))return t[Math.abs(function(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t&=t;return t}(e)%t.length)];return t[a%t.length]}catch(e){return t[0]}}function o(e,t){return n(e,t)}function r(e){return e===a.$C?"var(--color-textonmultiplayeryellow)":"var(--color-textonmultiplayerblue)"}},196178(e,t,i){i.d(t,{Q:()=>u});var a=i(239976),s=i(645186),n=i(417675),o=i(315171),r=i(457686),l=i(336499),d=i(655988),c=i(343696),_=i(569931);let u=(0,o._d)(function(e){let{resource:t,viewContext:i,removeButtonBorder:o}=e,u=(0,s.d4)(e=>e.authedActiveCommunityProfile),m=(0,c.cs)(u),h=(0,l.B)(t.id),p=!!h.data?.[0],g=h.data?.[1],f=(0,d.w)(t,p,g||null,i);return m?(0,a.jsx)("div",{"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(0,n.t)("community.likes.to_like_switch_to_your_personal_profile"),"data-tooltip-show-immediately":!0,children:(0,a.jsx)(r.b,{isResourceLiked:!1,disabled:!0})}):(0,a.jsx)(r.b,{onClick:f(),isResourceLiked:p,removeButtonBorder:o})},"LikeButtonTracked")},372405(e,t,i){i.d(t,{J:()=>o,R:()=>n});var a=i(105652),s=i(759231);let n=(0,s.eU)(null);function o(e){a.useEffect(()=>(s.zl.set(n,e),()=>{s.zl.set(n,null)}),[e])}},490746(e,t,i){i.d(t,{sF:()=>f,zJ:()=>g});var a=i(239976),s=i(105652),n=i(645186),o=i(225519),r=i(336435),l=i(942356),d=i(70555),c=i(270450),_=i(925778),u=i(4257);i(892480);var m=i(354584),h=i(804942);let p="figma_ff_bisector_state",g="FeatureFlagBisectorModal",f=(0,m.Ju)(function({open:e,onClose:t}){let i=o.hS({open:e,onClose:t}),m=(0,n.wA)(),[g,f]=s.useState(""),[E,b]=s.useState(""),[T,y]=s.useState(null);s.useEffect(()=>{let e=localStorage.getItem(p);if(e)try{let t=JSON.parse(e);Date.now()<t.expiry?y(t):localStorage.removeItem(p)}catch(e){localStorage.removeItem(p)}},[]);let S=s.useCallback(e=>{localStorage.setItem(p,JSON.stringify(e))},[]),R=s.useCallback(e=>{let{internal_only_debug_tools:t,internal_prototyping_debug_tool:i,...a}=e,s={expiration:Date.now()+144e5,flags:a};localStorage.setItem(c.FEATURE_FLAG_OVERRIDES_KEY,JSON.stringify(s)),_.Ay.reload("Feature flag bisector applying new flags")},[]),v=s.useCallback(()=>{try{let e=JSON.parse(g),t={};for(let[i,a]of Object.entries(e))if("boolean"==typeof a){t[i]=a;continue}else if("object"==typeof a&&a&&"value"in a&&"boolean"==typeof a.value)t[i]=a.value;else{b(`Value for "${i}" must be a boolean`);continue}if(null===t)return void b("Input must be a JSON object");for(let[e,i]of Object.entries(t))if("boolean"!=typeof i)return void b(`Value for "${e}" must be a boolean`);b("");let i=Object.keys(t),a={originalFlags:t,currentSubset:i,currentComplement:[],testingComplement:!1,history:[],phase:"bisecting",expiry:Date.now()+144e5};y(a),S(a),R(t)}catch(e){b("Invalid JSON format")}},[g,S,R]),I=s.useCallback(e=>{let t,i;if(!T)return;let a=T.testingComplement?T.currentComplement:T.currentSubset,s=a.reduce((e,t)=>(void 0===T.originalFlags[t]?console.error(`Flag ${t} is undefined in the original flags`):e[t]=T.originalFlags[t],e),{}),n=[...T.history],o=n[n.length-1];if(o&&"pending"===o.result?o.result=e?"success":"failure":n.push({subset:[...a],isComplement:T.testingComplement,result:e?"success":"failure",testedFlags:s}),1===a.length&&e){let e={...T,history:n,phase:"complete",culpritFlag:a[0]};y(e),S(e),m(u.F.enqueue({message:`Culprit found: ${a[0]}`,type:"feature-flag-bisector-culprit-found"}));return}if(1===a.length&&T.testingComplement&&!e){let e={...T,history:n,phase:"complex_interaction",lastWorkingSet:T.originalFlags};y(e),S(e),m(u.F.enqueue({message:"Complex interaction detected - multiple flags may be involved",type:"feature-flag-bisector-complex-interaction"}));return}let r=!1;if(e){let e=Math.floor(a.length/2);t=a.slice(0,e),i=a.slice(e),r=!1}else if(T.testingComplement){let e=n.slice().reverse().find(e=>"success"===e.result),t={...T,history:n,phase:"complex_interaction",lastWorkingSet:e?.testedFlags||T.originalFlags};y(t),S(t),m(u.F.enqueue({message:"Complex interaction detected - multiple flags may be involved",type:"feature-flag-bisector-complex-interaction"}));return}else t=T.currentSubset,i=T.currentComplement,r=!0;let l=r?i:t,d=l.reduce((e,t)=>(void 0===T.originalFlags[t]?console.error(`Flag ${t} is undefined in the original flags`):e[t]=T.originalFlags[t],e),{}),c={...T,currentSubset:t,currentComplement:i,testingComplement:r,history:[...n,{subset:l,isComplement:r,result:"pending",testedFlags:d}]};y(c),S(c),R(d),m(u.F.enqueue({message:`Moving to next subset: ${l.length} flags, refreshing...`,type:"feature-flag-bisector-culprit-found"}))},[T,S,R,m]),x=s.useCallback(()=>{localStorage.removeItem(p),localStorage.removeItem(c.FEATURE_FLAG_OVERRIDES_KEY),y(null),f(""),b(""),m(u.F.enqueue({message:"Feature flag bisector reset successfully",type:"feature-flag-bisector-reset"})),_.Ay.reload("Feature flag bisector applying new flags")},[m]),A=s.useCallback(()=>{if(!T)return;let e={...T,timestamp:new Date().toISOString()};navigator.clipboard.writeText(JSON.stringify(e,null,2)).then(()=>{m(u.F.enqueue({message:"History copied to clipboard",type:"feature-flag-bisector-history-copied"}))}).catch(e=>{console.error("Failed to copy history:",e),m(u.F.enqueue({message:"Failed to copy history",type:"feature-flag-bisector-copy-failed",error:!0}))})},[T,m]);return(0,c.getFeatureFlags)().internal_prototyping_debug_tool||(0,c.getFeatureFlags)().internal_only_debug_tools?(0,a.jsx)(d.bL,{manager:i,width:"lg",children:(0,a.jsx)(r.vo,{children:(()=>{if(T&&"input"!==T.phase){if("bisecting"===T.phase){if(!T)return null;let e=T.testingComplement?T.currentComplement:T.currentSubset;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Y9,{children:(0,a.jsx)(r.hE,{children:"Feature Flag Bisector - Testing"})}),(0,a.jsx)(r.nB,{children:(0,a.jsxs)("div",{className:h.section,children:[(0,a.jsx)("h3",{className:h.sectionTitle,children:"Is the bug present with this set of feature flags?"}),(0,a.jsxs)("p",{className:h.description,children:['Test the current behavior and click "Yes" if the bug is present, or "No" if it\'s not.',T.testingComplement&&(0,a.jsx)("span",{className:h.complementNote,children:"(Testing complement - the other half of the previous split)"})]}),(0,a.jsxs)("div",{className:h.currentState,children:[(0,a.jsx)("h4",{children:`Current Test Set (${e.length} flags)${T.testingComplement?" - Complement":""}:`}),(0,a.jsx)("div",{className:h.flagList,children:e.map(e=>(0,a.jsx)("span",{className:h.flagItem,children:`${e}: ${T.originalFlags[e]?"true":"false"}`},e))})]}),T.history.length>0&&(0,a.jsxs)("div",{className:h.history,children:[(0,a.jsxs)("div",{className:h.historyHeader,children:[(0,a.jsx)("h4",{children:"Test History:"}),(0,a.jsx)(l.$n,{variant:"secondary",onClick:A,children:"Copy History"})]}),T.history.map((e,t)=>(0,a.jsxs)("div",{className:h.historyItem,children:[(0,a.jsx)("span",{className:h.historySubset,children:`${e.subset.length} flags${e.isComplement?" (complement)":""}`}),(0,a.jsx)("span",{className:`${h.historyResult} ${h[e.result]}`,children:"success"===e.result?"Bug Present":"failure"===e.result?"Bug Not Present":"Testing..."})]},t))]})]})}),(0,a.jsx)(r.wi,{children:(0,a.jsxs)(r.jk,{children:[(0,a.jsx)(l.$n,{variant:"secondary",onClick:x,children:"Reset"}),(0,a.jsx)(l.$n,{variant:"destructive",onClick:()=>I(!0),children:"Yes - Bug Present"}),(0,a.jsx)(l.$n,{variant:"primary",onClick:()=>I(!1),children:"No - Bug Not Present"})]})})]})}else if("complete"===T.phase)return T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Y9,{children:(0,a.jsx)(r.hE,{children:"Feature Flag Bisector - Complete"})}),(0,a.jsx)(r.nB,{children:(0,a.jsxs)("div",{className:h.section,children:[(0,a.jsx)("h3",{className:h.sectionTitle,children:"\uD83C\uDF89 Culprit Found!"}),(0,a.jsx)("p",{className:h.description,children:"The bisection algorithm has identified the feature flag responsible for the bug."}),(0,a.jsxs)("div",{className:h.currentState,children:[(0,a.jsx)("h4",{children:"Culprit Feature Flag:"}),(0,a.jsx)("div",{className:h.flagList,children:(0,a.jsx)("span",{className:`${h.flagItem} ${h.culpritFlag}`,children:`${T.culpritFlag}: ${T.originalFlags[T.culpritFlag]?"true":"false"}`})})]}),T.history.length>0&&(0,a.jsxs)("div",{className:h.history,children:[(0,a.jsxs)("div",{className:h.historyHeader,children:[(0,a.jsx)("h4",{children:"Test History:"}),(0,a.jsx)(l.$n,{variant:"secondary",onClick:A,children:"Copy History"})]}),T.history.map((e,t)=>(0,a.jsxs)("div",{className:h.historyItem,children:[(0,a.jsx)("span",{className:h.historySubset,children:`${e.subset.length} flags${e.isComplement?" (complement)":""}`}),(0,a.jsx)("span",{className:`${h.historyResult} ${h[e.result]}`,children:"success"===e.result?"Bug Present":"Bug Not Present"})]},t))]})]})}),(0,a.jsx)(r.wi,{children:(0,a.jsxs)(r.jk,{children:[(0,a.jsx)(l.$n,{variant:"secondary",onClick:x,children:"Start New Bisection"}),(0,a.jsx)(l.$n,{variant:"primary",onClick:t,children:"Close"})]})})]}):null;else if("complex_interaction"===T.phase)return T?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Y9,{children:(0,a.jsx)(r.hE,{children:"Feature Flag Bisector - Complex Interaction"})}),(0,a.jsx)(r.nB,{children:(0,a.jsxs)("div",{className:h.section,children:[(0,a.jsx)("h3",{className:h.sectionTitle,children:"\u26A0\uFE0F Complex Feature Flag Interaction Detected"}),(0,a.jsx)("p",{className:h.description,children:"The bug appears to be caused by a complex interaction between multiple feature flags, rather than a single flag. This means the bug only occurs when specific combinations of flags are enabled together."}),(0,a.jsxs)("div",{className:h.currentState,children:[(0,a.jsx)("h4",{children:"Last Known Working Set:"}),(0,a.jsx)("div",{className:h.flagList,children:Object.entries(T.lastWorkingSet||{}).map(([e,t])=>(0,a.jsx)("span",{className:h.flagItem,children:`${e}: ${t?"true":"false"}`},e))})]}),T.history.length>0&&(0,a.jsxs)("div",{className:h.history,children:[(0,a.jsxs)("div",{className:h.historyHeader,children:[(0,a.jsx)("h4",{children:"Test History:"}),(0,a.jsx)(l.$n,{variant:"secondary",onClick:A,children:"Copy History"})]}),T.history.map((e,t)=>(0,a.jsxs)("div",{className:h.historyItem,children:[(0,a.jsx)("span",{className:h.historySubset,children:`${e.subset.length} flags${e.isComplement?" (complement)":""}`}),(0,a.jsx)("span",{className:`${h.historyResult} ${h[e.result]}`,children:"success"===e.result?"Bug Present":"Bug Not Present"})]},t))]})]})}),(0,a.jsx)(r.wi,{children:(0,a.jsxs)(r.jk,{children:[(0,a.jsx)(l.$n,{variant:"secondary",onClick:x,children:"Start New Bisection"}),(0,a.jsx)(l.$n,{variant:"primary",onClick:t,children:"Close"})]})})]}):null}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Y9,{children:(0,a.jsx)(r.hE,{children:"Feature Flag Bisector"})}),(0,a.jsx)(r.nB,{children:(0,a.jsxs)("div",{className:h.section,children:[(0,a.jsx)("h3",{className:h.sectionTitle,children:"Feature Flag Configuration"}),(0,a.jsx)("p",{className:h.description,children:"Enter a JSON object from the Feature Flag differ tool in the Admin Statsig plugin."}),(0,a.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),placeholder:`{
  "flag_name_1": true,
  "flag_name_2": false,
  "flag_name_3": true
}`,rows:10,className:h.jsonInput,"aria-label":"Feature Flags JSON Input"}),E&&(0,a.jsx)("div",{className:h.error,children:E})]})}),(0,a.jsx)(r.wi,{children:(0,a.jsxs)(r.jk,{children:[(0,a.jsx)(l.$n,{variant:"secondary",onClick:t,children:"Cancel"}),(0,a.jsx)(l.$n,{variant:"primary",onClick:v,disabled:!g.trim(),children:"Start Bisection"})]})})]})})()})}):null},g)},778558(e,t,i){i.d(t,{F:()=>u});var a=i(239976),s=i(836848),n=i(429270),o=i(323264),r=i(404398),l=i(679499),d=i(263618),c=i(204752),_=i(617176);function u(e){let t,{defaultVariant:i,ctaButtonMeta:u,large:m}=e,h=(0,a.jsx)(l.x,{isLoading:!!u.isLoading,className:d.s.flex.alignCenter.$,children:()=>u.label}),p=e.ctaButtonMeta.variantOverride||i;if("custom"===p){let i=e.ctaButtonMeta.customVariantStyles||[];t=function(e){return(0,a.jsx)(c.e6,{...e,...o.Ay.props(i),children:e.children})}}else if("white"===p)t=function(e){return(0,a.jsx)(n.J,{mode:"light",children:(0,a.jsx)(c.e6,{...e,...{className:"x6s0dn4 x1yjdb4r x19y5rnk x1akne3o x78zum5 xl56j7k x4wtjwi xf67zum xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up"},children:e.children})})};else{if(m&&"button"===u.type)return(0,a.jsx)(c.c,{variant:"primary-large-wide"===p?"primary":p,onClick:u.onClick,trackingProperties:{trackingDescriptor:u.ctaTrackingDescriptor,...u.trackingProperties},disabled:u.disabled??u.isLoading,...u.tooltipProperties,"data-testid":u.dataTestId,children:h});t=m?c.c:c.$z}switch(p){case"custom":case"white":case"primary":let g={trackingProperties:{trackingDescriptor:u.ctaTrackingDescriptor,...u.trackingProperties},disabled:u.disabled??u.isLoading,...u.tooltipProperties,"data-testid":u.dataTestId};switch(u.type){case"button":return(0,a.jsx)(t,{onClick:u.onClick,variant:e.emphasized?"secondary":"primary",...g,children:h});case"text":return(0,a.jsx)(c.$z,{variant:"ghost",onClick:u.onClick,...g,children:h});case"link":return(0,a.jsx)(_.pW,{href:u.href,newTab:!0,variant:e.emphasized?"secondary":"primary",size:m?"lg":"md",...g,children:h});default:(0,s.xb)(u)}case"primary-large-wide":if("button"!==u.type)return r.k.warn(`[FeatureEducation] CTAButton with variant 'primary-large-wide' is not implemented for type '${u.type}'`),null;return(0,a.jsx)(c.lR,{variant:"primary",onClick:u.onClick,disabled:u.disabled??u.isLoading,...u.tooltipProperties,"data-testid":u.dataTestId,children:h});case"secondary":let f={trackingProperties:{trackingDescriptor:u.ctaTrackingDescriptor,...u.trackingProperties},disabled:u.disabled??u.isLoading,...u.tooltipProperties,"data-testid":u.dataTestId};switch(u.type){case"text":return(0,a.jsx)(t,{variant:"ghost",onClick:u.onClick,...f,children:h});case"button":return(0,a.jsx)(t,{variant:e.emphasized?"ghost":"secondary",onClick:u.onClick,...f,children:h});case"link":return(0,a.jsx)(_.pW,{variant:e.emphasized?"ghost":"secondary",href:u.href,newTab:!0,size:m?"lg":"md",...f,children:h});default:(0,s.xb)(u)}default:(0,s.xb)(p)}}},649388(e,t,i){i.d(t,{b:()=>s});var a=i(759231);let s=(0,i(622179).Wh)(()=>(0,a.eU)({impressionId:null,source:null}))},367782(e,t,i){i.d(t,{KG:()=>n,kh:()=>o,ph:()=>s});var a=i(759231);let s=(0,a.eU)(null),n=(0,a.eU)(null),o=(0,a.eU)(null)},65885(e,t,i){i.d(t,{v:()=>R});var a=i(239976),s=i(105652),n=i(805242),o=i(584355),r=i(898860),l=i(297746),d=i(16233),c=i(404999),_=i(486337),u=i(937819),m=i(432819),h=i(587360),p=i(526865),g=i(500273);let f=[{label:"Time between frames (ms)",id:"inter-frame-time",max:100,barWidth:1},{label:"FPS",id:"fps",max:120,barWidth:1},{label:"React work (ms)",id:"react",max:100,barWidth:1},{label:"Frame handler (ms)",id:"frame",max:100,barWidth:1,children:[{label:"Scene render (ms)",id:"scene-render",max:100,barWidth:1,children:[{label:"Render tree creation (ms)",id:"render-tree-generation",max:100,barWidth:1}]},{label:"React + redux (ms)",id:"react-render",max:100,barWidth:1},{label:"Symbol updater (ms)",id:"symbol-updater",max:100,barWidth:1},{label:"Style updater (ms)",id:"style-updater",max:100,barWidth:1},{label:"Comments renderer (ms)",id:"comments-render",max:100,barWidth:1}]},{label:"C++ event handling (ms)",id:"fullscreen-handle-event",max:100,barWidth:1},{label:"malloc call count (#)",id:"cpp-malloc-call-count",autoResize:!0,max:100,barWidth:1},{label:"malloc size totals (KB)",id:"cpp-malloc-size-totals",autoResize:!0,max:1,barWidth:1},{label:"Used JS memory (MB)",id:"total-memory",max:10,autoResize:!0,barWidth:1},{label:"Used c++ heap memory (MB)",id:"cpp-heap-memory",max:10,autoResize:!0,barWidth:1},{label:"Graphics memory (MB)",id:"gpu-memory",max:128,autoResize:!0,barWidth:1},{label:"Render job queue length",id:"render-job-queue-length",max:4,autoResize:!0,barWidth:1},{label:"Time between render tree swaps (ms)",id:"render-tree-swap-time",max:300,autoResize:!0,barWidth:1},{label:"Stale content time (ms)",id:"render-tree-stale-time",max:500,autoResize:!0,barWidth:1},{label:"Est viewport coverage (ms)",id:"estimated-viewport-coverage",max:1,autoResize:!0,barWidth:1},{label:"Min viewport sharpness",id:"min-sharpness",max:1,autoResize:!0,barWidth:1},{label:"Avg viewport sharpness",id:"avg-sharpness",max:1,autoResize:!0,barWidth:1}];function E(e,t){var i=e.getBoundingClientRect();e.width=i.width*t,e.height=i.height*t,e.style.width=`${i.width}px`,e.style.height=`${i.height}px`;let a=e.getContext("2d");a&&(a.scale(t,t),a.imageSmoothingEnabled=!1)}class b extends s.PureComponent{constructor(e){super(e),this.ctx=null,this.lastDisplayedUpdateTime=0,this.displayedNumber=null,this.buffer=[],this.dpr=1,this.canvasRef=s.createRef(),this.lastRenderedHitCount=0,this.updateFromTimer=e=>{let t=e.hitCount-this.lastRenderedHitCount,i=0;for(let a=Math.max(0,e.elapsedTimes.length-t);a<e.elapsedTimes.length;a++)i+=e.elapsedTimes[a];this.append(i),this.lastRenderedHitCount=e.hitCount},this.yAxisMaxValue=e.max,this.bufferCapacity=Math.ceil(e.width/e.barWidth)}componentDidMount(){if(this.canvasRef.current){this.dpr=window.devicePixelRatio;let e=this.canvasRef.current;this.ctx=e.getContext("2d"),E(e,this.dpr)}}append(e){if(!this.ctx)return;let t=this.ctx.canvas,i=this.ctx;for(this.dpr!==window.devicePixelRatio&&(this.dpr=window.devicePixelRatio,E(t,this.dpr)),this.buffer.push(e);this.buffer.length>=this.bufferCapacity;)this.buffer.shift();let a=1/0,s=-1/0;for(let e of this.buffer)a=Math.min(a,e),s=Math.max(s,e);let n=this.props.width,o=this.props.height,r=this.props.barWidth,l=o-20;i.font="9px monospace",i.fillStyle=this.props.bg,i.textBaseline="top",i.fillRect(0,0,n,20),i.fillStyle=this.props.fg;let d=performance.now();if((null===this.displayedNumber||d-this.lastDisplayedUpdateTime>150)&&(this.displayedNumber=e,this.lastDisplayedUpdateTime=d),i.fillText(`sample: ${this.displayedNumber.toFixed(1)}`,0,0),i.fillText(`${a.toFixed(1)} - ${s.toFixed(1)}`,0,10),i.fillStyle=this.props.bg,this.props.autoResize){if(e>this.yAxisMaxValue){let a=Math.pow(2,Math.ceil(Math.log2(e/this.yAxisMaxValue)));this.yAxisMaxValue*=a,i.fillRect(0,o-l,n,(a-1)*l/a),i.drawImage(t,0,(o-l)*this.dpr,n*this.dpr,l*this.dpr,0,o-l/a,n,l/a)}else if(this.yAxisMaxValue>2*Math.max(this.props.max,s)){let e=Math.pow(2,Math.ceil(Math.log2(this.yAxisMaxValue/Math.max(this.props.max,s))));this.yAxisMaxValue/=e,i.drawImage(t,0,(o-l/e)*this.dpr,n*this.dpr,l/e*this.dpr,0,o-l,n,l)}}i.drawImage(t,r*this.dpr,(o-l)*this.dpr,(n-r)*this.dpr,l*this.dpr,0,o-l,n-r,l);let c=Math.floor(l*Math.min(1,e/this.yAxisMaxValue));i.fillRect(n-r,o-l,r,l),i.fillStyle=this.props.fg,i.fillRect(n-r,o-c,r,c)}render(){return(0,a.jsx)("canvas",{className:g.wP,ref:this.canvasRef,width:this.props.width,height:this.props.height})}}function T(e){return e/1048576}b.displayName="Sparkline";class y extends s.PureComponent{constructor(e){super(e),this.sparklines=new Map,this.lastFrameTime=null,this.tsmerMetrics=new u.s,this.updateTimers=()=>{if(this.tsmerMetrics.onFrame(),null==this.lastFrameTime)this.lastFrameTime=performance.now();else{let e=performance.now(),t=this.sparklines.get("inter-frame-time");t&&t.append(e-this.lastFrameTime);let i=this.sparklines.get("fps");i&&i.append(1e3/(e-this.lastFrameTime)),this.lastFrameTime=e}let e=this.sparklines.get("total-memory");e&&e.append(T((0,h.aW)()??0));let t=this.sparklines.get("cpp-heap-memory");t&&t.append(T(r.hM?.getTotalUsedHeapMemory()??0));let i=this.sparklines.get("gpu-memory");i&&r.hM?.getMemStatsTotal&&i.append(T(r.hM.getMemStatsTotal(r.YO.RENDERER)));let a=this.sparklines.get("cpp-malloc-call-count");a&&a.append(r.hM?.getAllocCallCount()??0);let s=this.sparklines.get("cpp-malloc-size-totals");s&&s.append((r.hM?.getAllocTotal()??0)/1024),r.hM?.resetAllocCountsAndTotal();let n=this.sparklines.get("render-job-queue-length");n&&n.append(d.qh?.getRendererJobQueueLength()??0);let o=this.sparklines.get("render-tree-swap-time");o&&o.append(this.tsmerMetrics.lastEditFrameTime());let _=this.sparklines.get("render-tree-stale-time");_&&_.append(this.tsmerMetrics.lastFrameStaleness());let u=this.sparklines.get("estimated-viewport-coverage");u&&u.append(d.GT?.estimatedViewportRenderCoverage(l.pWM.DEFINITELY_COVERED_ONLY)??0);let m=this.sparklines.get("min-sharpness");m&&m.append(d.GT?.minViewportSharpness()??0);let p=this.sparklines.get("avg-sharpness");p&&p.append(d.GT?.avgViewportSharpness()??0);let g=c.rH.report(),f=[],E=e=>{f.push(e.name);let t=this.sparklines.get(f.join(","));for(let i of(t&&t.updateFromTimer(e),e.children))E(i);f.pop()};for(let e of g)E(e);requestAnimationFrame(this.updateTimers)},this.sparklineRef=e=>t=>{t&&this.sparklines.set(e.join(","),t)},this.frameRequest=null,this.renderHUDNode=(e,t=[])=>{let i=t.concat([e.id]),s=150-10*t.length,n=m.sx.add({color:"black"}).$.color,o=m.sx.add({backgroundColor:"white"}).$.backgroundColor,r=!!(this.state?.nodesHiddenState??{})[e.id];return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:g.n5,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{style:{backgroundColor:"gray",display:"inline-block",marginRight:"2px"},onClick:()=>{this.toggleNodeHidden(e.id)},children:r?"(+)":"(-)"}),e.label]}),!r&&(0,a.jsx)(b,{ref:this.sparklineRef(i),fg:n,bg:o,barWidth:e.barWidth,max:e.max,height:40,autoResize:!!e.autoResize,width:s})]})}),e.children&&!r&&(0,a.jsx)("div",{className:g.Q3,children:e.children.map(e=>this.renderHUDNode(e,i))})]},e.id)},this.state={nodesHiddenState:e.showAllExpanded?{}:{fps:!0,react:!0,frame:!0,"fullscreen-handle-event":!0,"cpp-malloc-call-count":!0,"cpp-malloc-size-totals":!0,"total-memory":!0,"cpp-heap-memory":!0,"gpu-memory":!0,"render-job-queue-length":!0,"render-tree-swap-time":!0,"render-tree-stale-time":!0,"estimated-viewport-coverage":!0,"min-sharpness":!0,"avg-sharpness":!0}}}componentDidMount(){this.frameRequest=requestAnimationFrame(this.updateTimers)}componentWillUnmount(){this.frameRequest&&cancelAnimationFrame(this.frameRequest)}toggleNodeHidden(e){let t=this.state?.nodesHiddenState??{},i=!!t[e];this.setState({nodesHiddenState:{...t,[e]:!i}})}render(){let e=this.props.isFigjamFile?0:parseInt(p.uj0,10)+5,t=(0,_.bG)()+5;return(0,a.jsx)("div",{className:g.vY,style:{right:e,top:t},children:f.map(e=>this.renderHUDNode(e))})}}y.displayName="PerfHUD";let S=null;function R(e,t){return S?(n.unmountComponentAtNode(S),document.body.removeChild(S),S=null,!1):(S=document.createElement("div"),document.body.appendChild(S),(0,o.createRoot)(S).render((0,a.jsx)(y,{isFigjamFile:e,showAllExpanded:t})),!0)}},928183(e,t,i){i.d(t,{r2:()=>u,Tu:()=>m,y5:()=>_,JH:()=>p});var a=i(239976),s=i(105652),n=i(402731),o=i(563225),r=i(759231),l=i(101147),d=i(224542),c=i.n(d);function _(e){let t=(0,s.useMemo)(()=>(0,r.eU)(!0),[]),[i,a]=(0,r.fp)(e||t);return(0,s.useCallback)(()=>{e&&a(!1)},[e,a])}function u({isPanelBodyCollapsedAtom:e}){let t=(0,s.useMemo)(()=>(0,r.eU)(!0),[]),i=(0,r.md)(e||t),l=null===e;return(0,a.jsx)("div",{className:c()("collapsible_panel--icon--mh39w",{"collapsible_panel--hiddenIcon--A9QLo":l}),"aria-hidden":l,children:i?(0,a.jsx)(n.k,{}):(0,a.jsx)(o.O,{})})}function m({isPanelBodyCollapsedAtom:e,children:t,recordingKey:i}){return e?(0,a.jsx)(h,{isPanelBodyCollapsedAtom:e,children:t,recordingKey:i}):(0,a.jsx)(a.Fragment,{children:t})}function h({isPanelBodyCollapsedAtom:e,children:t,recordingKey:i}){let[s,n]=(0,r.fp)(e);return(0,a.jsx)(l.GG,{className:c()("collapsible_panel--collapseExpandToggleArea--o2Gsr",{"collapsible_panel--collapseExpandToggleAreaCollapsed--e6uDq":s}),onMouseDown:()=>{n(!s)},recordingKey:i,children:t})}function p({isPanelBodyCollapsedAtom:e,children:t}){return e?(0,a.jsx)(g,{isPanelBodyCollapsedAtom:e,children:t}):(0,a.jsx)(a.Fragment,{children:t})}function g({isPanelBodyCollapsedAtom:e,children:t}){let i=(0,r.md)(e);return(0,a.jsx)("div",{className:i?"collapsible_panel--panelBodyHidden--Tuu-L":void 0,children:t})}},327546(e,t,i){i.d(t,{B1:()=>B,ES:()=>X,TC:()=>V,WP:()=>G,kN:()=>K});var a=i(105652),s=i(836848),n=i(295870),o=i(22291),r=i(759231),l=i(979897),d=i(74372),c=i(270351),_=i(32186),u=i(414072),m=i(184634),h=i(23226),p=i(881619),g=i(611325),f=i(816380),E=i(295549),b=i(336724),T=i(476116),y=i(945013),S=i(857176),R=i(397901),v=i(248044),I=i(836237),x=i(887578),A=i(693233),O=i(704514),N=i(38068),C=i(48578),L=i(505745),w=i(88869),D=i(847706),j=i(997274),k=i(620790),M=i(698127),P=i(826061),F=i(655959),U=i(738337);let G=(0,r.eU)({currentSearch:null}),B=(0,r.eU)({type:w.IS.ALL});function V({debounceWait:e=300,onSearchSuccess:t}){let i=(0,F.s)(),s=(0,r.Xr)(G),n=(0,c.A)(X,e),o=(0,a.useCallback)(()=>{n.cancel(),s(()=>({currentSearch:null}))},[n,s]);return{debouncedAssetSearch:(0,a.useCallback)((e,a)=>{e?n({type:"input-text",query:e,assetTypeOption:a,isKnownLibrary:i},t):o()},[n,o,i,t]),clearAssetSearchAndCancelDebounce:o,cancelDebouncedAssetSearch:n.cancel,flushDebouncedAssetSearch:n.flush}}async function X(e,t){let i=u.D.getState(),a=(0,y.tB)(i),c=(0,L.vx)(i),p=(0,A.B0)(),g=await (0,M.Ci)("input-text"===e.type),O=r.zl.get((0,j.cY)("fileKey")),w=r.zl.get((0,j.cY)("libraryKey")),D=(0,U.Jh)(i.selectedView)?"figmake":"input-text"===e.type?"actions_assets_tab":"actions_visual_search";if(!a||null==c)return;let F=(0,d.g)(),B=r.zl.get(P.dd);r.zl.set(G,()=>({currentSearch:{queryId:F,input:e,result:l.Qw.loading()}}));try{let n,d=1;for(;!(0,x.Wg)(u.D.getState())&&d<=50;)await new Promise(e=>setTimeout(e,200*d)),d++;if(!(0,x.Wg)(u.D.getState()))throw Error("Failed to initialize assets");i=u.D.getState();let m={...e,openFile:(0,y.tB)(i),selectedView:(0,C.h)(i),inDesignEditor:(0,b.XE)((0,C.h)(i))===E.nT.Design,fileVersion:c,currentOrgId:(0,S.eD)(i),fileByKey:(0,L.t_)(i),libraryByLibraryKey:r.zl.get(T.qp),includeVisualAssets:r.zl.get(k.lj).length>0,usedAssetKeys:(0,S.ET)(i,u.D.dispatch)},M={sessionId:B??"",queryId:F,entryPoint:D,queryType:m.type.replace("input-",""),aiResultsEnabled:g,productType:(0,f.pi)({editorType:a?.editorType}),libraryKey:(0,o.l)(i.openFile?.libraryKey??""),fileKey:a?.key,subscribedLibraryFileKeys:O,subscribedLibraryKeys:w};switch(m.type){case"input-text":{x.YG.refreshSourcesIfNeeded(u.D);let{query:e,assetTypeOption:t}=m,i=(await (0,R.V)(e,t,v.Cn.QuickActions,{sessionId:B??void 0,queryId:F})).normalizedSearchResults;i=i.filter(e=>m.isKnownLibrary(e)),n=(0,x.Ow)(i);break}case"input-image":n=await z(m,B,F),await (0,A.eB)({results:n,...M});break;case"input-selection":n=await W(m,B,F),await (0,A.eB)({results:n,...M});break;default:(0,s.xb)(m)}if(r.zl.get(G).currentSearch?.queryId!==F)return;null===B&&(0,_.sx)("asset_search.missing_session_id",{previousSessionId:i.search.lastLoadedQuery.sessionId,entryPoint:v.g_[v.Cn.QuickActions]},{forwardToDatadog:!0});let{elapsedTime:P,backgrounded:U}=p();if(!("input-text"===m.type&&await (0,I.Z)())){let e={aiResultsEnabled:g,elapsedTime:P,backgrounded:U,query:"input-text"===m.type?m.query:void 0,queryId:F,subscribedSearchResultCount:n.length,entryPoint:D,fileKey:a?.key,numSubscribedLibraries:r.zl.get(j.I1).data?.length??0,queryType:m.type.replace("input-",""),selectedViewFileKey:"fullscreen"===i.selectedView.view&&i.selectedView.fileKey?i.selectedView.fileKey:void 0,totalShownResults:n.length,tier:r.zl.get((0,N.KK)(!0)).data?.tier,planId:a?.plan?.id??void 0,planParentId:a?.planPublicInfo?.key?.parentId??void 0};await (0,h.hW)("exp_asset_search_refactor"),_.az.trackDefinedEvent("assets_panel.search_time",{...e,searchSessionId:B??""}),_.az.trackDefinedEvent("asset_search.query_result",{...e,sessionId:B??""})}r.zl.set(G,()=>({currentSearch:{queryId:F,input:e,result:l.Qw.loaded(n)}})),t&&t()}catch(t){if((0,m.$D)(n.FigmaTeam.SEARCH,t),r.zl.get(G).currentSearch?.queryId!==F)return;r.zl.set(G,()=>({currentSearch:{queryId:F,input:e,result:l.Qw.error(t)}}))}}function H(e,t,i){let a;return e.assetTypeOption.type===w.IS.FILE?a=[e.assetTypeOption.libraryKey]:i&&(x.YG.subscribedLibraryKeys.size<O.UR?a=Array.from(x.YG.subscribedLibraryKeys):(0,_.sx)("actions_visual_search.maximum_subscribed_libraries_reached",{searchSessionId:t,fileKey:e.openFile?.key,fileVersion:e.fileVersion,currentOrgId:e.currentOrgId,numSubscribedLibraryKeys:Array.from(x.YG.subscribedLibraryKeys).length})),a}async function z(e,t,i){let{usedProductComponentsOnPage:a,usedProductComponentsFromUnsubscribedLibrary:s}=await (0,O.cu)(u.D.getState(),x.YG.subscribedLibraryKeys,e.openFile?.libraryKey?(0,o.l)(e.openFile.libraryKey):(0,o.l)("")),n=await (0,g.yt)(e.imageFile),r=(0,g.m1)(new p.Mi(n.width,n.height)),l=await (0,g.SW)(n,r,e.imageFile);return(await D.$W.postComponentsFromImage(l,{openFileKey:e.openFile?.key||"",searchSessionId:t||"",queryId:i,subscribedLibraryKeys:H(e,t,await (0,M.Ci)(!1)),usedProductComponents:a,usedProductComponentsFromUnsubscribedLibrary:s,productType:e.openFile?.editorType?.toString(),tier:(0,O.Al)()})).data.meta}async function W(e,t,i){let a=(0,g.T1)(e.node);if(!a)throw Error("Failed to export thumbnail");let{usedProductComponentsOnPage:s,usedProductComponentsFromUnsubscribedLibrary:n}=await (0,O.cu)(u.D.getState(),x.YG.subscribedLibraryKeys,e.openFile?.libraryKey?(0,o.l)(e.openFile.libraryKey):(0,o.l)(""));return(await D.$W.postComponentsFromImage({type:"image",value:a},{openFileKey:e.openFile?.key||"",searchSessionId:t||"",queryId:i,subscribedLibraryKeys:H(e,t,await (0,M.Ci)(!1)),usedProductComponents:s,usedProductComponentsFromUnsubscribedLibrary:n,productType:e.openFile?.editorType?.toString(),tier:(0,O.Al)()})).data.meta}function K(e){let{currentSearch:t}=r.zl.get(G);return null===t||"input-text"!==t.input.type?e.length>0:t.input.query!==e}},868376(e,t,i){i.d(t,{OZ:()=>r,f7:()=>l});var a=i(836848),s=i(263740),n=i(878725);function o(e){switch(e){case n.xH.CONTROL:return s.A.mac?"\u2303":"Ctrl";case n.xH.ALT:return s.A.mac?"\u2325":"Alt";case n.xH.SHIFT:return"\u21E7";case n.xH.META:return s.A.mac?"\u2318":"Ctrl";default:(0,a.xb)(e)}}function r(e){let{modifier:t,key:i}=e,s=t?.map(o).join()??"",r=function(e){switch(e){case n.Uz.BACKSPACE:return"\u232B";case n.Uz.TAB:return"Tab";case n.Uz.ENTER:return"\u23CE";case n.Uz.ESCAPE:return"Esc";case n.Uz.SPACE:return"Space";case n.Uz.LEFT_ARROW:return"\u2190";case n.Uz.UP_ARROW:return"\u2191";case n.Uz.RIGHT_ARROW:return"\u2192";case n.Uz.DOWN_ARROW:return"\u2193";case n.Uz.DELETE:return"Delete";case n.Uz.PERIOD:return".";case n.Uz.KEY_0:return"0";case n.Uz.KEY_1:return"1";case n.Uz.KEY_2:return"2";case n.Uz.KEY_3:return"3";case n.Uz.KEY_4:return"4";case n.Uz.KEY_5:return"5";case n.Uz.KEY_6:return"6";case n.Uz.KEY_7:return"7";case n.Uz.KEY_8:return"8";case n.Uz.KEY_9:return"9";case n.Uz.A:return"A";case n.Uz.B:return"B";case n.Uz.C:return"C";case n.Uz.D:return"D";case n.Uz.E:return"E";case n.Uz.F:return"F";case n.Uz.G:return"G";case n.Uz.H:return"H";case n.Uz.I:return"I";case n.Uz.J:return"J";case n.Uz.K:return"K";case n.Uz.L:return"L";case n.Uz.M:return"M";case n.Uz.N:return"N";case n.Uz.O:return"O";case n.Uz.P:return"P";case n.Uz.Q:return"Q";case n.Uz.R:return"R";case n.Uz.S:return"S";case n.Uz.T:return"T";case n.Uz.U:return"U";case n.Uz.V:return"V";case n.Uz.W:return"W";case n.Uz.X:return"X";case n.Uz.Y:return"Y";case n.Uz.Z:return"Z";case n.Uz.NUMPAD_0:return"0";case n.Uz.NUMPAD_1:return"1";case n.Uz.NUMPAD_2:return"2";case n.Uz.NUMPAD_3:return"3";case n.Uz.NUMPAD_4:return"4";case n.Uz.NUMPAD_5:return"5";case n.Uz.NUMPAD_6:return"6";case n.Uz.NUMPAD_7:return"7";case n.Uz.NUMPAD_8:return"8";case n.Uz.NUMPAD_9:return"9";default:(0,a.xb)(e)}}(i);return`${s}${r}`}function l(e){return e.map(r).join(" or ")}},711691(e,t,i){i.d(t,{b:()=>n});var a=i(759231),s=i(327546);function n(){a.zl.set(s.WP,{currentSearch:null})}},720955(e,t,i){i.d(t,{t:()=>n});var a=i(759231),s=i(724480);let n=(0,a.tx)(s.BY.ALL)},388981(e,t,i){i.d(t,{R:()=>l});var a=i(759231),s=i(873112),n=i(611325),o=i(698127),r=i(20763);function l(){a.zl.set(s.q4),(0,r.C7)()&&a.zl.set(n.hO.currentSearchAtom,null),(0,o.P5)()&&a.zl.set(n.hO.currentCommunitySearchAtom,null)}},537567(e,t,i){i.d(t,{A:()=>n});var a=i(239976);i(323264);var s=i(849673);function n({borderRadiusStyle:e}){return(0,a.jsx)("div",{...{className:"x10l6tqk x13vifvy xu96u03 xh8yej3 x5yr21d x78zum5 x6s0dn4 xl56j7k xkszdks x1c6el4k xz4fkyq x17t6hpn x1ewlznk x1c74tu6 x1esw782 xa4qsjk xfo81ep x47corl xb3r6kr"},style:e,children:(0,a.jsx)(s.H,{})})}},144056(e,t,i){i.d(t,{D:()=>B});var a=i(239976),s=i(105652),n=i(645186),o=i(705633),r=i(295870),l=i(225519),d=i(70555),c=i(336435),_=i(429270),u=i(417675);i(323264);var m=i(92866),h=i(14308),p=i(124144),g=i(298709),f=i(652136),E=i(586785),b=i(429634),T=i(204752),y=i(617176),S=i(432819),R=i(4257),v=i(596035),I=i(949511),x=i(788758),A=i(552628),O=i(892480),N=i(354584),C=i(778841),L=i(672646),w=i(649634),D=i(735746),j=i(129092),k=i(44811),M=i(930501),P=i(338301),F=i(340263),U=i(331700);function G({actionText:e,planUser:t,plan:i,licenseType:s,trackingProperties:n,billingMechanicsText:o}){let r=(0,a.jsx)(y.o,{href:"https://help.figma.com/hc/articles/360039960434-Manage-seats-in-Figma",trusted:!0,newTab:!0,trackingProperties:{...n,trackingContext:P.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:m.c.LEARN_MORE,licenseType:s},...{className:"x1quhyk7 x1ypdohk"},children:(0,u.t)("admin_auto_upgrade_confirmation_modal.body.link_text.learn_more")}),l=(0,k.iZ)(),d=s?(0,w.F2)(s):null,c=t?.id?.split("::").pop()||"0",_=t?.userId||"0",h=(0,A.UL)({planType:i.key.type,targetPlanUserId:c,targetUserId:_}),p=h.data?.planUserById??{currentSeat:null},g=p.currentSeat?.billingInterval??null,{calculateCostForSeatTypeIncrease:f,status:E}=(0,I.n)(i||{key:{parentId:"",type:M.OL.TEAM}},{userId:l?.id??"",currentSeat:{billableProductKey:p.currentSeat?.billableProductKey??void 0,billingInterval:g??void 0},billableProductKey:d,email:l?.email??""}),T=i&&"loaded"===E?f():null,S=!!(T&&(null!=T.price||"available_seat"===T.reason||"missing_currency"===T.reason||"missing_price"===T.reason)),R=(0,C.mA)(S,i?.key.type);if("loading"===E)return(0,a.jsx)(b.Wi,{...{className:"x1mjqqkp xklzc6b x68ok92"},animationType:b.JR.SHIMMER});if("loaded"===E&&T&&R()){let t=(0,u.tx)("admin_auto_upgrade_confirmation_modal.body.legacy_mechanics");return null==T.price&&"available_seat"===T.reason?t=(0,u.tx)("admin_auto_upgrade_confirmation_modal.body.seat_swap",{seatType:d?(0,j.QC)(d):"",learnMore:r}):null!=T.price?t=(0,u.tx)("admin_auto_upgrade_confirmation_modal.body.seat_price",{cost:T.price,learnMore:r}):null==T.price&&("missing_currency"===T.reason||"missing_price"===T.reason)&&(t=(0,u.tx)("admin_auto_upgrade_confirmation_modal.body.proration_mechanics")),(0,a.jsxs)(a.Fragment,{children:[e,(0,a.jsx)("div",{className:"x1mjqqkp x1n0bwc9",children:t})]})}return(0,a.jsxs)("span",{children:[e,o]})}let B=(0,N.Ju)(function({licenseType:e,seatType:t,onRequest:i,onClose:I,open:A,afterRequest:N,trackingProperties:C,planName:j,planUser:k,plan:M,isEduTeam:B,entryPoint:V,planDataForSocialProof:X}){let H=(0,n.wA)(),z=(0,g.L)(r.FigmaTeam.EXPANSION),W=(0,x.k)(),K=(0,L.R)({licenseType:e,planDataForSocialProof:X,entryPoint:V??"admin-auto-upgrade-confirmation-modal"}),$=()=>{H(O.Lo())},q=l.hS({open:A,onClose:()=>{(0,h.Cu)({...C,trackingContext:P.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:m.c.CANCEL}),I()}}),Y=(0,s.useMemo)(()=>B?null:W?(0,u.t)("admin_auto_upgrade_confirmation_modal.body.proration_mechanics"):(0,u.t)("admin_auto_upgrade_confirmation_modal.body.legacy_mechanics"),[B,W]),Z=(0,D.k0)(t,V),Q=(0,a.jsx)(y.o,{href:"https://www.figma.com/pricing/",trusted:!0,newTab:!0,style:S.sx.colorTextBrand.cursorPointer.$,trackingProperties:{...C,trackingContext:P.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:m.c.OTHER_PRODUCTS},children:(0,u.t)("admin_auto_upgrade_confirmation_modal.body.other_products")}),J=(0,a.jsx)(y.o,{href:"https://www.figma.com/pricing/",trusted:!0,newTab:!0,style:S.sx.colorTextBrand.cursorPointer.$,trackingProperties:{...C,trackingContext:P.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:m.c.ALL_PRODUCTS},children:(0,u.t)("admin_auto_upgrade_confirmation_modal.body.all_figma_products")}),ee=(0,D.So)(e,j,Q,J,t,V);return(0,a.jsx)(E.tH,{boundaryKey:"AdminAutoUpgradeConfirmationModal",fallback:E.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:r.FigmaTeam.EXPANSION},onError:()=>{H(R.F.enqueue({message:(0,u.t)("admin_auto_upgrade_confirmation_modal.error"),error:!0}))},children:(0,a.jsx)(p.fu,{name:P.e0.ADMIN_AUTO_UPGRADE_CONFIRMATION_MODAL,properties:C,trackingOptions:z,children:(0,a.jsx)(_.J,{brand:(0,w.ju)(e),children:(0,a.jsxs)(d.bL,{manager:q,width:360,children:[(0,a.jsxs)(c.vo,{children:[(0,a.jsx)(c.Y9,{children:(0,a.jsx)(c.hE,{children:Z})}),(0,a.jsxs)(c.nB,{padding:0,children:[(0,a.jsx)(U.T,{licenseType:e}),(0,a.jsx)(v.Y,{padding:{top:8,bottom:8,left:16,right:16},children:(0,a.jsx)("div",{...{className:"x13faqbe"},children:o.v.getFeatureGate("should_fetch_pricing_for_admin_self_upgrade")?(0,a.jsx)(f.n,{boundaryKey:"AdminAutoUpgradePricingSection",errorFallback:(0,a.jsxs)("span",{children:[ee,(0,a.jsx)("span",{children:Y})]}),loadingFallback:(0,a.jsx)(b.Wi,{...{className:"x1mjqqkp xklzc6b x68ok92"},animationType:b.JR.SHIMMER}),children:(0,a.jsx)(G,{actionText:ee,planUser:k,plan:M,licenseType:e,trackingProperties:C,billingMechanicsText:Y})}):(0,a.jsxs)("span",{children:[ee,Y]})})})]}),(0,a.jsx)(c.wi,{children:(0,a.jsx)(c.jk,{children:(0,a.jsx)(T.$z,{onClick:e=>{(0,s.startTransition)(()=>{i(e,$).then(()=>{N?.(e)})})},trackingProperties:{trackingDescriptor:m.c.UPGRADE},trackingOptions:z,children:(0,u.tx)("auto_upgrade_confirmation_modal.cta_text")})})})]}),K.seatType&&(0,a.jsx)(c.vo,{...{className:"x1xmf6yo xh8yej3"},children:(0,a.jsx)(c.nB,{padding:0,children:(0,a.jsx)(F.w,{seatType:K.seatType,licenseType:K.licenseType,entryPoint:K.entryPoint,planData:K.planData})})})]})})})})},"AdminAutoUpgradeConfirmationModal")},459076(e,t,i){i.d(t,{$:()=>g});var a=i(239976),s=i(225519),n=i(70555),o=i(336435),r=i(417675);i(323264);var l=i(92866),d=i(124144),c=i(204752),_=i(354584),u=i(930501),m=i(912920),h=i(331700);function p(e){let t=s.hS({open:e.open,onClose:e.onClose});return(0,m.r)(),(0,a.jsx)(n.bL,{manager:t,width:340,children:(0,a.jsxs)(o.vo,{children:[(0,a.jsx)(o.r1,{children:(0,a.jsx)("div",{children:(0,r.tx)("1_click_expansion.you_now_have_full_access")})}),(0,a.jsxs)(o.nB,{children:[(0,a.jsx)("div",{...{className:"x1v4kod4 x14p8jc9 x13ktmxq x1n2onr6"},children:(0,a.jsx)(h.T,{licenseType:u.G_.DESIGN})}),(0,a.jsx)("div",{...{className:"x1vi7shn"},children:e.children})]}),(0,a.jsx)(o.wi,{children:(0,a.jsx)(o.jk,{children:(0,a.jsx)(c.$z,{autoFocus:!0,variant:"primary",onClick:e.onRequestUpgrade||e.onClose,trackingProperties:{trackingDescriptor:l.c.CONTINUE},children:(0,r.tx)("request_upgrade.continue_button")})})})]})})}let g=(0,_.Ju)(function(e){return(0,a.jsx)(d.fu,{name:"Ask To Edit One Click Auto Confirmation Modal",children:(0,a.jsxs)(p,{...e,children:[(0,a.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,r.tx)("1_click_expansion.you_now_have_full_access")}),(0,a.jsx)("div",{...{className:"x1vi7shn"},children:(0,r.tx)("1_click_expansion.you_now_have_a_full",{planName:e.planName})})]})})})},249380(e,t,i){i.d(t,{t:()=>D});var a=i(239976),s=i(105652),n=i(645186),o=i(295870),r=i(225519),l=i(70555),d=i(336435),c=i(429270),_=i(417675);i(323264);var u=i(92866),m=i(14308),h=i(124144),p=i(298709),g=i(586785),f=i(204752),E=i(4257),b=i(596035),T=i(206556),y=i(892480),S=i(354584),R=i(778841),v=i(672646),I=i(649634),x=i(735746),A=i(129092),O=i(338301),N=i(340263),C=i(331700),L=i(185660),w=i(398986);let D=(0,S.Ju)(function({licenseType:e,seatType:t,onRequest:i,onClose:S,open:D,afterRequest:j,trackingProperties:k,planName:M,entryPoint:P,planDataForSocialProof:F}){let U=(0,n.wA)(),[G,B]=s.useState(!1),V=(0,p.L)(o.FigmaTeam.EXPANSION),X=(0,R.I4)(P),H=()=>{U(y.Lo())},z=(0,v.R)({licenseType:e,planDataForSocialProof:F,entryPoint:P??"auto-upgrade-confirmation-modal"}),W=async e=>{G||(B(!0),await i(e,H),j?.(e),B(!1))},K=r.hS({open:D,onClose:()=>{(0,m.Cu)({...k,trackingContext:O.e0.AUTO_UPGRADE_CONFIRMATION_MODAL,trackingDescriptor:u.c.CANCEL}),S()}}),$=(0,x.qS)(e,t,P),q=(0,L.KL)(e,M,P);if(P&&P===T.tc.USER_SETTINGS&&($=(0,x.k0)(t,P),q=(0,L.m3)(e,M)),X()){let s=(0,A.DY)(t);return(0,a.jsx)(g.tH,{boundaryKey:"AutoUpgradeConfirmationModal",fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.FigmaTeam.EXPANSION},onError:()=>{U(E.F.enqueue({message:(0,_.t)("request_upgrade.modal.error"),error:!0}))},children:(0,a.jsx)(w.G,{afterRequest:j,bodyText:s,buttonText:(0,_.t)("auto_upgrade_confirmation_modal.seat_centric.continue"),buttonTrackingDescriptor:u.c.CONTINUE,entryPoint:P??T.tc.ASK_TO_EDIT,licenseType:e,onClickRequestAsync:i,onClose:S,open:D,planName:M,seatType:t,trackedContextName:O.e0.AUTO_UPGRADE_CONFIRMATION_MODAL,trackingProperties:k})})}return(0,a.jsx)(g.tH,{boundaryKey:"AutoUpgradeConfirmationModal",fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.FigmaTeam.EXPANSION},onError:()=>{U(E.F.enqueue({message:(0,_.t)("request_upgrade.modal.error"),error:!0}))},children:(0,a.jsx)(h.fu,{name:O.e0.AUTO_UPGRADE_CONFIRMATION_MODAL,properties:k,trackingOptions:V,children:(0,a.jsx)(c.J,{brand:(0,I.ju)(e),children:(0,a.jsxs)(l.bL,{manager:K,width:360,children:[(0,a.jsxs)(d.vo,{children:[(0,a.jsx)(d.Y9,{children:(0,a.jsx)(d.hE,{children:$})}),(0,a.jsxs)(d.nB,{padding:0,children:[(0,a.jsx)(C.T,{licenseType:e}),(0,a.jsx)(b.Y,{padding:{top:8,bottom:8,left:16,right:16},children:(0,a.jsx)("div",{className:"x13faqbe",children:q})})]}),(0,a.jsx)(d.wi,{children:(0,a.jsx)(d.jk,{children:(0,a.jsx)(f.$z,{disabled:G,onClick:W,trackingProperties:{trackingDescriptor:u.c.UPGRADE},trackingOptions:V,children:(0,_.tx)("auto_upgrade_confirmation_modal.cta_text")})})})]}),z.seatType&&(0,a.jsx)(d.vo,{...{className:"x1xmf6yo xh8yej3"},children:(0,a.jsx)(d.nB,{padding:0,children:(0,a.jsx)(N.w,{seatType:z.seatType,licenseType:z.licenseType,entryPoint:z.entryPoint,planData:z.planData})})})]})})})})},"AutoUpgradeConfirmationModal")},185660(e,t,i){i.d(t,{HY:()=>_,KL:()=>h,m3:()=>m,sp:()=>u});var a=i(836848),s=i(417675),n=i(206556),o=i(239068),r=i(649634),l=i(735746),d=i(930501),c=i(892278);let _={type:"RequestUpgradeModal"};function u(e,t,i,a,_){if(a===n.tc.USER_SETTINGS)switch(_){case o.ud.COLLABORATOR:return(0,s.tx)("request_upgrade_modal.body.collab");case o.ud.CONTENT:return(0,s.tx)("request_upgrade_modal.body.content");case o.ud.DEVELOPER:return(0,s.tx)("request_upgrade_modal.body.dev");case o.ud.EXPERT:return(0,s.tx)("request_upgrade_modal.body.full")}return a===n.tc.PUBLISH_SITES&&e===d.G_.FIGMAKE?(0,s.tx)("request_upgrade_modal.body.figmake.publish"):(0,n.Ds)(a)&&_===o.ud.EXPERT?(0,c.T3)()?(0,s.tx)("request_upgrade_modal.body.higher_ai_credit_limits",{planName:t}):(0,s.tx)("request_upgrade_modal.body.ai_ga.higher_limits",{productName:(0,r.VG)(e)}):(0,l.hA)(e,t,i,a)}function m(e,t){switch(e){case d.G_.DESIGN:case d.G_.SITES:case d.G_.FIGMAKE:return(0,s.tx)("auto_upgrade_confirmation_modal.body.full",{planName:t});case d.G_.DEV_MODE:return(0,s.tx)("auto_upgrade_confirmation_modal.body.dev",{planName:t});case d.G_.SLIDES:case d.G_.WHITEBOARD:return(0,s.tx)("auto_upgrade_confirmation_modal.body.collab",{planName:t});case d.G_.COOPER:case d.G_.CMS_STRUCTURE:case d.G_.CMS_CONTENT:return null;default:(0,a.xb)(e)}}function h(e,t,i){switch(e){case d.G_.DESIGN:if((0,c.T3)()&&(0,n.Ds)(i))return(0,s.tx)("auto_upgrade_confirmation_modal.body.design_higher_ai_credit_limits",{planName:t});if(i===n.tc.FILE_ROLE_INVITE_REDEEM)return(0,s.tx)("auto_upgrade_confirmation_modal.body.design_invite_redeem",{planName:t});return(0,s.tx)("auto_upgrade_confirmation_modal.body.design",{planName:t});case d.G_.WHITEBOARD:if((0,c.T3)()&&(0,n.Ds)(i))return(0,s.tx)("auto_upgrade_confirmation_modal.body.figjam_higher_ai_credit_limits",{planName:t});if(i===n.tc.FILE_ROLE_INVITE_REDEEM)return(0,s.tx)("auto_upgrade_confirmation_modal.body.figjam_invite_redeem",{planName:t});return(0,s.tx)("auto_upgrade_confirmation_modal.body.figjam",{planName:t});case d.G_.SLIDES:if((0,c.T3)()&&(0,n.Ds)(i))return(0,s.tx)("auto_upgrade_confirmation_modal.body.slides_higher_ai_credit_limits",{planName:t});if(i===n.tc.FILE_ROLE_INVITE_REDEEM)return(0,s.tx)("auto_upgrade_confirmation_modal.body.slides_invite_redeem",{planName:t});return(0,s.tx)("auto_upgrade_confirmation_modal.body.slides",{planName:t});case d.G_.SITES:if((0,c.T3)()&&(0,n.Ds)(i))return(0,s.tx)("auto_upgrade_confirmation_modal.body.sites_higher_ai_credit_limits",{planName:t});if(i===n.tc.FILE_ROLE_INVITE_REDEEM)return(0,s.tx)("auto_upgrade_confirmation_modal.body.sites_invite_redeem",{planName:t});return(0,s.tx)("auto_upgrade_confirmation_modal.body.sites",{planName:t});case d.G_.FIGMAKE:if((0,c.T3)()&&(0,n.Ds)(i))return(0,s.tx)("auto_upgrade_confirmation_modal.body.figmake_higher_ai_credit_limits",{planName:t});if(i===n.tc.FILE_ROLE_INVITE_REDEEM)return(0,s.tx)("auto_upgrade_confirmation_modal.body.figmake_invite_redeem",{planName:t});return(0,s.tx)("auto_upgrade_confirmation_modal.body.figmake",{planName:t});case d.G_.COOPER:case d.G_.CMS_STRUCTURE:case d.G_.CMS_CONTENT:case d.G_.DEV_MODE:return null;default:(0,a.xb)(e)}}},439463(e,t,i){i.d(t,{u:()=>k});var a=i(239976),s=i(105652),n=i(645186),o=i(836848),r=i(295870),l=i(731112),d=i(429270),c=i(310955),_=i(417675),u=i(478741),m=i(323264),h=i(92866),p=i(124144),g=i(824203),f=i(315171),E=i(184634),b=i(306512),T=i(4257),y=i(404890),S=i(892480),R=i(354584),v=i(239068),I=i(945013),x=i(930501),A=i(291595),O=i(396230),N=i(955276);let C="cb2673de5dce908e59e849955b564818efb747a6",L={kZKoxP:"x1peatla",kmVPX3:"xf7z5ut",kaIpWk:"x19y5rnk",kC7eKd:"x1sjmt1f",kHenm0:"xtt52l0",k8Qsv1:"xuggh6c",$$css:!0};function w(e){let{note:t,onChange:i}=e;return(0,a.jsxs)("div",{...{className:"x4ygwfs x78zum5 xdt5ytf x1nfngrj"},children:[(0,a.jsx)("span",{...m.xk(c.g.textBodyMedium),children:(0,_.tx)("seat_selection_in_nux.note_prompt")}),(0,a.jsx)("textarea",{...m.xk(L,c.g.textBodyMedium),placeholder:(0,_.t)("seat_selection_in_nux.note_placeholder",{seat_type:(0,y.tI)(e.seatType)}),value:t,onChange:e=>i(e.target.value),rows:3})]})}let D={[v.ud.COLLABORATOR]:"whiteboard",[v.ud.DEVELOPER]:"dev-handoff",[v.ud.EXPERT]:"design",[v.ud.CONTENT]:"cooper"};function j(e){let[t,i]=(0,s.useState)(""),{color:c}=(0,l.G)(),m=(0,n.wA)(),f=(0,N.U)("nux_seat_request_confirmation_modal"),y=(0,I.q5)();(0,u.h)(()=>{e.autoApproved||e.requestId||function(e){if((0,g.isDevEnvironment)())throw e;(0,E.$D)(r.FigmaTeam.ACTIVATION,e),m(S.ES(k)),m(T.F.enqueue({message:(0,_.t)("general.an_error_occurred"),error:!0}))}(Error("No request ID for post-NUX seat request confirmation modal"))});let R=async i=>{let a=!1;if(!e.autoApproved&&i&&t.length>0)if(e.requestId)try{let i=e.requestId;i?await A.w.updateRequestMessage({request_id:i,message:t}):a=!0}catch(e){a=!0}else a=!0;m(S.ES(k)),e.seatType===v.ud.DEVELOPER&&y?.editorType===x._Y.DESIGN&&f("handoff"),a&&m(T.F.enqueue({message:(0,_.t)("general.an_error_occurred"),error:!0}))};return(0,a.jsx)(d.J,{brand:D[e.seatType],children:(0,a.jsx)(p.fu,{name:"Post NUX Seat Request Confirmation Modal Outer",children:(0,a.jsx)(O.xx,{title:(0,_.tx)("seat_selection_in_nux.welcome_to_figma"),media:(0,a.jsx)("div",{...{className:"x78zum5 x2lah0s x13a6bvl x6s0dn4 x1jgvi1y xg80ozm x1bifzbx"},children:(0,a.jsx)(b.oW,{alt:"",...{className:"xh8yej3 xgmxx4u x14vqqas"},src:((e,t)=>{if(e)switch(t){case v.ud.COLLABORATOR:return(0,g.staticAssetWithUploadsPath)(C);case v.ud.DEVELOPER:return(0,g.staticAssetWithUploadsPath)("bb9c1da4623599a5b504821d08933e4a62f77738");case v.ud.EXPERT:case v.ud.CONTENT:return(0,g.staticAssetWithUploadsPath)("e64c10dbcf541d5c046e504238332a5a4e6c3936");default:(0,o.xb)(t)}else switch(t){case v.ud.COLLABORATOR:return(0,g.staticAssetWithUploadsPath)(C);case v.ud.DEVELOPER:return(0,g.staticAssetWithUploadsPath)("c01e13ea74266be4e3bd04138f24580a366f34db");case v.ud.EXPERT:case v.ud.CONTENT:return(0,g.staticAssetWithUploadsPath)("8ccf73b4d60956f75e7d328f2f84303814551671");default:(0,o.xb)(t)}})("dark"===c,e.seatType)})}),primaryCta:{type:"button",label:(0,_.tx)("seat_selection_in_nux.continue"),onClick:R,ctaTrackingDescriptor:h.c.CONTINUE},onClose:()=>m(S.ES(k)),trackingContextName:"Post NUX Seat Request Confirmation Modal",description:(0,a.jsxs)(a.Fragment,{children:[((e,t)=>{if(e)switch(t){case v.ud.COLLABORATOR:return(0,_.tx)("seat_selection_in_nux.collab_seat_auto_approved");case v.ud.DEVELOPER:return(0,_.tx)("seat_selection_in_nux.dev_seat_auto_approved");case v.ud.EXPERT:return(0,_.tx)("seat_selection_in_nux.full_seat_auto_approved");case v.ud.CONTENT:return(0,_.tx)("seat_selection_in_nux.content_seat_auto_approved");default:(0,o.xb)(t)}else switch(t){case v.ud.COLLABORATOR:return(0,_.tx)("seat_selection_in_nux.collab_seat_manual_request");case v.ud.DEVELOPER:return(0,_.tx)("seat_selection_in_nux.dev_seat_manual_request");case v.ud.EXPERT:return(0,_.tx)("seat_selection_in_nux.full_seat_manual_request");case v.ud.CONTENT:return(0,_.tx)("seat_selection_in_nux.content_seat_manual_request");default:(0,o.xb)(t)}})(e.autoApproved,e.seatType),!e.autoApproved&&(0,a.jsx)(w,{note:t,onChange:i,seatType:e.seatType})]})})})})}let k=(0,R.Ju)(function(e){return(0,a.jsx)(f.u9,{label:"SeatRequestConfirmationModal",children:(0,a.jsx)(j,{...e})})},"NuxSeatRequestConfirmationModal")},214427(e,t,i){i.d(t,{L:()=>r});var a=i(105652),s=i(759179),n=i(733356),o=i(345496);function r(){let e=(0,o.o)(),t=(0,n.XG)()===s.A5.APPROVE_SEAT_REQUEST?s.A5.REQUESTS:s.A5.INVITE;return(0,a.useCallback)(()=>{e(t)},[e,t])}},167837(e,t,i){i.d(t,{$j:()=>l,Dp:()=>d,Fn:()=>c,M3:()=>b,U:()=>E,W7:()=>g,cH:()=>m,d4:()=>T,hP:()=>f,lX:()=>_,ml:()=>p,nM:()=>y,yJ:()=>u});var a,s,n=i(836848),o=i(417675),r=i(699715),l=((a=l||{}).DAY="24_hours",a.WEEK="7_days",a.CUSTOM="custom",a),d=((s=d||{}).TWENTY_SEC="20_seconds",s.CURRENT="current",s.DAY="24_hours",s.WEEK="7_days",s.CUSTOM="custom",s);function c(e,t){switch(t){case"24_hours":case"24_hours":return h(e.clone().add(24,"h"));case"7_days":case"7_days":return h(e.clone().add(7,"d"));default:return(0,r.A)()}}function _(e,t){let i=t.diff(e,"hours");if(i<1){let i=t.diff(e,"minutes");return{num:i<1?1:i,unit:"minute"}}if(i<24)return{num:i,unit:"hour"};let a=Math.ceil(i/24);return a%30==0?{num:Math.floor(a/30),unit:"month"}:a%7==0?{num:Math.floor(a/7),unit:"week"}:{num:a,unit:"day"}}function u(e,t){let{num:i,unit:a}=_(e,t);switch(a){case"minute":return(0,o.t)("permissions_modal.file_share_settings.minute_text",{num:i});case"hour":return(0,o.t)("permissions_modal.file_share_settings.hour_text",{num:i});case"day":return(0,o.t)("permissions_modal.file_share_settings.day_text",{num:i});case"week":return(0,o.t)("permissions_modal.file_share_settings.week_text",{num:i});case"month":return(0,o.t)("permissions_modal.file_share_settings.month_text",{num:i});default:(0,n.xb)(a)}}function m(e,t=!1){return t?e.startOf("hour"):e.clone().add(30,"minutes").startOf("hour")}function h(e,t=!1){return e.clone().add(30,"seconds").startOf("minute")}function p(e){return e.format("LT")}function g(e){return e.format("YYYY-MM-DD")}function f(e){return e.format("HH:mm")}function E(e,t){return(0,r.A)(e+" "+t,"YYYY-MM-DD HH:mm")}function b(e,t){let i=e.isSame((0,r.A)().add(1,"day"),"day"),a=p(e);if(i&&!t)return(0,o.t)("file_access_row.expiration.24_hours.timestamp",{time:a});let s=e.toDate().toLocaleDateString(e.locale(),{weekday:t?"long":"short",month:"short",day:"numeric"});return(0,r.A)().isSame(e,"year")?(0,o.t)("file_access_row.expiration.date.timestamp",{date:s,time:a}):e.format("L LT")}function T(e){return e&&!e.accessReverted&&e.expiresAt?e.expiresAt:null}function y(e){return e<24||e%24!=0?(0,o.t)("file_access_row.expiration.past_org_limit_hours",{count:e}):(0,o.t)("file_access_row.expiration.past_org_limit_days",{count:e/24})}},231581(e,t,i){i.d(t,{k:()=>h});var a=i(239976),s=i(105652),n=i(42348),o=i(249563),r=i(563225),l=i(417675);i(323264);var d=i(92866),c=i(204752),_=i(617176),u=i(919650),m=i(636415);function h({seatType:e,userInfo:t,priceString:i}){let[h,p]=(0,s.useState)(!1),g=(0,a.jsx)("div",{...{className:"x1g2dr8m xiqqdae xkezfkh x14kxzw3 x1giz659"},children:(0,l.t)("file_permissions_modal.update_seat_tab.this_may_impact_your_costs")}),f=()=>p(!h),E=(0,a.jsx)(_.Ph,{href:m.Z,trusted:!0,newTab:!0,trackingProperties:{trackingDescriptor:d.c.LEARN_MORE},children:(0,l.t)("file_permissions_modal.update_seat_tab.learn_more")}),b=i?(0,l.tx)("file_permissions_modal.update_seat_tab.if_there_is_an_available_seat_proration_enabled",{userString:t,seatType:(0,u.JT)(e),priceString:i,learnMoreLink:E}):(0,l.tx)("file_permissions_modal.update_seat_tab.if_there_is_an_available_seat_proration_not_enabled",{userString:t,seatType:(0,u.JT)(e),learnMoreLink:E});return(0,a.jsx)(n.Yy,{variant:"default",children:h?(0,a.jsxs)(o.Q,{children:[(0,a.jsxs)(c.e6,{onClick:f,trackingProperties:{trackingDescriptor:d.c.SEAT_COST_MESSAGING},...{className:"x78zum5 x1q0g3np x1qughib xh8yej3"},children:[g,(0,a.jsx)(r.O,{className:"x19jd1h0"})]}),(0,a.jsx)("div",{className:"x1rmmofs",children:b})]}):(0,a.jsxs)(c.e6,{onClick:f,trackingProperties:{trackingDescriptor:d.c.SEAT_COST_MESSAGING},...{className:"x78zum5 x1q0g3np x1qughib xh8yej3"},children:[(0,a.jsx)(o.Q,{children:g}),(0,a.jsx)(r.O,{})]})})}},919504(e,t,i){i.d(t,{dU:()=>f});var a=i(239976),s=i(105652);i(645186);var n=i(225145);i(417675);var o=i(270450);i(224542);var r=i(316958);i(415059);var l=i(258820);i(158906),i(503637);var d=i(914431);i(441740);let c="accessibilitytree--node--axK70",_="accessibilitytree--disabled--Z0pA5 accessibilitytree--node--axK70",u="accessibilitytree--scrollContainer--C-8w0 accessibilitytree--node--axK70";function m({parentId:e,nodeId:t,enabled:i=!0,focusRef:n,accessibilityScope:b,viewer:T}){let y,S=(0,l.W)(t,b),R=T.getPrototypeNode(t);if(!S||!R)return null;let{isClickable:v,tag:I="div",role:x,label:A}=S,O=g.get(I)||{};switch(T.nodeType(R)){case"TABLE":y=function(e,t){let i=e.nodeTableCells(t).map(t=>({text:e.nodeTableCellContent(t),pos:e.nodeDisplayBounds(t)})).sort((e,t)=>e.pos.x<t.pos.x?-1:1),s={};for(let e of i)s[e.pos.y]?s[e.pos.y].push(e):s[e.pos.y]=[e];let n=Object.keys(s).sort((e,t)=>parseFloat(e)-parseFloat(t));return[(0,a.jsx)("div",{role:"rowgroup",children:s[n[0]].map((e,t)=>(0,a.jsx)("span",{role:"columnheader",style:{left:e.pos.x,top:e.pos.y,width:e.pos.width,height:e.pos.height}},`header-${t}`))},"table-header"),(0,a.jsx)("div",{role:"rowgroup",children:n.map((e,t)=>(0,a.jsx)("div",{role:"row","aria-rowindex":t,children:s[e].map((t,i)=>(0,a.jsx)("span",{role:"cell",className:c,style:{display:"inline-block",left:t.pos.x,top:t.pos.y,width:t.pos.width,height:t.pos.height},children:t.text},`${e}-${i}`))},e))},"table-body")]}(T,R);break;case"CODE_BLOCK":(0,o.getFeatureFlags)().slides_viewer_a11y_2&&(y=function(e,t){let i=e.mapChildren(t,e=>e)?.[0];if(!i)return[];let s=E(e,i,"Line numbers"),n=E(e,i,"Text");if(!s||!n)return[];let o=(e.nodeText(s)||"").split("\n"),r=e.nodeText(n)||"";return o.length&&r.length?[(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("pre",{children:(0,a.jsx)("code",{children:r})}),(0,a.jsx)("div",{className:"line-numbers",children:o.map(e=>(0,a.jsx)("span",{children:e},e))})]})]:[]}(T,R));break;case"TEXT":y=f(T.nodeText(R)||"",T.nodeLineData(R)||[],T.nodeCharacterStyles(R),T.navigateToFrameAndCloseOverlays);break;case"INTERACTIVE_SLIDE_ELEMENT":(0,o.getFeatureFlags)().slides_viewer_a11y_2&&(y=(0,a.jsx)("div",{id:`${d.Sg}${t}`,style:{position:"relative",zIndex:1}}));break;default:y=S.childIds.map(e=>(0,a.jsx)(m,{nodeId:e,accessibilityScope:b,focusRef:void 0,viewer:T,parentId:t},e))}let N=T.nodeScrollBounds(R),C=e&&T.getPrototypeNode(e),L=!i&&"none"||C||"canvas",w=p(T,R,N?"scrollContainer":L),D=v?{onClick:e=>{(0,r.f)(r.h.PROTOTYPE_BUTTON_CLICKED,{isMouseEvent:e?.screenX!==0&&e?.screenY!==0}),T.nodeTriggerInteraction(R,"ON_CLICK")},onFocus:()=>void T.nodeHover(R),onBlur:()=>void T.nodeReverseHover(R)}:{},j=s.createElement(I,{className:!i&&_||!!N&&u||c,style:w,tabIndex:n?0:void 0,ref:n,role:x,key:t,"aria-label":A,...O,...D},y);return N&&(j=(0,a.jsx)(h,{displayRect:p(T,R,L),enabled:i,scrollRect:N,onScrolled:(e,t)=>T.nodeScrollTo(R,e,t),scrollAreaContent:j})),j}function h({displayRect:e,enabled:t,onScrolled:i,scrollRect:n,scrollAreaContent:o}){let r=s.useRef(null),l=s.useRef(!1),d=s.useCallback(e=>{let t=e.target;("number"==typeof t?.scrollLeft||"number"==typeof t?.scrollTop)&&(l.current?l.current=!1:i?.(t.scrollLeft*n.width/t.scrollWidth,t.scrollTop*n.height/t.scrollHeight))},[i,n.height,n.width]);return s.useEffect(()=>{let e=r.current;if(e)return e.addEventListener("scrollend",d),()=>e.removeEventListener("scrollend",d)},[d]),s.useEffect(()=>{let e=r.current;e&&(l.current=!0,n.width&&(e.scrollLeft=n.x*e.scrollWidth/n.width),n.height&&(e.scrollTop=n.y*e.scrollHeight/n.height))},[n.x,n.y,n.width,n.height]),(0,a.jsx)("div",{className:t?u:_,style:e,ref:r,children:o})}function p(e,t,i){switch(i){case"none":return{};case"canvas":{let{x:i,y:a,width:s,height:n}=e.nodeDisplayBounds(t);return{left:i,top:a,width:s,height:n}}case"scrollContainer":{let i=e.nodeCanvasSpaceBounds(t),a=e.nodeScrollBounds(t);if(!a)return{};{let e="100%",t="100%";return 0!==a.height&&(e=`${100*a.height/i.height}%`),0!==a.width&&(t=`${100*a.width/i.width}%`),{height:e,width:t}}}default:{let a=e.nodeCanvasSpaceBounds(i),s=e.nodeScrollBounds(i),n=e.nodeCanvasSpaceBounds(t),o=s?s.width:a.width,r=s?s.height:a.height,l=a.x,d=a.y,c=(n.x-l)/o,_=(n.y-d)/r,u=n.width/o,m=n.height/r;return{top:`${100*_}%`,left:`${100*c}%`,height:`${100*m}%`,width:`${100*u}%`}}}}s.memo(function({accessibilityScope:e,autofocus:t,setAutofocus:i,viewer:n}){var r,l;let d,c,_,[u,h]=s.useState(void 0),p=(r=t,l=i,c=(d=s.useRef(null)).current,_=c?.contains(c?.ownerDocument?.activeElement),s.useLayoutEffect(()=>{if(!r&&!_)return;let e=d.current;e&&(r||!e.contains(e.ownerDocument.activeElement))&&(e.focus(),r&&l?.(!1))}),d);return(s.useEffect(()=>{let e=()=>{let e=n.getTopmostFrameNode();e&&(h(n.nodeId(e)),(0,o.getFeatureFlags)().viewer_a11y_autofocus_tlf_change&&i(!0))};return n.on("topLevelFrameChange",e),()=>{n.off("topLevelFrameChange",e)}},[n,i]),s.useEffect(()=>{let e=n.getTopmostFrameNode();h(e?n.nodeId(e):void 0)},[n]),u)?(0,a.jsx)(m,{nodeId:u,parentId:void 0,enabled:!0,focusRef:p,accessibilityScope:e,viewer:n},u):null});let g=new Map([["form",{onSubmit:e=>e.preventDefault()}],["button",{type:"button"}],["input",{readonly:"readonly"}]]);function f(e,t,i,o){let r=e.split(/\n/mu),l=[];function d(e){for(;l.length>e+1;){let e,t,i,[a,n]=l.pop();switch(a){case"UNORDERED_LIST":e="ul",t="li",i="list";break;case"ORDERED_LIST":e="ol",t="li",i="list";break;default:e="p",t="span"}let o=l[l.length-1];if(o&&o.length>1){let a=o[1];a.push(s.createElement(e,{key:a.length,...i&&{role:i}},n.map((e,i)=>s.createElement(t,{key:i},e))))}}}let c=0;for(let e=0;e<r.length;e++){let s=r[e],_=t[e]||{type:"PLAIN",indentLevel:0};for("PLAIN"===_.lineType&&(_.indentLevel=0),d(_.indentLevel),l.length>1&&l[l.length-1][0]!==_.lineType&&d(_.indentLevel-1);l.length<_.indentLevel+1;)l.push([_.lineType,[]]);l[l.length-1][1].push(function(e,t){let s=[];for(let r of i){let{start:i,end:l,props:d}=r,c=[...t].length;if(i>e+c)break;if(l<=e)continue;i=Math.max(0,i-e),l=Math.min(c,l-e);let _=RegExp(`(?:[^]{${i}})([^]{${l-i}})`,"u"),u=t.match(_)?.[1],m=d?.get?.("HYPERLINK"),h=d?.get?.("FONT_STYLE"),p=h?.toLowerCase()?.includes("italic"),g=h?.toLowerCase()?.includes("bold"),f=d?.get?.("FONT_SIZE"),E=d?.get?.("TEXT_DECORATION"),b={fontWeight:g?"bold":void 0,fontStyle:p?"italic":void 0,fontSize:f?`${f}px`:void 0,textDecoration:new Map([["UNDERLINE","underline"],["STRIKETHROUGH","line-through"]]).get(E)};if("string"==typeof m?.url)s.push((0,a.jsx)(n._,{style:b,href:m.url,newTab:!0,trusted:!0,children:u},i+e));else if(o&&"object"==typeof m?.guid){let t=m.guid;s.push((0,a.jsx)("button",{type:"button",role:"link",onClick:()=>o(`${t.sessionID}:${t.localID}`),children:u},i+e))}else g||p||f||E?s.push((0,a.jsx)("span",{style:b,children:u},i+e)):s.push(u)}return s}(c,s)),s?c+=[...s].length+1:c+=1}return d(0),l[0][1].map((e,t)=>"string"!=typeof e?e:(0,a.jsx)("p",{children:e},t))}function E(e,t,i){let a=e.mapChildren(t,e=>e);return a?.find(t=>e.nodeName(t)===i)??null}},914431(e,t,i){i.d(t,{Sg:()=>a});let a="flapp-portal-"},330583(e,t,i){var a=i(492740),s=i(263740),n=i(878725),o=i(486337),r=i(825074);let l=class e{constructor(t,i){this._isUIShown=t,this._inCommentsMode=!1,this._rcsUserFlags=[],this._hideUITask=new a.W,this.handleProgressBarStoppedShowing=()=>{this.showUiAndScheduleFade()},this.onWindowFocus=()=>{this.showUiAndScheduleFade()},this.didEnterCommentsMode=()=>{this._hideUITask.reset(),this._setUIShown(!0),this._inCommentsMode=!0},this.didLeaveCommentsMode=()=>{this._inCommentsMode&&(this._inCommentsMode=!1,this.showUiAndScheduleFade())},this.didRscUserFlagsUpdate=e=>{this._rcsUserFlags=e},this.handleUnhideUI=()=>{this.showUiAndScheduleFade()},this.handlePageMouseDownOrTouchStart=e=>{"CURRENT_TLF"===e.type||"DEVICE_FRAME"===e.type?this._setUIShown(!1):"PROTOTYPE_BACKGROUND"===e.type&&(this._hideUITask.reset(),this._isUIShown()?this._setUIShown(!1):this.showUiAndScheduleFade())},this.handleHotspotClicked=()=>{this._setUIShown(!1)},this.handlePageMouseMove=(e,t)=>{let i=e.clientY,a=window.innerHeight-e.clientY,s=85>Math.abs(window.innerWidth/2+t/2-e.clientX)&&a<60;i<(0,o.bG)()||s?this.showUiAndScheduleFade():this.scheduleFadeIfNecessary()},this.handleHeaderOrFooterMove=e=>{this._hideUITask.reset(),this._isUIShown()||this._setUIShown(!0),e.stopPropagation()},this.handleHeaderOrFooterBlur=e=>{this.scheduleFadeIfNecessary()},this.handleHeaderOrFooterFocus=e=>{this._hideUITask.reset(),this._setUIShown(!0)},this.handleKeyDown=(e,t)=>{(t&&this._isUIShown()||e.keyCode===n.Uz.ESCAPE)&&this.showUiAndScheduleFade()},this.teardown=()=>{this._hideUITask.reset()},this.showUiAndScheduleFade=()=>{this._isUIShown()||this._setUIShown(!0),this._hideUITask.reset(),this.scheduleFadeIfNecessary()},this.scheduleFadeIfNecessary=()=>{this._hideUITask.isScheduled()||this._hideUITask.scheduleOnce(()=>{this._setUIShown(!1)},e.FADE_DELAY_MS)},this._setUIShown=t=>{let a=!t&&this._inCommentsMode,s=!t&&this._rcsUserFlags.reduce((t,i)=>t||e.RCS_SHOWN_ON_UI.has(i),!1);a||s||i(t)}}};l.FADE_DELAY_MS=s.A.isMobileBrowser?1e3:2e3,l.RCS_SHOWN_ON_UI=new Set([r.e])},527044(e,t,i){i(239976),i(105652),i(645186),i(417675),i(101147),i(457086),i(867760),i(556486),i(774841),i(490746),i(65885),i(646288)},640742(e,t,i){i.d(t,{Md:()=>r,z2:()=>o});var a,s=i(759231),n=i(253770),o=((a=o||{})[a.NOT_LOADED=0]="NOT_LOADED",a[a.LOADED=1]="LOADED",a);let r=(0,s.um)({status:0,livegraphLoaded:!1,viewerInstanceLoaded:!1},(e,t)=>{if(1===e.status)return e;switch(t.type){case 0:if(e.viewerInstanceLoaded)return n.Su.handleViewerLoaded("livegraph"),{status:1,lastLoaded:"livegraph"};if(e.livegraphLoaded)return e;return{...e,livegraphLoaded:!0};case 1:if(e.livegraphLoaded)return n.Su.handleViewerLoaded("multiplayer"),{status:1,lastLoaded:"multiplayer"};if(e.viewerInstanceLoaded)return e;return{...e,viewerInstanceLoaded:!0}}})},316958(e,t,i){i.d(t,{f:()=>r,h:()=>d});var a,s=i(414072),n=i(115378),o=i(950054);function r(e,t){let i=s.D.getState(),a=(0,o.U2)(i.selectedView);(0,n.ds)(l,a,i,{actionName:e,...t},{forwardToDatadog:!0})}let l="accessibility_actions";var d=((a=d||{}).TOGGLE_DOM_ON_MENU="toggle_dom_on_menu",a.TOGGLE_DOM_OFF_MENU="toggle_dom_off_menu",a.TOGGLE_ENHANCED_CONTRAST_ON="toggle_enhanced_contrast_on",a.TOGGLE_ENHANCED_CONTRAST_OFF="toggle_enhanced_contrast_off",a.PROTOTYPE_BUTTON_CLICKED="prototype_button_clicked",a.SKIP_TO_CONTENT="skip_to_content",a.ENABLE_AND_SKIP_TO_CONTENT="enable_and_skip_to_content",a.FOCUS_CYCLE_NEXT_AREA="focus_cycle_next_area",a.FOCUS_CYCLE_PREVIOUS_AREA="focus_cycle_previous_area",a.DESIGN_INITIAL_TREE_LOAD="design_initial_tree_load",a.DESIGN_UPDATE_NODE="design_update_tree",a.DEVMODE_INITIAL_TREE_LOAD="devmode_initial_tree_load",a.DEVMODE_UPDATE_NODE="devmode_update_node",a.FIGJAM_UPDATE_TREE="figjam_update_tree",a.FIGJAM_UPDATE_NODE="figjam_update_node",a.FIGJAM_INITIAL_TREE_LOAD="figjam_initial_tree_load",a.FIGJAM_INCREMENTAL_UPDATE_DISCREPANCY="figjam_incremental_update_discrepancy",a.TOGGLE_DEFAULT_APPLICATION_ON_MENU="toggle_default_application_on_menu",a.TOGGLE_DEFAULT_APPLICATION_OFF_MENU="toggle_default_application_off_menu",a.TOGGLE_TEXT_INPUT_SHORTCUT_BLOCKING_ON="toggle_text_input_shortcut_blocking_on",a.TOGGLE_TEXT_INPUT_SHORTCUT_BLOCKING_OFF="toggle_text_input_shortcut_blocking_off",a.SLIDES_INITIAL_TREE_LOAD="slides_initial_tree_load",a.SLIDES_UPDATE_NODE="slides_update_node",a.BUZZ_INITIAL_TREE_LOAD="buzz_initial_tree_load",a.BUZZ_UPDATE_NODE="buzz_update_node",a.QUICK_ACTIONS_MENU_TAB_FOCUS_ON="quick_actions_menu_on",a.QUICK_ACTIONS_MENU_TAB_FOCUS_OFF="quick_actions_menu_off",a)},363341(e,t,i){i.d(t,{L3:()=>m,NO:()=>E,Uc:()=>g,X6:()=>h,ZD:()=>f,iZ:()=>c,t5:()=>b});var a=i(898860),s=i(297746),n=i(270450),o=i(127446),r=i(39116),l=i(716186);let d="customKeyboardShortcuts",c=new Map(Object.entries(a.Xp).map(([e,t])=>[e,t])),_=new Map(Object.entries(a.Xp).map(([e,t])=>[t,e]));function u(e,t,i){let a=_.get(t);return Object.entries(e).find(([e,t])=>t.type===a&&t.action===i)}function m(e,t,i,a){if(!(0,n.getFeatureFlags)().ce_custom_keyboard_shortcuts)return;let c=p(),m=l.dZ.get((0,l.v7)())||"UNKNOWN",h=r.y.isApple()?"mac":"!mac",g=_.get(e),f=c[m]?.[h]??{},[E,b]=u(f,e,t)||[];E&&delete f[E],c[m]={...c[m],[h]:{...f,[i]:{type:g,action:t,pluginMenuAction:a??b?.pluginMenuAction}}},o.x4?.setItem(d,JSON.stringify(c)),s.glU&&s.glU.reloadKeyboardShortcuts()}function h(e,t){if(!(0,n.getFeatureFlags)().ce_custom_keyboard_shortcuts)return!1;let i=p(),a=l.dZ.get((0,l.v7)())||"UNKNOWN",c=r.y.isApple()?"mac":"!mac",m=_.get(e),h=i[a]?.[c]??{},g=u(h,e,t),f=g?.[0];return f?(delete h[f],i[a]={...i[a],[c]:{...h}},o.x4?.setItem(d,JSON.stringify(i)),s.glU?.reloadKeyboardShortcuts(),!0):(console.error("[CustomKeyboardShortcuts] could not find existing shortcut",{typeString:m,action:t,shortcuts:i}),!1)}function p(){let e;if(!o.x4)return{};let t=o.x4.getItem(d);if(!t)return{};try{e=JSON.parse(t)}catch(e){console.error("[Custom Keyboard Shortcuts] Failed to parse from local storage",e)}return e}function g(){let e=l.dZ.get((0,l.v7)())||"UNKNOWN",t=r.y.isApple()?"mac":"!mac",i=p()??{};return i[e]?.[t]??{}}function f(e){return!!(0,n.getFeatureFlags)().ce_custom_keyboard_shortcuts&&Object.keys(g()).includes(e)}function E(e){if((0,n.getFeatureFlags)().ce_custom_keyboard_shortcuts&&o.x4){for(let[t,i]of Object.entries(g()))if(i.action===e)return i.pluginMenuAction}}function b(e,t){if(!(0,n.getFeatureFlags)().ce_custom_keyboard_shortcuts)return!1;let i=g(),a=_.get(e);return Object.values(i).some(e=>e.type===a&&e.action===t)}},323627(e,t,i){i.d(t,{H:()=>h,T:()=>p});var a=i(466082),s=i(759231),n=i(945013),o=i(632031),r=i(805295),l=i(465833),d=i(564551),c=i(431905),_=i(303743),u=i(983957);async function m(e){let t=s.zl.get(d.Z4),i=s.zl.get(d.d$),a=s.zl.get(n.ze),c=[];if(!t||!i)return Promise.resolve([]);try{for(let[s,n]of t.entries()){let t=i.get(s);if(t&&a){let i=t.manifest.lintRules;if(!i)continue;let l=r.R0.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:t,command:"lint",queryMode:!0,runMode:"lint",triggeredFrom:"design-linter",openFileKey:a,deferRunEvent:!0,isWidget:!1},async onStart(){let t=[];for(let a of e)for(let e of n){let n=i.find(t=>t.key===e);if(!n)continue;let r=await (0,o.$7)(3e3,{nodeId:a.guid,rule:e});if(!r.didRun)return[];let l=(await r.returnValue).map(e=>({guid:e.nodeId,pluginId:s,explanation:e.explanation,payload:{},rule:n}));t.push(...l)}return t}});c.push(l)}}}catch(e){console.error(e)}let _=await Promise.allSettled(c);await (0,l.wY)();let u=[];for(let e of _)"fulfilled"===e.status&&e.value&&u.push(...e.value);return u}async function h({selectedNodes:e,abortSignal:t}){if(t.aborted)return Promise.resolve({customRuleResults:[],violatingDevIds:[]});let i=await m(e),s=new Set,n=[],o=(0,a.UN)();return i.forEach(e=>{let t=o.get(e.guid);if(!t)return;s.add(t.developerFriendlyId);let i={explanation:e.explanation,pluginId:e.pluginId,rule:e.rule,payload:e.payload},a=new c.U({ruleId:u.C.EXTENSIBILITY_RULE,detectionContext:i,nodeType:t.type,developerId:t.developerFriendlyId}),r={rule:e.rule,pluginId:e.pluginId};e.payload&&(r.payload=e.payload);let l={ruleId:u.C.EXTENSIBILITY_RULE,valid:!0,fixContext:r};n.push({guid:e.guid,violation:a,fix:l})}),{customRuleResults:n,violatingDevIds:Array.from(s)}}async function p({violations:e}){let t=e[0];if(0===e.length||!t)return[];let i=t.detectionContext.pluginId,a=s.zl.get(d.d$),c=a?.get(i);if(!c)throw Error(`Plugin ${i} not found`);let u=s.zl.get(n.ze);if(!u)throw Error("No open file key found");let m=[];try{await r.R0.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:c,command:"fix",queryMode:!1,runMode:"lint",triggeredFrom:"design-linter",openFileKey:u,deferRunEvent:!0,isWidget:!1},async onStart(){let t=!0;for(let i of e){let e=(0,_.vc)(i.developerId);if(!e)continue;let a=await (0,o.UE)(3e3,{nodeId:e,rule:i.detectionContext.rule.key});if(!a.didRun){console.warn("linting timed out after 3 seconds for node",e),t=!1;continue}(await a.returnValue).success?m.push(i):t=!1}return t}})}catch(e){console.error("Error running plugin fix",e)}return await (0,l.wY)(),m}},47336(e,t,i){i.d(t,{I:()=>r,c:()=>o});var a=i(759231),s=i(73593),n=i(564551);let o=(0,s.nh)(()=>{let e="loaded"===a.zl.get(n.v4).status,t="loaded"===a.zl.get(n.jq).status,i=a.zl.get(n.Ut);return e&&t&&!!i});function r(){let e=a.zl.get(n.Z4),t=a.zl.get(n.d$);return!!e&&!!t}},100311(e,t,i){i.d(t,{F7:()=>n,It:()=>o,eU:()=>a,yU:()=>s});class a extends Error{constructor(){super(),this.name="LinterAbortedError"}}class s extends Error{}class n extends Error{}class o extends Error{}},106150(e,t,i){i.d(t,{O:()=>c});var a=i(759231),s=i(74372),n=i(355373),o=i(100311),r=i(321448),l=i(564551),d=i(303743);class c{constructor(e){this._fixRequestStack=new r.H,this._currentlyProcessingItemIds=new Set,this._BATCH_SIZE=5,this._intervalId=null,this._abortSignal=null,this._groupKeyToFixPromiseMap=new Map,this._ruleManager=e}get groupKeyToFixPromiseMap(){return this._groupKeyToFixPromiseMap}setAbortSignal(e){this._abortSignal=e}startProcessingInterval(){this._intervalId||(this._intervalId=setInterval(()=>this.processFixBatch(),100))}maybeStopProcessingInterval(){this._intervalId&&0===this._fixRequestStack.length&&0===this._currentlyProcessingItemIds.size&&(clearInterval(this._intervalId),this._intervalId=null)}enqueueFetchRequest(e){if(this.hasLinterAborted())return Promise.reject(new o.eU);let t=this._groupKeyToFixPromiseMap.get(e.groupKey);if(t)return this.moveGroupKeyToTopOfStack(e.groupKey),t;let i=a.zl.get(l.VG).get(e.groupKey);if(i?.status==="loaded"&&i?.fix){let t=Promise.resolve(i.fix);return this._groupKeyToFixPromiseMap.set(e.groupKey,t),t}let n=new Promise((t,i)=>{this.updateFixesCache(e.groupKey,null,"loading");let a={violation:e,resolve:t,reject:i,id:(0,s.g)()};this._fixRequestStack.push(a),this.startProcessingInterval()});return this._groupKeyToFixPromiseMap.set(e.groupKey,n),n}addPrecomputedFix(e,t){this.updateFixesCache(t,e,"loaded")}processFixBatch(){if(this.hasLinterAborted())return void this.teardownFixWorker();let e=this._currentlyProcessingItemIds.size,t=this._BATCH_SIZE-e;if(t<=0)return;let i=0;for(;i<t&&this._fixRequestStack.length>0;){if(this.hasLinterAborted())return void this.teardownFixWorker();let e=this._fixRequestStack.pop();e&&(a.zl.get(l.VA).has(e.violation.violationId)?(i++,this.processFixRequest(e)):e.reject(Error("Violation is no longer active")))}this.maybeStopProcessingInterval()}hasLinterAborted(){return this._abortSignal?.aborted??!0}async processFixRequest(e){try{this._currentlyProcessingItemIds.add(e.id);let t=await this.getFixForViolation(e.violation);if(this.hasLinterAborted())return;this.updateFixesCache(e.violation.groupKey,t,"loaded"),e.resolve(t)}catch(t){this.updateFixesCache(e.violation.groupKey,null,"error"),e.reject(t)}finally{this._currentlyProcessingItemIds.delete(e.id)}}updateFixesCache(e,t,i){let s=new Map(a.zl.get(l.VG));s.set(e,{fix:t,status:i}),a.zl.set(l.VG,s)}async getFixForViolation(e){let{ruleId:t,groupKey:i,developerId:s}=e,o=this._ruleManager.getRuleById(t);if(!o)throw Error("Rule not found for violation");let r=(0,d.Qb)(s);if(!r)throw Error("Node not found for violation");let c=a.zl.get(l.VG).get(i);if(c?.status==="loaded"&&c?.fix)return c.fix;let _=await o.getFix(r,e.detectionContext,(0,n.hf)());if(!_||!_.valid)throw Error("Fix should not be undefined or invalid");return _}removePromisesForViolations(e){e.forEach(e=>{this._groupKeyToFixPromiseMap.delete(e.groupKey)})}teardownFixWorker(){this._fixRequestStack.clear().forEach(e=>{e.reject(Error("Fix request stack cleared"))}),this._currentlyProcessingItemIds.clear(),this._groupKeyToFixPromiseMap.clear(),this.maybeStopProcessingInterval()}moveGroupKeyToTopOfStack(e){this._fixRequestStack.moveToTop(e)}}},645735(e,t,i){i.d(t,{R:()=>u});var a=i(466082),s=i(759231),n=i(74372),o=i(564551),r=i(35104);class l{constructor(){this._groupIdToGroup=new Map,this._violatingNodeIdToGroupIdSet=new Map,this._rootNodeIdToGroupIdSet=new Map,this._similarityGroupIdSet=new Set,this._currentViolatingDevIds=new Set,this._visualGroupHashToGroupId=new Map,this._groupIdToGroup=new Map,this._violatingNodeIdToGroupIdSet=new Map,this._rootNodeIdToGroupIdSet=new Map,this._similarityGroupIdSet=new Set,this._visualGroupHashToGroupId=new Map}get groupIdToGroup(){return this._groupIdToGroup}get violatingNodeIdToGroupIdSet(){return this._violatingNodeIdToGroupIdSet}get rootNodeIdToGroupIdSet(){return this._rootNodeIdToGroupIdSet}get similarityGroupIdSet(){return this._similarityGroupIdSet}set currentViolatingNodeIds(e){this._currentViolatingDevIds=e}get currentViolatingNodeIds(){return this._currentViolatingDevIds}resetState(){this._groupIdToGroup=new Map,this._violatingNodeIdToGroupIdSet=new Map,this._rootNodeIdToGroupIdSet=new Map,this._similarityGroupIdSet.clear(),this._currentViolatingDevIds.clear(),this._visualGroupHashToGroupId.clear()}updateVisualGroupsMapAtom(){let e=new Map,t=new Set;for(let e of this._currentViolatingDevIds){let i=this._violatingNodeIdToGroupIdSet.get(e);if(i)for(let e of i)t.add(e)}for(let i of t){let t=this._groupIdToGroup.get(i);t&&e.set(i,t)}s.zl.set(o.Iy,e)}mapViolatingNodeIdAndRootIdsInGroup(e,t,i){e.violatingNodeDevIdToRootNodeDevId.set(t,i),d(e.rootNodeDevIdToViolatingNodeDevIdSet,i).add(t),e.violatingNodeCountAtCreation+=1;let a=e.rootNodeDevIdToViolatingNodeCountAtCreation.get(i)||0;e.rootNodeDevIdToViolatingNodeCountAtCreation.set(i,a+1)}detachNodeFromRoot(e,t,i){let a=e.rootNodeDevIdToViolatingNodeDevIdSet.get(i);a&&(a.delete(t),0===a.size&&(e.rootNodeDevIdToViolatingNodeDevIdSet.delete(i),this._rootNodeIdToGroupIdSet.get(i)?.delete(e.id),this._rootNodeIdToGroupIdSet.get(i)?.size===0&&this._rootNodeIdToGroupIdSet.delete(i)))}terminateGroup(e){let t=this._groupIdToGroup.get(e);if(t){for(let i of t.rootNodeDevIdToViolatingNodeDevIdSet.keys()){let t=this._rootNodeIdToGroupIdSet.get(i);t?.delete(e),t?.size===0&&this._rootNodeIdToGroupIdSet.delete(i)}for(let i of t.violatingNodeDevIdToRootNodeDevId.keys()){let t=this._violatingNodeIdToGroupIdSet.get(i);t?.delete(e),t?.size===0&&this._violatingNodeIdToGroupIdSet.delete(i)}"SIMILARITY"===t.type&&void 0!==t.visualGroupHash&&this._visualGroupHashToGroupId.delete(t.visualGroupHash),this._groupIdToGroup.delete(e),this._similarityGroupIdSet.delete(e)}}pruneEmptyGroups(e){for(let t of e){let e=this._groupIdToGroup.get(t);if(!e)continue;let i=0===e.violatingNodeDevIdToRootNodeDevId.size,a=0===e.rootNodeDevIdToViolatingNodeDevIdSet.size;(i||a)&&this.terminateGroup(t)}}removeViolatingNodeIdFromGroup(e,t){let i=this._groupIdToGroup.get(t);if(!i)return!1;let a=i.violatingNodeDevIdToRootNodeDevId.get(e);return a&&this.detachNodeFromRoot(i,e,a),i.violatingNodeDevIdToRootNodeDevId.delete(e),this._violatingNodeIdToGroupIdSet.get(e)?.delete(t),this._violatingNodeIdToGroupIdSet.get(e)?.size===0&&this._violatingNodeIdToGroupIdSet.delete(e),!0}removeNodeIdsFromAllGroups({violatingDevIds:e}){if(0===e.length)return;let t=new Set;for(let i of e){let e=this._violatingNodeIdToGroupIdSet.get(i);if(e)for(let a of e)t.add(a),this.removeViolatingNodeIdFromGroup(i,a)}this.pruneEmptyGroups(Array.from(t)),this.updateVisualGroupsMapAtom()}addViolatingNodeIdToExistingGroup({violatingDevId:e,rootDevId:t,groupId:i}){if(!e||!t||!i)return!1;let a=this._groupIdToGroup.get(i);return!!a&&(this.mapViolatingNodeIdAndRootIdsInGroup(a,e,t),d(this._violatingNodeIdToGroupIdSet,e).add(i),d(this._rootNodeIdToGroupIdSet,t).add(i),!0)}createNewGroup({rootDevId:e,violatingDevId:t,type:i,visualGroupHash:a}){if(!e||!t)return null;let s=(0,n.g)(),o={id:s,rootNodeDevIdToViolatingNodeDevIdSet:new Map([[e,new Set([t])]]),violatingNodeDevIdToRootNodeDevId:new Map([[t,e]]),type:i,violatingNodeCountAtCreation:1,rootNodeDevIdToViolatingNodeCountAtCreation:new Map([[e,1]]),visualGroupHash:a};return d(this._violatingNodeIdToGroupIdSet,t).add(s),d(this._rootNodeIdToGroupIdSet,e).add(s),this._groupIdToGroup.set(o.id,o),"SIMILARITY"===i&&(this._similarityGroupIdSet.add(o.id),void 0!==a&&this._visualGroupHashToGroupId.set(a,s)),s}updateOrCreateSimilarityGroup({violatingDevId:e,rootDevId:t,visualGroupHash:i}){let a=this._visualGroupHashToGroupId.get(i);if(a){let i=this._groupIdToGroup.get(a);if(i&&"SIMILARITY"===i.type)return this.addViolatingNodeIdToExistingGroup({violatingDevId:e,rootDevId:t,groupId:a}),a}return this.createNewGroup({rootDevId:t,violatingDevId:e,type:"SIMILARITY",visualGroupHash:i})}updateAncestryGroup({violatingDevId:e,rootDevId:t}){let i=this._rootNodeIdToGroupIdSet.get(t);if(i)for(let a of i){let i=this._groupIdToGroup.get(a);if(i&&"ANCESTRY"===i.type)return this.addViolatingNodeIdToExistingGroup({violatingDevId:e,rootDevId:t,groupId:a}),a}return null}updateOrCreateAncestryGroup({violatingDevId:e,rootDevId:t}){let i=this.updateAncestryGroup({violatingDevId:e,rootDevId:t});return i||this.createNewGroup({rootDevId:t,violatingDevId:e,type:"ANCESTRY"})}isInASimilarityGroup(e){let t=this._violatingNodeIdToGroupIdSet.get(e);if(!t||0===t.size)return!1;for(let e of t){let t=this._groupIdToGroup.get(e);if(t?.type==="SIMILARITY")return!0}return!1}isEligibleNodeType(e){return!e.isInstanceSublayer&&(0,r.xi)(e.type)}getDebugInfo(){return{_groupIdToGroup:Array.from(this._groupIdToGroup.entries()).map(([e,t])=>[e,{...t,rootNodeIdToViolatingNodeIdSet:Array.from(t.rootNodeDevIdToViolatingNodeDevIdSet.entries()).map(([e,t])=>[e,Array.from(t)]),violatingNodeIdToRootNodeId:Array.from(t.violatingNodeDevIdToRootNodeDevId.entries()),rootNodeIdToViolatingNodeIdCountAtCreation:Array.from(t.rootNodeDevIdToViolatingNodeCountAtCreation.entries())}]),_violatingDevIdToGroupIdSet:Array.from(this._violatingNodeIdToGroupIdSet.entries()).map(([e,t])=>[e,Array.from(t)]),_rootDevIdToGroupId:Array.from(this._rootNodeIdToGroupIdSet.entries()).map(([e,t])=>[e,Array.from(t)]),_lintingTargetIds:Array.from(s.zl.get(o.yZ)),_similarityGroupIdSet:Array.from(this._similarityGroupIdSet),_visualGroupHashToGroupId:Array.from(this._visualGroupHashToGroupId.entries())}}}function d(e,t){return e.has(t)||e.set(t,new Set),e.get(t)}var c=i(277118),_=i(582625);class u{constructor(){this._groupState=new l,this._abortSignal=null,this.resetInternalState()}createGroupCompositeKey(e,t){let i=t?Object.keys(t).sort().reduce((e,i)=>{let a=t[i];return void 0!==a&&(e[i]=a),e},{}):{};return`${e}:${JSON.stringify(i)}`}hasLinterAborted(){return this._abortSignal?.aborted??!0}setAbortSignal(e){this._abortSignal=e}resetInternalAtomState(){s.zl.set(o.Iy,new Map)}resetInternalState(){this._groupState.currentViolatingNodeIds=new Set,this._groupState.resetState()}resetState(){this.resetInternalState(),this.resetInternalAtomState()}invalidateGroupsForNodeIds(e){this._groupState.removeNodeIdsFromAllGroups({violatingDevIds:e})}createInitialVisualGroups(e){if(this.hasLinterAborted())throw s.zl.set(o.u2,_.td.IDLE),Error("Linter aborted");if(!e.length)return this._groupState;let t=s.zl.get(o.yZ);if(0===t.size)throw Error("No linting target IDs found");try{this._groupState.currentViolatingNodeIds=new Set(e);let i=new Set(e),s=new Map,n=new Map,o=new Map,r=(0,a.UN)();for(let i of e){let e=r.getFromDeveloperFriendlyId(i),a=s.get(i);for(a||(a=[],s.set(i,a));e;){if(this._groupState.isEligibleNodeType(e)){let t=e.developerFriendlyId;a.push(t);let i=e.visualGroupHash;n.has(i)||n.set(i,new Set),n.get(i).add(t)}if(t.has(e.developerFriendlyId)){if(a.length>0){let e=a.length-1,t=a[e];t&&(o.has(e)||o.set(e,[]),o.get(e).push({violatingDevId:i,rootDevId:t}))}break}e=e.parentNode}}for(let e of this.findSimilarityGroups(s,n))i.delete(e);let l=Array.from(o.keys()).sort((e,t)=>t-e);for(let e of l)for(let{violatingDevId:t,rootDevId:a}of o.get(e)){if(this._groupState.isInASimilarityGroup(t)){i.delete(t);continue}this._groupState.updateOrCreateAncestryGroup({violatingDevId:t,rootDevId:a})&&i.delete(t)}for(let e of l)for(let{violatingDevId:t,rootDevId:a}of o.get(e))this._groupState.updateAncestryGroup({violatingDevId:t,rootDevId:a})&&i.delete(t);for(let e of i)this._groupState.createNewGroup({rootDevId:e,violatingDevId:e,type:"ANCESTRY"});return this._groupState}catch(e){throw console.error("Error creating initial visual groups"),e}finally{this._groupState.updateVisualGroupsMapAtom()}}findSimilarityGroups(e,t){let i=new Set,s=(0,a.UN)(),n=new Map;for(let i of this._groupState.currentViolatingNodeIds){if(this._groupState.isInASimilarityGroup(i))continue;let a=e.get(i)??[];if(0!==a.length)for(let e=a.length-1;e>=0;e--){let o=a[e];if(!o)continue;let r=s.getFromDeveloperFriendlyId(o);if(!r)continue;let l=r.visualGroupHash,d=(0,c.D9)(r),_=t.get(l);if(_&&_.size>1){let e=this.createGroupCompositeKey(l,d);n.has(e)||n.set(e,{nodes:[],uniqueRoots:new Set,modeContext:d,visualGroupHash:l});let t=n.get(e);t.nodes.push({violatingDevId:i,rootDevId:o}),t.uniqueRoots.add(o);break}}}for(let{nodes:e,uniqueRoots:t,visualGroupHash:a}of n.values())if(t.size>1)for(let{violatingDevId:t,rootDevId:s}of e)this._groupState.updateOrCreateSimilarityGroup({violatingDevId:t,rootDevId:s,visualGroupHash:a})&&i.add(t);return i}getDebugInfo(){return{_groupState:this._groupState.getDebugInfo(),_lintingTargetIds:Array.from(s.zl.get(o.yZ))}}}},480581(e,t,i){i.d(t,{B:()=>o});var a=i(759231),s=i(564551),n=i(582625);class o{constructor(){this.nodeChanges=new Map,this.debounceTimeoutId=null,this.responsivenessTriggerCallback=null,this.abortSignal=null}initialize(e){this.responsivenessTriggerCallback=e}setAbortSignal(e){this.abortSignal=e}onNodeCreated(e){this.isAborted()||(this.nodeChanges.set(e,0),this.scheduleProcessing())}onNodeDeleted(e){this.isAborted()||(this.nodeChanges.set(e,2),this.scheduleProcessing())}onNodeUpdate(e){this.isAborted()||(this.nodeChanges.set(e,1),this.scheduleProcessing())}onLinterDependencyChange(){for(let e of a.zl.get(s.yZ))this.onNodeUpdate(e)}scheduleProcessing(){this.isAborted()||(null!=this.debounceTimeoutId&&clearTimeout(this.debounceTimeoutId),this.debounceTimeoutId=setTimeout(()=>{this.processAccumulatedChanges()},100))}isAborted(){return this.abortSignal?.aborted??!1}hasChanges(){return this.nodeChanges.size>0}processAccumulatedChanges(){if(this.isAborted())return void this.reset();if(a.zl.get(s.u2)!==n.td.GROUPING_COMPLETE){this.debounceTimeoutId=setTimeout(()=>{this.processAccumulatedChanges()},100);return}this.triggerResponsivenessUpdate()}triggerResponsivenessUpdate(){if(!this.responsivenessTriggerCallback||!this.hasChanges())return void this.reset();let e=[],t=[],i=[];for(let[a,s]of this.nodeChanges.entries()){if(2===s){t.push(a);continue}1===s&&e.push(a),0===s&&i.push(a)}this.reset(),this.responsivenessTriggerCallback({createdDevIds:i,devIdsToUpdate:e,devIdsRemoved:t})}reset(){this.nodeChanges.clear(),null!==this.debounceTimeoutId&&(clearTimeout(this.debounceTimeoutId),this.debounceTimeoutId=null)}getDebugInfo(){return{nodeChanges:Object.fromEntries(this.nodeChanges),debounceTimeoutId:this.debounceTimeoutId,hasCallback:!!this.responsivenessTriggerCallback,isAborted:this.isAborted()}}}},669859(e,t,i){i.d(t,{g:()=>p});var a=i(818465),s=i(799908),n=i(983957),o=i(688724),r=i(779946),l=i(494315),d=i(407633),c=i(750864),_=i(36225),u=i(256623),m=i(386283);let h=Object.values({[n.C.REQUIRE_FILL_COLOR_VARIABLES]:r.Ty,[n.C.REQUIRE_STROKE_COLOR_VARIABLES]:l.X5,[n.C.REQUIRE_ASSETS_FROM_SELECTED_LIBRARIES]:a.Tr,[n.C.REQUIRE_TEXT_STYLES]:o.tb,[n.C.REQUIRE_CORNER_RADIUS_VARIABLES]:d.bT,[n.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES]:_.Rn,[n.C.REQUIRE_VERTICAL_SPACING_VARIABLES]:u.lS,[n.C.REQUIRE_PADDING_VARIABLES]:c.R7,[n.C.TEXT_BACKGROUND_CONTRAST_AA]:m.S,[n.C.EXTENSIBILITY_RULE]:s.Q});class p{constructor(){this.ruleIdToEnabledRule={},this.refreshEnabledRules()}refreshEnabledRules(){this.ruleIdToEnabledRule=Object.fromEntries(h.filter(e=>e.enabled()).map(e=>[e.id,e]))}getRuleIdToEnabledRule(){return this.ruleIdToEnabledRule}getEnabledRules(){return Object.values(this.getRuleIdToEnabledRule())}getRuleById(e){return this.getRuleIdToEnabledRule()[e]||null}}},109065(e,t,i){i.d(t,{p:()=>d});var a=i(270307),s=i(270450),n=i(759231),o=i(91173),r=i(564551),l=i(582625);class d{constructor(){this.abortController=new AbortController}get linterAbortController(){return this.abortController}get hasAborted(){return!!this.linterAbortController.signal.aborted}resetLinterAbortController(){return this.abortController.abort(),this.abortController=new AbortController,this.abortController}getStatus(){return n.zl.get(r.u2)}setStatus(e){let t,i,a,s=this.getStatus();n.zl.set(r.u2,e),t=performance.now(),i=n.zl.get(o.Av),a=[...n.zl.get(o.L2)],i&&a.push({status:s,duration:t-i}),n.zl.set(o.L2,a),n.zl.set(o.Av,t)}setDetectionOutcome(e){n.zl.set(r.Xy,e)}isLinterDetecting(){return this.getStatus()===l.td.DETECTING}addNewViolations(e){let t=new Map(n.zl.get(r.m7)),i=new Set(n.zl.get(r.VA));for(let a of e){let e=t.get(a.developerId)?.get(a.ruleId);if(e)e.push(a);else{let e=t.get(a.developerId)??new Map;e.set(a.ruleId,[a]),t.set(a.developerId,e)}i.add(a.violationId)}n.zl.set(r.m7,t),n.zl.set(r.VA,i)}isViolationIgnored(e){return n.zl.get(r.F9).has(e.violationId)}isViolationActive(e){return n.zl.get(r.VA).has(e.violationId)}isViolationFixed(e){return n.zl.get(r.XC).has(e.violationId)}processFixedViolations(e){let t=new Map(n.zl.get(r.m7)),i=new Set(n.zl.get(r.VA)),a=new Set(n.zl.get(r.XC)),s=new Set(n.zl.get(r.ju)),o=[];for(let n of e){let{ruleId:e,violationId:r,developerId:l}=n;i.delete(r),a.add(r),s.add(r);let d=t.get(l);if(d){for(let[t,i]of d){if(t!==e)continue;let a=i.findIndex(e=>e.violationId===r);-1!==a&&i.splice(a,1)}d.get(e)?.length===0&&d.delete(e),Array.from(d.values()).some(e=>{for(let t of e)if(i.has(t.violationId))return!0;return!1})?t.set(l,new Map(d)):(t.delete(l),o.push(l))}}return n.zl.set(r.XC,a),n.zl.set(r.VA,i),n.zl.set(r.m7,t),n.zl.set(r.ju,s),o}processObservedViolations(e,t,i){let a=n.zl.get(r.m7),o=n.zl.get(r.VA),l=n.zl.get(r.XC),d=n.zl.get(r.F9),c=new Set(t),_=this._createEmptyDiff();for(let[t,i]of this._groupViolationsByDevIdAndRuleId(e).entries()){let s=e.find(e=>e.developerId===t);s&&c.delete(s.developerId);let n=this._getViolationsDiffForDevId(t,i,a);this._mergeDiffs(_,n)}let u=this._removeViolationsForCleanNodes(c,a);this._mergeDiffs(_,u);let m=this._removeViolationsForDeletedNodes(i,a);return(this._mergeDiffs(_,m),(0,s.getFeatureFlags)().aip_flower_garden_full_responsiveness)?(this._applyDiffToLinterState(_,a,o,l,d),{cleanNodeIds:Array.from(c),newViolations:_.newViolations}):(this._applyDiffToResponsivenessCheckpoint(_,t,i),{cleanNodeIds:[],newViolations:[]})}_createEmptyDiff(){return{deletedViolations:[],newViolations:[]}}_mergeDiffs(e,t){e.deletedViolations.push(...t.deletedViolations),e.newViolations.push(...t.newViolations)}_applyDiffToResponsivenessCheckpoint(e,t,i){let a=new Set(n.zl.get(r.wU));for(let e of t)a.delete(e);for(let e of i)a.delete(e);for(let t of e.newViolations)a.add(t.developerId);for(let t of e.deletedViolations)a.add(t.developerId);n.zl.set(r.wU,a)}_applyDiffToLinterState(e,t,i,a,s){let o=new Map(t),l=new Set(i),d=new Set(a),c=new Set(s);for(let t of e.deletedViolations){let{violationId:e,developerId:i,ruleId:a}=t;l.delete(e),d.delete(e),c.delete(e);let s=o.get(i);if(s){let t=s.get(a);if(t){let i=t.findIndex(t=>t.violationId===e);-1!==i&&t.splice(i,1),0===t.length&&s.delete(a)}0===s.size&&o.delete(i)}}for(let t of e.newViolations){let{violationId:e,developerId:i,ruleId:a}=t;l.add(e),o.has(i)||o.set(i,new Map);let s=o.get(i);s.has(a)||s.set(a,[]),s.get(a).push(t)}n.zl.set(r.m7,o),n.zl.set(r.VA,l),n.zl.set(r.XC,d),n.zl.set(r.F9,c)}_groupViolationsByDevIdAndRuleId(e){return e.reduce((e,t)=>{if(this.isViolationIgnored(t))return e;e.has(t.developerId)||e.set(t.developerId,new Map);let i=e.get(t.developerId);return i.has(t.ruleId)||i.set(t.ruleId,[]),i.get(t.ruleId)?.push(t),e},new Map)}_getViolationsDiffForDevId(e,t,i){let a=this._createEmptyDiff(),s=i.get(e);if(!s)return Array.from(t.values()).forEach(e=>e.forEach(e=>{a.newViolations.push(e)})),a;let n=new Set(t.keys()),o=this._getViolationsDiffForExistingRules(s,t,n);this._mergeDiffs(a,o);let r=this._getViolationsDiffForNewRules(n,t);return this._mergeDiffs(a,r),a}_getViolationsDiffForExistingRules(e,t,i){let s=this._createEmptyDiff(),n=new Map(e);for(let[o,r]of e.entries()){if(!t.has(o)){for(let e of(n.delete(o),r))s.deletedViolations.push(e);i.delete(o);continue}let e=t.get(o)??[],l=new Set,d=[];for(let t of r){let i=!1;for(let s=0;s<e.length;s++){if(l.has(s))continue;let n=e[s];if((0,a.c2)(t.detectionContext,n.detectionContext)){d.push(t),l.add(s),i=!0;break}}i||s.deletedViolations.push(t)}for(let t=0;t<e.length;t++){if(l.has(t))continue;let i=e[t];d.push(i),s.newViolations.push(i)}d.length>0?n.set(o,d):n.delete(o),i.delete(o)}return s}_getViolationsDiffForNewRules(e,t){let i=this._createEmptyDiff();if(0===e.size)return i;for(let a of e)for(let e of t.get(a))i.newViolations.push(e);return i}_removeViolationsForCleanNodes(e,t){let i=this._createEmptyDiff();for(let a of e){let e=t.get(a);if(e)for(let t of e.values())for(let e of t)i.deletedViolations.push(e)}return i}_removeViolationsForDeletedNodes(e,t){let i=this._createEmptyDiff();for(let a of e){let e=t.get(a);if(e)for(let t of e.values())for(let e of t)i.deletedViolations.push(e)}return i}ignoreViolationsForDevIdsWithGroupKey(e,t){let i=n.zl.get(r.m7),a=new Set(n.zl.get(r.F9)),s=new Set(n.zl.get(r.VA)),o=[];for(let n of e){if(!i.get(n))continue;let e=!0,r=!1;for(let o of i.values())for(let i of o.values())for(let o of i)o.developerId===n&&(r=!0,o.groupKey===t?(s.delete(o.violationId),a.add(o.violationId)):s.has(o.violationId)&&(e=!1));r&&e&&o.push(n)}return n.zl.set(r.F9,a),n.zl.set(r.VA,s),o}ignoreViolationIds(e){let t=new Set(n.zl.get(r.F9)),i=new Set(n.zl.get(r.VA)),a=new Map(n.zl.get(r.m7)),s=[];for(let n of e)for(let[e,o]of(t.add(n),i.delete(n),a.entries()))for(let[t,i]of o.entries()){let r=i.findIndex(e=>e.violationId===n);if(-1!==r){let n=i[r];i.splice(r,1),0===i.length&&o.delete(t),0===o.size&&(a.delete(e),s.push(n.developerId))}}return n.zl.set(r.F9,t),n.zl.set(r.VA,i),n.zl.set(r.m7,a),s}resetViolationsState(){n.zl.set(r.m7,new Map),n.zl.set(r.VA,new Set),n.zl.set(r.XC,new Set),n.zl.set(r.F9,new Set)}}},431905(e,t,i){i.d(t,{U:()=>d});var a=i(836848),s=i(74372),n=i(494432),o=i(35104),r=i(983957),l=i(142183);class d{constructor({ruleId:e,detectionContext:t,nodeType:i,developerId:a}){this.ruleId=e,this.detectionContext=t,this.nodeType=i,this.violationId=(0,s.g)(),this.developerId=a;const n=this.detectionContext?this.buildGroupKeyComponents():this.ruleId;this._groupKey=this.hashString(n)}hashString(e){let t=0x811c9dc5;for(let i=0;i<e.length;i++)t^=e.charCodeAt(i),t=Math.imul(t,0x1000193);return(t>>>0).toString(16).padStart(8,"0")}joinKeyParts(e){return e.map(e=>"number"==typeof e?e.toString():e).filter(Boolean).join("-")}getModeContextString(e){return e&&0!==Object.keys(e).length?Object.entries(e).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>`${e}:${t}`).join(","):""}get groupKey(){return this._groupKey}buildGroupKeyComponents(){let{ruleId:e}=this;switch(e){case r.C.REQUIRE_FILL_COLOR_VARIABLES:case r.C.REQUIRE_STROKE_COLOR_VARIABLES:return this.buildColorRuleKeyComponents(e,this.detectionContext);case r.C.REQUIRE_TEXT_STYLES:return this.buildTextStyleKeyComponents(this.detectionContext);case r.C.REQUIRE_CORNER_RADIUS_VARIABLES:case r.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES:case r.C.REQUIRE_VERTICAL_SPACING_VARIABLES:case r.C.REQUIRE_PADDING_VARIABLES:return this.buildNumberRuleKeyComponents(e,this.detectionContext);case r.C.TEXT_BACKGROUND_CONTRAST_AA:return this.buildContrastKeyComponents(e,this.detectionContext);case r.C.REQUIRE_ASSETS_FROM_SELECTED_LIBRARIES:return this.buildLibraryMatchKeyComponents(e,this.detectionContext);case r.C.EXTENSIBILITY_RULE:return this.buildExtensibilityKeyComponents(e,this.detectionContext);default:return(0,a.xb)(e)}}normalizeNodeTypeForColorRules(){return"TEXT"===this.nodeType?this.nodeType:(0,o.xi)(this.nodeType)?"FRAME":"SHAPE"}buildColorRuleKeyComponents(e,t){let{color:i,opacity:a,modeContext:s}=t,o=this.normalizeNodeTypeForColorRules(),r=this.getModeContextString(s);return this.joinKeyParts([e,o,(0,n.colorToHex)(i),a,r||null])}buildTextStyleKeyComponents(e){let{fontFamily:t,fontSize:i,lineHeight:a,modeContext:s}=e,n=this.getModeContextString(s);return this.joinKeyParts([r.C.REQUIRE_TEXT_STYLES,t,i,a,n||null])}buildNumberRuleKeyComponents(e,t){let{numericValue:i,modeContext:a}=t,s=this.getModeContextString(a);return this.joinKeyParts([e,i,s||null])}buildContrastKeyComponents(e,t){let{fillColor:i,fillOpacity:a,backgroundColor:s,modeContext:o}=t,r=this.getModeContextString(o);return this.joinKeyParts([e,(0,n.colorToHex)(i),a,(0,n.colorToHex)(s),r||null])}buildLibraryMatchKeyComponents(e,t){let{assetId:i,libraryKey:a,assetType:s,modeContext:n}=t,o=l.p2.includes(s)?this.normalizeNodeTypeForColorRules():"",r=this.normalizeAssetType(s),d=this.getModeContextString(n);return this.joinKeyParts([e,a,o,r,i,d||null])}buildExtensibilityKeyComponents(e,t){let{pluginId:i,rule:a}=t;return this.joinKeyParts([e,i,a.key])}normalizeAssetType(e){return["RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS","RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS"].includes(e)?"CORNER_RADIUS":["STACK_PADDING_TOP","STACK_PADDING_BOTTOM","STACK_PADDING_LEFT","STACK_PADDING_RIGHT"].includes(e)?"STACK_PADDING":["STACK_SPACING_HORIZONTAL","GRID_COLUMN_GAP"].includes(e)?"SPACING_HORIZONTAL":["STACK_SPACING_VERTICAL","GRID_ROW_GAP"].includes(e)?"SPACING_VERTICAL":e}}},839586(e,t,i){i.d(t,{E:()=>l,Y:()=>c});var a=i(263740),s=i(429445),n=i(153745),o=i(38485);let r="__figma.embed.test.cookie__";function l(){try{s.A.set(r,"enabled",{sameSite:"None",secure:!0});let e="enabled"===s.A.get(r);return s.A.remove(r,{sameSite:"None",secure:!0}),e}catch(e){return!1}}let d=null;function c(){return d||(d=_()),d}async function _(){try{if(!(0,o.l7)()&&!(0,o.ih)())return void(0,n.ED)("[rehydrateStorageAccessIfNeeded]","Not an embed. Skip.");if(!document.requestStorageAccess)return void(0,n.ED)("[rehydrateStorageAccessIfNeeded]","Storage Access API is not available. Give up.");if(l())return void(0,n.ED)("[rehydrateStorageAccessIfNeeded]","Cookies are already accessible. No need to rehydrate storage access.");if(a.A.chrome||a.A.firefox){let e=await document.hasStorageAccess();(0,n.ED)("[rehydrateStorageAccessIfNeeded]","Checking document.hasStorageAccess()",{hasStorageAccess:e});let{state:t}=await navigator.permissions.query({name:"storage-access"}),i="granted"===t;(0,n.ED)("[rehydrateStorageAccessIfNeeded]",'Checking navigator.permissions.query({ name: "storage-access" })',{storageAccessGranted:i}),(i||e)&&i!==e&&((0,n.ED)("[rehydrateStorageAccessIfNeeded]","Conflicting storage access state. Rehydrating.",{storageAccessGranted:i,hasStorageAccess:e}),await document.requestStorageAccess().catch(e=>{(0,n.ED)("[rehydrateStorageAccessIfNeeded]","Error rehydrating storage access",{error:e})}))}}catch(e){(0,n.ED)("[rehydrateStorageAccessIfNeeded]","Error checking storage access. Give up.",{error:e})}}},429919(e,t,i){i.d(t,{AH:()=>u,jY:()=>_}),i(295870),i(898860);var a=i(297746);i(147318);var s=i(359731),n=i(32186),o=i(404999),r=i(650452),l=i(718323),d=i(688537);i(640742);var c=i(841286);function _(e){switch(e){case s.IPZ.SWT_CREATED:return"shapeWithTextCreated";case s.IPZ.SWT_EDITED:return"shapeWithTextEdited";case s.IPZ.SWT_DELETED:return"shapeWithTextDeleted";case s.IPZ.SWT_RESIZED:return"shapeWithTextResized";case s.IPZ.STICKY_EDITED:return"stickyEdited";case s.IPZ.STICKY_DELETED:return"stickyDeleted";case s.IPZ.STICKY_RESIZED:return"stickyResized";case s.IPZ.SCENEGRAPH_UPDATER_PERFORMED_UPDATES:return"scenegraphUpdaterPerformedUpdates"}}i(184634),i(636012);class u{constructor(e,t,i,s=1,o=!1,d=null,_=()=>{},u=null){this._analyticsEventName=e,this._processTimersForLogging=t,this._slowFrameTracker=i,this._timerDepth=s,this._forwardToDatadog=o,this._tsmerMetrics=d,this._customLogMetricsCallbackHistogram=_,this._collectorSlowFrameTracker=u,this._isRecording=!1,this._isCanceled=!1,this._isFirstLogForTab=!0,this._imagesLoadingState=null,this._ongoingSpotlight=!1,this._multiplayerUserCount=1,this._numberOfRenderedCommentsWatermark=0,this._lastRecordedNumberOfRenderedComments=0,this._distributionByWorkName=new Map,this._lastKnownFrameMs=null,this._lastLogTime=null,this._scheduledLogAtMs=null,this._lastRecordedHitCountByName={},this._lastRecordedDurationSinceLastFrame={},this._fileKey=null,this._productType="unknown",this._planTier="unknown",this._gpuDeviceInfo=(0,c.l)(),this._activeNamedEvents=new Set,this._singleFrameNamedEvents=new Set,this._eventTrackers=new Map,this._contextRestoredCount=0,this._maxRenderLayerCount=0,this._maxRenderedTileBytesUsed=0,this._numAnimationsFromCpp=0,this._numAnimationsFromTs=0,this._tileRenderersUsed=new Set,this._currentTileRenderer="",this.scheduleLogTwoMinutesFromNow=()=>{null===this._scheduledLogAtMs&&(this._scheduledLogAtMs=performance.now()+12e4)},this._onDocumentVisibilityChange=()=>{this.handleDocumentVisibilityChange(document.visibilityState)},this.updateLastKnownFrameMs=e=>{this._lastKnownFrameMs=e},this.startRecording=e=>{this._isRecording=!0,this._resetLogState(),this._lastKnownFrameMs=performance.now(),null===this._lastLogTime&&(this._lastLogTime=this._lastKnownFrameMs),e&&this.scheduleLogTwoMinutesFromNow()},this.stopRecordingAndLog=e=>{let t={};return this._distributionByWorkName.forEach((e,i)=>{t[i]=e.toPOJO()}),this._shouldLogToAnalytics()&&(this._logToAnalytics(e),this._resetLogState()),this._isRecording=!1,t},this.setFileInfo=(e,{productType:t,planTier:i})=>{(e!==this._fileKey||t!==this._productType)&&this._resetLogState(),this._fileKey=e,this._productType=t,this._planTier=i},this._startRecordingNamedEvent=e=>{this._activeNamedEvents.add(e)},this.recordSingleFrameNamedEvent=e=>{this._singleFrameNamedEvents.add(e)},this._stopRecordingNamedEvent=e=>{this._activeNamedEvents.delete(e)},this.handleZoomStart=()=>{this._startRecordingNamedEvent("zoomActive")},this.handleZoomStop=()=>{this._stopRecordingNamedEvent("zoomActive")},this.handleScrollEvent=()=>{this.recordSingleFrameNamedEvent("scrollActive")},this.onNodeDragStart=()=>{this._startRecordingNamedEvent("nodeDragActive")},this.onNodeDragEnd=()=>{this._stopRecordingNamedEvent("nodeDragActive")},this.onTileRendererChanged=e=>{this._tileRenderersUsed.add(e),this._currentTileRenderer=e},this.onContextRestored=()=>{this._contextRestoredCount++},this.updateMaxRenderLayerCount=e=>{this._maxRenderLayerCount=Math.max(this._maxRenderLayerCount,e)},this.updateMaxRenderedTileBytesUsed=e=>{this._maxRenderedTileBytesUsed=Math.max(this._maxRenderedTileBytesUsed,e)},this.incrementNumAnimationsFromCpp=()=>{this._numAnimationsFromCpp++},this.incrementNumAnimationsFromTs=()=>{this._numAnimationsFromTs++},this.handleDocumentVisibilityChange=e=>{"hidden"===e&&this._shouldLogToAnalytics()&&(this._logToAnalytics("tab-hidden"),this._resetLogState()),"hidden"!==e&&this._resetLogState()},this._logToAnalytics=(e,t=!1)=>{let i={};i.schema=new r.UP().schema(),i.reason=e,i.isFirstLogAfterLoad=this._isFirstLogForTab,i.imagesLoading="loading"===this._imagesLoadingState,i.multiplayerUserCount=this._multiplayerUserCount,i.ongoingSpotlight=this._ongoingSpotlight,i.fileKey=this._fileKey,i.productType=this._productType,i.planTier=this._planTier,i.refreshRate=this.refreshRate(),i.commentsRenderCount=this._numberOfRenderedCommentsWatermark,i.contextRestoredCount=this._contextRestoredCount,i.maxRenderLayerCount=this._maxRenderLayerCount,i.maxRenderedTileBytesUsed=this._maxRenderedTileBytesUsed,(0,c.q)(this._gpuDeviceInfo,i),i.lastCheckpointSize=a.CeL?.getServerSideLoadTimeMetadata()?.lastCheckpointSize,i.numAnimationsFromCpp=this._numAnimationsFromCpp,i.numAnimationsFromTs=this._numAnimationsFromTs,this._isFirstLogForTab=!1,null!==this._tsmerMetrics&&(i.editFrames=this._tsmerMetrics.editFrameDistribution().toLogParams(),i.editFramesWhileNotPanningOrZooming=this._tsmerMetrics.editFrameDistributionWhileNotPanningOrZooming().toLogParams(),i.remoteFrames=this._tsmerMetrics.remoteFrameDistribution().toLogParams(),i.remoteFramesWhileNotPanningOrZooming=this._tsmerMetrics.remoteFrameDistributionWhileNotPanningOrZooming().toLogParams()),this._customLogMetricsCallbackHistogram(i),i.tileRenderersUsed=JSON.stringify(Array.from(this._tileRenderersUsed)),this._tileRenderersUsed.clear(),this._tileRenderersUsed.add(this._currentTileRenderer),this._distributionByWorkName.forEach((e,t)=>{if(t in i)throw Error(`attempt to track performance for a work item with a reserved name: ${t}`);i[t]=e.toLogParams()}),i.totalBatchTime=performance.now()-this._lastLogTime,this._lastLogTime=performance.now(),i.hasCmsBoundCollections=a.CeL?.getHasCmsBoundCollections(),i.hasCmsBoundFields=a.CeL?.getHasCmsBoundFields(),t?setTimeout(()=>{this._sendLogRequest(i)},0):this._sendLogRequest(i)},this._sendLogRequest=e=>{let t={forwardToDatadog:this._forwardToDatadog,batchRequest:!0};(0,n.sx)(this._analyticsEventName,e,t)},this._processTimerTree=(e,t,i)=>{if(t>=this._timerDepth)return[];let a=[];for(let s of e){let e=[...i,s.name],n=e.join(".");if(!(n in this._lastRecordedHitCountByName)||!(n in this._lastRecordedDurationSinceLastFrame)){this._lastRecordedHitCountByName[n]=s.hitCount,this._lastRecordedDurationSinceLastFrame[n]=s.totalElapsedTime;continue}let o=s.hitCount-this._lastRecordedHitCountByName[n];if(0===o)continue;o>s.elapsedTimes.length&&console.warn(`Logged performance for ${n} too many times in one animation frame`);let r=s.totalElapsedTime-this._lastRecordedDurationSinceLastFrame[n];this._lastRecordedHitCountByName[n]=s.hitCount,this._lastRecordedDurationSinceLastFrame[n]=s.totalElapsedTime,a.push({path:e,elapsedTime:r});let l=t+1;l<this._timerDepth&&s.children.length>0&&(a=a.concat(this._processTimerTree(s.children,l,e)))}return a},this.checkNotVisibleOrRecording=()=>"visible"!==document.visibilityState||!this._isRecording,this.onFrame=()=>{if("ok"!==l.y.getFullscreenCrashState())return"canceled";try{if(this._isCanceled)return"canceled";if(this.checkNotVisibleOrRecording())return"not-recording";let e=performance.now();if(null!=this._lastKnownFrameMs){let t=e-this._lastKnownFrameMs;if(t<6e4){this._getOrCreateDistribution("all").add(t);let{trackersHitThisFrame:e,trackerTotalTimeMs:i}=this.writeEventTrackerDistributions(t);a.glU?.updatePerfMode(e),null!==this._scheduledLogAtMs&&this._slowFrameTracker?.checkSlowFrameAndSample(t,e,i,{fileKey:this._fileKey,productType:this._productType,planTier:this._planTier},this._gpuDeviceInfo)}}if(this._lastKnownFrameMs=e,this.cancelIfTimersOpen())return"canceled";return this.writeAppTimerDistributions(),this._tsmerMetrics?.onFrame(),this.logIfTwoMinutesElapsed(),"success"}finally{this._slowFrameTracker?.clearPerFrameMetricsAndIncrementFrameCounter()}},this.testOnlyGetDistribution=(e="all")=>this._getOrCreateDistribution(e),this.pendingImagesChanged=e=>{if("loaded"===this._imagesLoadingState)return;let t=e>0?"loading":"loaded";t!==this._imagesLoadingState&&("loading"===this._imagesLoadingState&&(this._logToAnalytics("images-loaded"),this._resetLogState()),this._imagesLoadingState=t)},document.addEventListener("mousemove",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("keydown",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchdown",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchstart",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("touchmove",this.scheduleLogTwoMinutesFromNow,!0),document.addEventListener("visibilitychange",this._onDocumentVisibilityChange)}uninstall(){document.removeEventListener("mousemove",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("keydown",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchdown",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchstart",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("touchmove",this.scheduleLogTwoMinutesFromNow,!0),document.removeEventListener("visibilitychange",this._onDocumentVisibilityChange)}hasScheduledLog(){return null!=this._scheduledLogAtMs}_shouldLogToAnalytics(){return this._isRecording&&null!=this._scheduledLogAtMs}productTypeForTests(){return this._productType}_resetLogState(){this._lastKnownFrameMs=null,this._imagesLoadingState=null,this._ongoingSpotlight=!1,this._multiplayerUserCount=1,this._distributionByWorkName=new Map,this._scheduledLogAtMs=null,this._lastRecordedHitCountByName={},this._lastRecordedDurationSinceLastFrame={},this._activeNamedEvents.clear(),this._singleFrameNamedEvents.clear(),this._numberOfRenderedCommentsWatermark=this._lastRecordedNumberOfRenderedComments,this._contextRestoredCount=0,this._maxRenderLayerCount=0,this._maxRenderedTileBytesUsed=0,this._numAnimationsFromCpp=0,this._numAnimationsFromTs=0,this._tsmerMetrics?.resetLogState()}getSlowFrameTracker(){return this._slowFrameTracker}refreshRate(){let e=this._distributionByWorkName.get("all");if(e){let t=e.getMode();if(t){if(t.min<9)return"120FPS";else if(t.min<32)return"60FPS";else if(t.min<48)return"30FPS"}}return"UNKNOWN"}estimatedRefreshRate(){let e=this._distributionByWorkName.get("all");if(e){let t=e.getMode();if(t)if(t.min<9)return{frameLength:1e3/120,fps:120};else{if(t.min<32)return{frameLength:1e3/60,fps:60};t.min}}return{frameLength:1e3/30,fps:30}}tsmerMetrics(){return this._tsmerMetrics}_getOrCreateDistribution(e){let t=this._distributionByWorkName.get(e);return t||(t=new r.UP,this._distributionByWorkName.set(e,t)),t}addEventTracker(e,t){this._eventTrackers.set(e,t)}addTimeEvent(e,t){this._getOrCreateDistribution(e).add(t)}trackCollectorFrameAndSample(e,t){if("ok"!==l.y.getFullscreenCrashState()||this.checkNotVisibleOrRecording()||this._isCanceled)return;let i=this._collectorSlowFrameTracker;e<6e4&&(this._getOrCreateDistribution("app_frame_time_collector").add(e),t?this._getOrCreateDistribution("collector_fullscreen_frame_time").add(e):this._getOrCreateDistribution("collector_fullscreen_idle_frame_time").add(e),i?.checkSlowFrameAndSample(e,[],0,{fileKey:this._fileKey,productType:this._productType,planTier:this._planTier,ranFullscreenLoop:t},this._gpuDeviceInfo)),i?.clearPerFrameMetricsAndIncrementFrameCounter()}writeEventTrackerDistributions(e){for(let t of this._activeNamedEvents)this._getOrCreateDistribution(t).add(e);let t=performance.now(),i=[];for(let[t,a]of this._eventTrackers)a.didEventOccur()&&(i.push(t),this._getOrCreateDistribution(t).add(e));let a=performance.now()-t;for(let t of this._singleFrameNamedEvents)this._getOrCreateDistribution(t).add(e);return this._singleFrameNamedEvents.clear(),{trackersHitThisFrame:i,trackerTotalTimeMs:a}}cancelIfTimersOpen(){return!!o.rH.areTimersOpen()&&(this._isCanceled=!0,!0)}writeAppTimerDistributions(){let e=this._processTimerTree(o.rH.report(),0,[]);for(let t of this._processTimersForLogging(e))this._getOrCreateDistribution(t.path.join(".")).add(t.elapsedTime)}logIfTwoMinutesElapsed(){null!==this._scheduledLogAtMs&&performance.now()>this._scheduledLogAtMs&&(this._logToAnalytics("two-minutes-elapsed",!0),this._resetLogState())}setNumberOfRenderedComments(e){this._lastRecordedNumberOfRenderedComments=e,this._numberOfRenderedCommentsWatermark=Math.max(e,this._numberOfRenderedCommentsWatermark)}setMultiplayerPerfInfo(e){let{multiplayerUserCount:t,ongoingSpotlight:i}=e;this._ongoingSpotlight=i,this._multiplayerUserCount=t}trackOtherUserCursorMoved(){d.R9?.setOtherUserMouseMovedCallback(()=>{this.recordSingleFrameNamedEvent("otherUserCursorMoved")})}}},838153(e,t,i){i.d(t,{B:()=>r,N:()=>o});var a=i(105652),s=i(805242),n=i(986934);class o{constructor(e){this._frameBatcher=new n.R,this._value=e}set(e){this._value!==e&&(this._value=e,this._frameBatcher.schedulePublishToUI())}get(){return this._value}use(e){let[t,i]=a.useState(this._value);return this.useSubscription(i,e),t}useSubscription(e,{updateSynchronously:t=!1}={}){a.useEffect(()=>{let i=()=>{let i=()=>e(this._value);t?(0,s.flushSync)(i):i()};return this._frameBatcher.addFrameListener(i),()=>{this._frameBatcher.removeFrameListener(i)}},[e,t])}}class r extends o{constructor(e,t){super(e),this.comparisonFunction=t}set(e){let t=super.get();this.comparisonFunction(t,e)||super.set(e)}}},387177(e,t,i){i.d(t,{o:()=>s,p:()=>n});var a=i(105652);function s(){let e=new Set;return{subscribe:t=>(e.add(t),()=>{e.delete(t)}),emit(t){for(let i of e)i(t)}}}function n(e,t){(0,a.useEffect)(()=>e.subscribe(t),[t,e])}},154539(e,t,i){i.d(t,{H:()=>a.H,Qw:()=>a.Qw});var a=i(979897)},225157(e,t,i){i.d(t,{Y:()=>o,x:()=>d});var a=i(32186),s=i(414072),n=i(588415);function o(e){return{undoHistoryBatchCount:e.undoHistory.batchCount,undoHistoryCreateNodeChangesCount:e.undoHistory.createNodeChangesCount,undoHistoryRemoveNodeChangesCount:e.undoHistory.removeNodeChangesCount,undoHistoryPropertyChangesCount:e.undoHistory.propertyChangesCount,undoHistoryCollaborativeTextChangesCount:e.undoHistory.collaborativeTextChangesCount,redoHistoryBatchCount:e.redoHistory.batchCount,redoHistoryCreateNodeChangesCount:e.redoHistory.createNodeChangesCount,redoHistoryRemoveNodeChangesCount:e.redoHistory.removeNodeChangesCount,redoHistoryPropertyChangesCount:e.redoHistory.propertyChangesCount,redoHistoryCollaborativeTextChangesCount:e.redoHistory.collaborativeTextChangesCount,untaintedUndoHistoryBatchCount:e.untaintedUndoHistory.batchCount,untaintedUndoHistoryCreateNodeChangesCount:e.untaintedUndoHistory.createNodeChangesCount,untaintedUndoHistoryRemoveNodeChangesCount:e.untaintedUndoHistory.removeNodeChangesCount,untaintedUndoHistoryPropertyChangesCount:e.untaintedUndoHistory.propertyChangesCount,untaintedUndoHistoryCollaborativeTextChangesCount:e.untaintedUndoHistory.collaborativeTextChangesCount,untaintedRedoHistoryBatchCount:e.untaintedRedoHistory.batchCount,untaintedRedoHistoryCreateNodeChangesCount:e.untaintedRedoHistory.createNodeChangesCount,untaintedRedoHistoryRemoveNodeChangesCount:e.untaintedRedoHistory.removeNodeChangesCount,untaintedRedoHistoryPropertyChangesCount:e.untaintedRedoHistory.propertyChangesCount,untaintedRedoHistoryCollaborativeTextChangesCount:e.untaintedRedoHistory.collaborativeTextChangesCount}}let r=!0;function l(e){return e<0x8000000?"0mb-to-128mb":e<0x10000000?"128mb-to-256mb":e<0x20000000?"256mb-to-512mb":e<0x40000000?"512mb-to-1gb":e<0x80000000?"1gb-to-2gb":e<0x100000000?"2gb-to-4gb":">4gb"}function d(e,t,i){if(!r)return;r=!1;let o=l(e.totalMemoryInBytes);t&&(0,n.Rh)("oom_error",{memory:o,productType:i});let d=l(e.failedSize);if((0,a.sx)("Out Of Memory",{...e,memoryUsageBin:o,failedSizeBin:d,productType:i},{forwardToDatadog:t}),"enter-branching-mode"===e.lastAction){let n=s.D.getState();(0,a.sx)("Branching out of memory",{...e,memoryUsageBin:o,failedSizeBin:d,branchingSceneState:n.mirror?.appModel?.branchingSceneState,lastBranchingStagingAction:n.mirror?.appModel?.lastBranchingStagingAction,productType:i},{forwardToDatadog:t})}}},841286(e,t,i){i.d(t,{l:()=>o,q:()=>n});var a=i(864549),s=i(297746);function n(e,t){e&&(0,a.Dy)(e,t,"deviceInfo")}function o(){return s.CeL?.getGpuDeviceInfo()??null}},196850(e,t,i){let a,s;i.d(t,{N:()=>l});var n=i(325461),o=i(295870);let r=(a=null,s=[],function(e){s.push(e),null===a&&(a=requestAnimationFrame(()=>{a=null;let e=[...s];for(s.length=0;e.length>0;){let t=e.shift();if(t)try{t()}catch(e){(0,n.N7)(o.FigmaTeam.UNOWNED,e)}}}))});function l(e){let t=!1,i=()=>{t=!1,e()};return function(){t||(t=!0,r(i))}}},636012(e,t,i){i.d(t,{N:()=>c});var a=i(291061),s=i(295870),n=i(297746),o=i(32186),r=i(982021),l=i(841286);let d=class e{constructor(e,t,i,a=null,s=!1,n="slow_frame_tracker"){this.isPrototypingFrameTracker=e,this.addPerFrameMetricsCallback=t,this.clearPerFrameMetricsCallback=i,this.isImageExportFrameCallback=a,this.enableRumTracking=s,this.analyticsEventName=n,this.frameNumber=0,this.lastSampledFrame=0,this.forceNextFrameToBeSampled=!1}incrementFrameCounter(){this.frameNumber++}checkSlowFrameAndSample(t,i,a,s,n){let o=this.isImageExportFrameCallback?.()??!1,r=this.forceNextFrameToBeSampled||o,l=1;t<300&&!r&&(l=t<1?e.sampleRateUpTo1ms:t<9?e.sampleRateUpTo9ms:t<17?e.sampleRateUpTo17ms:t<19?e.sampleRateUpTo19ms:t<20?e.sampleRateUpTo20ms:t<23?e.sampleRateUpTo23ms:t<25?e.sampleRateUpTo25ms:t<29?e.sampleRateUpTo29ms:t<32?e.sampleRateUpTo32ms:t<48?e.sampleRateUpTo48ms:t<64?e.sampleRateUpTo64ms:t<80?e.sampleRateUpTo80ms:t<100?e.sampleRateUpTo100ms:e.sampleRateUpTo300ms),this.forceNextFrameToBeSampled=t>=e.unsampledFrameTimeMs,(r||this.forceNextFrameToBeSampled||l>Math.random())&&this.sampleFrame(t,l,r,o,i,a,s,t>=e.unsampledFrameTimeMs,n)}clearPerFrameMetricsAndIncrementFrameCounter(){this.incrementFrameCounter(),this.clearPerFrameMetricsCallback()}sampleFrame(t,i,d,c,_,u,m,h,p){let g={};g.frameTimeMs=t,g.frameSamplingRate=i,g.protoSlowFrameTracker=this.isPrototypingFrameTracker,g.frameNumber=this.frameNumber,g.frameWasForceSampled=d,g.isImageExportFrame=c,g.trackersHit=_,g.trackerTotalTimeMs=u,g.fileKey=m.fileKey,g.productType=m.productType,g.planTier=m.planTier,"ranFullscreenLoop"in m&&(g.ranFullscreenLoop=m.ranFullscreenLoop),g.lastCheckpointSize=n.CeL?.getServerSideLoadTimeMetadata()?.lastCheckpointSize,(0,l.q)(p,g);let f=this.lastSampledFrame<this.frameNumber-1;this.addPerFrameMetricsCallback(g,f),this.lastSampledFrame=this.frameNumber,setTimeout(()=>{(0,o.sx)(this.analyticsEventName,g,{...e.loggerOptions,forwardToDatadog:h}),this.enableRumTracking&&t>=e.unsampledFrameTimeMs&&r.J.addAction("slowFrameThresholdExceeded",s.FigmaTeam.PRODUCTION_ENGINEERING,a.$b.WARN,{slowFrame:{...g,frameTimeMs:t,frameTimeThresholdMs:e.unsampledFrameTimeMs}})},0)}getDrawCallsForGuardrails(){return 0}};d.optimizationExposuresKey="optimizationExposures",d.gpuMetricsCurrentFrameKey="gpuMetricsCurrentFrame",d.gpuMetricsPreviousFrameKey="gpuMetricsPreviousFrame",d.cpuTimerTreeCurrentFrameKey="cpuTimerTreeCurrentFrame",d.cpuTimerTreePreviousFrameKey="cpuTimerTreePreviousFrame",d.activeAnimationsKey="activeAnimations",d.numberOfDevAnnotationsVisibleKey="numberOfDevAnnotationsVisible",d.sampleRateUpTo1ms=.00224,d.sampleRateUpTo9ms=7e-4/15,d.sampleRateUpTo17ms=4e-4/15,d.sampleRateUpTo19ms=.0016/15,d.sampleRateUpTo20ms=58e-5,d.sampleRateUpTo23ms=.0076/15,d.sampleRateUpTo25ms=.00186,d.sampleRateUpTo29ms=.00156,d.sampleRateUpTo32ms=.0338/15,d.sampleRateUpTo48ms=.0113/15,d.sampleRateUpTo64ms=.0585/15,d.sampleRateUpTo80ms=.1204/15,d.sampleRateUpTo100ms=.2134/15,d.sampleRateUpTo300ms=.2134/30,d.unsampledFrameTimeMs=300,d.loggerOptions={forwardToDatadog:!1,batchRequest:!0};let c=d},293009(e,t,i){i.d(t,{d:()=>o,x:()=>n});var a,s=i(588415),n=((a=n||{})[a.SUCCESS=0]="SUCCESS",a[a.NO_WEBGL=1]="NO_WEBGL",a[a.STENCIL_TEST_FAILURE=2]="STENCIL_TEST_FAILURE",a);function o(){return null==window.webGLTestResult&&(window.webGLTestResult=function(){var e,t=0;try{let i,a,n,o=function(){let e=document.createElement("canvas");try{return e.getContext("webgl")}catch(e){}return null}();o||(t=1),0!==t||o?.isContextLost()||(n={gpu_vendor:(a=(i=(e=o).getExtension("WEBGL_debug_renderer_info"))&&(e.getParameter(i.UNMASKED_RENDERER_WEBGL)+"").toLowerCase())?/\bamd\b|\bati\b/.test(a)?"amd":/\bnvidia\b/.test(a)?"nvidia":/\bintel\b/.test(a)?"intel":"unknown":"unknown",gpu_api:a?/direct3d9/.test(a)?"d3d9":/direct3d11/.test(a)?"d3d11":/opengl/.test(a)?"opengl":"unknown":"unknown"},(0,s.Rh)("page_load",n).catch(e=>console.error("Error trying to send tags",n,e)))}catch(e){}return t}()),window.webGLTestResult}},791333(e,t,i){i.d(t,{k:()=>o});var a=i(783142),s=i(398158),n=i(713084);async function o(e,t,i){let o=await (0,a.k)((e,t,i,a)=>n.B6.uploadBinaryFiles(e,[{content:t,contentType:i}],a),e,t,i);return o.success||(0,n.z9)(new s.vw(o.error),"upload_binary_files",{fileKey:e,fileName:t.name}),o}},659441(e,t,i){i.d(t,{J:()=>_,O:()=>c});var a,s=i(239976),n=i(105652),o=i(813928),r=i(417675);let l="devtools_error_overlay--title--oD3Re",d="devtools_error_overlay--subtitle--tnKjz";var c=((a=c||{}).STALE="stale",a.ERROR="error",a.SOFT_DELETED="soft_deleted",a);function _({location:e,message:t,type:i}){let[a,c]=n.useState(!1),_=n.useRef(null);return n.useEffect(()=>{if(!_.current)return;let e=new ResizeObserver(e=>{for(let t of e){let{width:e,height:i}=t.contentRect;c(e<196||i<100)}});return e.observe(_.current),()=>{e.disconnect()}},[]),(0,s.jsxs)("div",{ref:_,className:`devtools_error_overlay--error--hKjiq ${a?"devtools_error_overlay--smallSize--LGsBr":""}`,"data-testid":"devtools-error-overlay",children:[(0,s.jsx)(o.i,{}),"window"===e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:l,children:t??(0,r.tx)("sites.code_component.error_overlay_title")}),(0,s.jsx)("div",{className:d,children:(0,r.tx)("sites.code_component.error_overlay_subtitle_window")})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:l,children:["stale"===i&&(0,r.tx)("sites.code_component.error_overlay_title_stale"),"error"===i&&(0,r.tx)("sites.code_component.error_overlay_title"),"soft_deleted"===i&&(0,r.tx)("sites.code_component.error_overlay_title_soft_deleted")]}),(0,s.jsxs)("div",{className:d,children:["stale"===i&&(0,r.tx)("sites.code_component.error_overlay_subtitle_canvas_stale"),"error"===i&&(0,r.tx)("sites.code_component.error_overlay_subtitle_canvas")]})]})]})}},480477(e,t,i){i.d(t,{d:()=>n,n:()=>s});var a=i(25378);function s(e,t){if(!e)return;let i=(0,a.N)().getEntryByGUID(t.guid);return i?.entrypointIdentifier??void 0}function n(e){return e.isCodeInstance||e.isCodeBehavior||e.isAnimationPresetInstance?e.backingCodeComponent?.codeExportName||"default":e.codeExportName||"default"}},379661(e,t,i){i.d(t,{x:()=>n});var a=i(836848),s=i(963279);function n(e,t){switch(e?.state){case void 0:case s.TT.FAILED:case s.TT.PROVISIONING:case s.TT.REPROVISIONING:return null;case s.TT.CACHED_PREVIEW:return{type:"snapshot",jsUrl:e.cachedPreview.jsUrl,cssUrl:e.cachedPreview.cssUrl,codeFileExportName:t||"default"};case s.TT.PROVISIONED:return{type:"sandbox",jsUrl:e.url,codeFileExportName:t||"default"};default:return(0,a.S9)(e,null)}}},48748(e,t,i){i.d(t,{_n:()=>n,eC:()=>s,yg:()=>o});var a=i(421765);let{bundleCode:s,fileSaveLocalCopySemaphore:n,fileImportSemaphore:o}={bundleCode:new a.j(3),fileSaveLocalCopySemaphore:new a.j(5),fileImportSemaphore:new a.j(20)}},887511(e,t,i){i.d(t,{P:()=>s,b:()=>a});let a=function(){return[]},s=function(){return[]}},577856(e,t,i){i.d(t,{P:()=>a});let a=function(){return Promise.resolve([])}},484426(e,t,i){i.d(t,{Kf:()=>n,_G:()=>o,nb:()=>s});var a=i(759231);let s=(0,a.eU)(""),n=(0,a.eU)(!1),o=(0,a.eU)(null)},912957(e,t,i){i.d(t,{Iu:()=>G,MZ:()=>x,Ng:()=>w,P8:()=>A,PG:()=>L,cT:()=>O,f1:()=>D,mI:()=>M,qF:()=>N,q_:()=>U,vr:()=>F});var a=i(678286),s=i(417675),n=i(270450),o=i(759231),r=i(32186),l=i(794006),d=i(895872),c=i(925778),_=i(362584),u=i(824203),m=i(282860),h=i(714615),p=i(762593),g=i(245694),f=i(674751),E=i(484426),b=i(466432),T=i(862247),y=i(141376),S=i(51477),R=i(377617),v=i(338301),I=i(50062);function x(){return null===document.querySelector('[data-component-name="auth-view"]')}let A=(0,R.nF)((e,{resp:t})=>{let i,n,o=e.getState(),r=t.data;if(r&&r.reason&&"object"==typeof r.reason){if("mfa_required_by_org"===r.reason.missing&&r.reason.mfa_setup_token)return void c.Ay.redirect(`/mfa_auth?mfa_setup_token=${r.reason.mfa_setup_token}`);else if("two_factor"===r.reason.missing){let t;e.dispatch(f.IY(r.reason.sms)),r.reason.phone_number&&(t=(0,s.t)("auth.two-factor.sms-hint",{phoneNumber:r.reason.phone_number}),e.dispatch(f.kQ({hint:t})));let i=o.auth.formState===b.qB.SIGN_IN||o.auth.formState===b.qB.RESET_PASSWORD?o.auth.formState:b.qB.SIGN_IN;e.dispatch(f.LP({kind:i}));return}}let l=(0,a.J)(t,r?.message||(0,s.t)("auth.default-error"));if(r?.reason==="account_unverified")return void e.dispatch(f.E({formState:b.qB.VALIDATE_EMAIL}));if(r?.reason==="account_suspended"){window.location.href="/blocked.html";return}t&&401===t.status?i=b.By.UNAUTHORIZED:t&&400===t.status?i=b.By.BAD_REQUEST:t&&404===t.status&&"no_saml"===r.reason?i=b.By.NO_SAML:t&&404===t.status&&"magic_link_login_no_account"===r.reason?i=b.By.MAGIC_LINK_LOGIN_NO_ACCOUNT:t&&403===t.status&&"saml_required"===r.reason&&(i=b.By.SAML_REQUIRED),o.auth.formState===b.qB.TWO_FACTOR&&o.auth.twoFactorPromptedBy===b.qB.SIGN_IN?n=b.RE.TOTP_KEY:o.auth.formState===b.qB.RESET_PASSWORD||r&&r.reason&&"object"==typeof r.reason&&("password"===r.reason.missing||"password"===r.reason.invalid)?n=b.RE.PASSWORD:o.auth.formState===b.qB.SAML_START&&(n=b.RE.EMAIL),o.auth.formState===b.qB.VERIFY_HUMAN&&o.auth.prevForm!==b.qB.VERIFY_HUMAN&&e.dispatch(f.E({formState:o.auth.prevForm})),e.dispatch(f.Qg({message:l,errorType:i,invalidInput:n}))}),O=(0,R.nF)((e,{data:t})=>{let i=e.getState();if((0,y.p)("sign_in_user_pass"),(0,T.g)("sign_in_success",i.auth.origin,{user_id:t?.meta?.id}),(0,u.initialOptions)().integration_host&&(0,r.sx)("Integration Login Success",{user_id:t?.meta?.id,integrationHost:(0,u.initialOptions)().integration_host,trackedContext:v.e0.MS_TEAMS_TAB}),N(t,i.auth.redirectUrl)){let i=t.meta.id;e.dispatch(f.Em({userId:i}))}else"design_pricing"===i.auth.signupSource&&e.dispatch(f.WY({redirectUrl:"/upgrade-team"})),e.dispatch(f.My({userId:t.meta.id})),e.dispatch(S.s.flash((0,s.t)("auth.sign-in-success",{email:t.meta.email}))),new m.P().sendToOtherTabs(_.Rg,t.meta.email)});function N(e,t){if(t?.includes("/email/validate"))return!1;let i="email_validated_at";return e.meta.hasOwnProperty(i)&&null===e.meta[i]}let C=["logged_out_footer_continue_with_google","logged_out_footer","request_permissions_entry","google_one_tap_logged_out_file","logged_out_main_menu_toolbar","prototype_header_nav","prototype_comment_signed_out","team_invite_link","claim_invite","account_picker","signed_out_edit","saml_sso","figma_rev_logged_out_footer_continue_with_google","figma_rev_logged_out_header","figma_rev_logged_out_header_with_google","figma_rev_logged_out_footer","google_one_tap_prototype","prototype_header_nav_google_sso","slides_presentation_header_nav_google_sso","mobile_viewer_logged_out_footer"];function L(e){let t=e.email&&e.email.trim();return k(e.password&&e.password.trim(),t)}function w(e){let t=e.email&&e.email.trim(),i=e.password&&e.password.trim(),a=e.name&&e.name.trim(),s=k(i,t);return s.message||(s=P(i,t,a)),s}function D(e){return j(e.email&&e.email.trim())}let j=e=>e?(0,l.xf)(e)?{message:"",invalidInput:null}:{message:(0,s.t)("auth.input-validation.invalid-email"),invalidInput:b.RE.EMAIL}:{message:(0,s.t)("auth.input-validation.no-email"),invalidInput:b.RE.EMAIL},k=(e,t)=>{let i=j(t);return i.message?i:e?{message:"",invalidInput:null}:{message:(0,s.t)("auth.input-validation.no-password"),invalidInput:b.RE.PASSWORD}},M=(e="")=>!!(0,h.qg)(c.Ay.location.search).is_not_gen_0||e&&C.includes(e),P=(e,t,i)=>{let a="";return(0,p.YH)(e).length>500&&(a=(0,s.t)("auth.input-validation.long-password")),Array.from(e).length<8&&(a=(0,s.t)("auth.input-validation.short-password")),e===t&&(a=(0,s.t)("auth.input-validation.email-is-password")),i&&e===i&&(a=(0,s.t)("auth.input-validation.name-is-password")),a?{message:a,invalidInput:b.RE.PASSWORD}:{message:"",invalidInput:null}};function F({url:e,cont:t}){let i=new URL(e);i.searchParams.set("cont",t),c.Ay.redirect(i.toString())}let U=(0,R.nF)((e,{formId:t})=>{(0,T.g)("sms_recover_attempt",e.getState().auth.origin);let i=document.getElementById(t),a=(0,d.t)(i),r=null,l=o.zl.get(E._G);r=l?{name:l.name,token:l.token,token_type:l.tokenType,google_fed_cm_enabled:(0,n.getFeatureFlags)().google_federated_cm??!1}:a,g.Ay.post("/api/session/sms_recover",r).then(({data:t})=>{(0,T.g)("sms_recover_success",e.getState().auth.origin),t&&t.meta&&e.dispatch(f.kQ({hint:(0,s.t)("auth.two-factor.code-hint-confirmation",{phoneNumber:t.meta.phone_number})}))}).catch(t=>e.dispatch(A({resp:t})))});async function G(e,t){let{data:{meta:{available_methods:i}}}=await (0,I.L)().getAuthMethods(e,t);if(1===i.length&&"google"===i[0])return"google";if(1===i.length&&"saml"===i[0])return"saml";if(i.includes("sign_in"))return"sign_in";if(i.includes("sign_up"))return"sign_up";throw Error("Unknown authentication action")}},228162(e,t,i){let a;i.d(t,{Hc:()=>z,p8:()=>G,sT:()=>W});var s,n,o,r,l,d,c=i(239976),_=i(105652),u=i(295870),m=i(478741),h=i(575015),p=i(717636),g=i(32186),f=i(824203),E=i(184634),b=i(852031),T=i(253089),y=i(73593),S=i(681038),R=((s=R||{}).FRAME_MOUNTED="frame-mounted",s.JS_LOADED="js-loaded",s.CHALLENGE_LOADED="loaded",s.CHALLENGE_SUPPRESSED="suppressed",s.CHALLENGE_SHOWN="challenged",s.IFRAMESIZE="iframesize",s.COMPLETED="completed",s.ERRORED="errored",s.LOAD_TIMED_OUT="timed-out",s.ARKOSE_IS_OFF_FOR_USER="arkose-is-off-for-user",s),v=((n=v||{}).FRAME_FAILED_TO_LOAD_IN_TIME="frame failed to load in time",n.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FRAME_NOT_MOUNTED="getArkoseToken failed because Arkose frame was never mounted",n.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FAILED="getArkoseToken failed because Arkose failed",n.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_IS_OFF_FOR_USER="getArkoseToken failed because Arkose is off for user",n.MISSING_ARKOSE_TOKEN_WHEN_GETTING_ARKOSE_TOKEN="getArkoseToken missing token despite frame being ready",n.GETTING_ARKOSE_TOKEN_SUCCEEDED="success",n),I=((o=I||{}).ERROR_HANDLING_MESSAGE="error handling message",o),x=((r=x||{}).REACHABILITY="reachability",r),A=((l=A||{}).IS_ARKOSE_ON_API_CALL_FAILED="Is Arkose On API call failed",l.IS_ARKOSE_ON="Is Arkose On",l);let O={...R,...v,...I,...x,...A};var N=((d=N||{}).CHALLENGE_JS_LOADED="challenge-js-loaded",d.CHALLENGE_LOADED="challenge-loaded",d.CHALLENGE_SUPPRESSED="challenge-suppressed",d.CHALLENGE_SHOWN="challenge-shown",d.CHALLENGE_IFRAMESIZE="challenge-iframesize",d.CHALLENGE_COMPLETE="challenge-complete",d.CHALLENGE_ERROR="challenge-error",d);let C={"challenge-js-loaded":"js-loaded","challenge-loaded":"loaded","challenge-suppressed":"suppressed","challenge-shown":"challenged","challenge-iframesize":"iframesize","challenge-complete":"completed","challenge-error":"errored"},L=[403,422],w=()=>"undefined"==typeof window||void 0===window.arkose,D=()=>"errored"===window.arkose,j=()=>"timed-out"===window.arkose,k=new p.eu,M=(0,y.Do)(e=>e?864e5:1e4),P=(0,y.Do)(()=>new Date().getTime()),F=(0,y.Do)(()=>!(0,h.Lg)()),U=({event:e,prevFormState:t,getArkoseTokenAction:i,error:a,reachability:s,isArkoseOnAPICheckError:n,arkoseIsOnForUserProperties:o})=>{if("iframesize"===e)return;let r=e.toString();(e===O.ERRORED||e===O.ERROR_HANDLING_MESSAGE)&&a&&(r=`${e}: ${a}`);let l={arkose_event:r};void 0!==window.mountTime&&(l.elapsed_time_since_mount_in_ms=P()-window.mountTime),t&&(l.prev_form_state=t.toString()),i&&(l.get_arkose_token_action=String(i)),n&&(l.is_arkose_on_api_check_action=String(n.action),l.is_arkose_on_api_check_auth_param=n.authParam,l.is_arkose_on_api_check_error=n.error,l.is_arkose_on_api_check_error_status=n.status),o&&(l.arkose_is_on_for_user_action=String(o.action),l.arkose_is_on_for_user_result_from_api=o.resultFromAPI,l.arkose_is_required_from_api=o.requiredFromAPI),e===O.REACHABILITY&&s&&(l.reachability=Object.entries(s).map(e=>`${e[0]}|${e[1]}`).join(",")),F()&&(0,g.sx)("Arkose",l,{forwardToDatadog:!0,batchRequest:!1})};function G(e){let t,i,a=_.useRef(null),s=t=>{t.origin===(0,f.initialOptions)().arkose_origin&&k.runExclusive(()=>{(t=>{let i;if(D()||j())return;let a=JSON.parse(t.data);if(!Object.values(N).includes(a.eventId))return;let s=C[i=a.eventId];switch(window.arkose=s.toString(),U({event:s,prevFormState:e.prevFormState,error:a.payload.error?.error}),i){case"challenge-loaded":e.onLoaded();break;case"challenge-shown":e.onChallenge();break;case"challenge-iframesize":let n=document.getElementById("arkoseFrame");n&&(n.width=a.payload.frameWidth,n.height=a.payload.frameHeight);break;case"challenge-complete":window.arkoseResult=a.payload.sessionToken,e.onCompleted();break;case"challenge-error":window.arkoseResult=s.toString()}})(t)}).catch(t=>{U({event:O.ERROR_HANDLING_MESSAGE,prevFormState:e.prevFormState,error:t})})},n=async(a,s)=>await k.runExclusive(async()=>{if(i)throw i;if(t)return t;try{t=await K(a,e.prevFormState,s)}catch(e){throw i=e,e}return U({event:O.IS_ARKOSE_ON,arkoseIsOnForUserProperties:{action:a,resultFromAPI:t.arkose_on_for_user,requiredFromAPI:t.arkose_required_for_user}}),t});(0,m.h)(()=>{n(e.arkoseAction,e.onFailed).then(t=>{t.arkose_on_for_user&&B(e.prevFormState)}).catch(e=>{})}),(0,m.h)(()=>{let t=()=>{window.removeEventListener("message",s)};return n(e.arkoseAction,e.onFailed).then(t=>{t.arkose_on_for_user?(window.addEventListener("message",s),X(e,a,t.arkose_required_for_user)):(window.arkose="arkose-is-off-for-user",e.onCompleted())}).catch(e=>{if(t(),(0,f.isDevEnvironment)())throw e}),t});let o=(0,T.Gq)().getPrimaryLocale(!1),r=(0,f.initialOptions)().arkose_challenge_public_key,l=(0,f.initialOptions)().arkose_frame_url+"?publicKey="+r+"&locale="+o;return(0,c.jsx)("div",{className:S.i,children:(0,c.jsx)("iframe",{id:"arkoseFrame",height:0,width:0,src:l,title:"Arkose Frame",className:S.$})})}let B=(0,y.Do)(e=>{let t=(0,f.initialOptions)().arkose_challenge_public_key,i=["https://www.arkoselabs.com","https://status.arkoselabs.com","https://status.arkoselabs.com/api/v2/status.json",`https://figma-api.arkoselabs.com/v2/${t}/api.js`,(0,f.initialOptions)().arkose_frame_url,"https://verify.figma.com/arkose_frame.html"];Promise.allSettled(i.map(e=>V(e))).then(t=>{let a={};t.forEach((e,t)=>{a[i[t]]="fulfilled"===e.status}),U({event:O.REACHABILITY,prevFormState:e,reachability:a})})}),V=(0,y.Do)(async e=>{try{return await fetch(e,{method:"HEAD",mode:"no-cors"}),Promise.resolve()}catch(e){return Promise.reject()}}),X=(0,y.Do)((e,t,i)=>{Object.defineProperty(window,"mountTime",{value:P(),configurable:!0,enumerable:!0}),Promise.race([new Promise((a,s)=>{t.current=setTimeout(()=>{k.runExclusive(()=>{w()||"frame-mounted"===window.arkose||D()||j()?(delete window.arkose,window.arkose="timed-out",U({event:O.FRAME_FAILED_TO_LOAD_IN_TIME,prevFormState:e.prevFormState}),s(Error("Arkose script failed to load."))):a(window.arkose)}).then(null)},M(i))}),new Promise((e,t)=>{Object.defineProperty(window,"arkose",{get:()=>"frame-mounted",set:i=>{k.runExclusive(()=>{delete window.arkose,window.arkose=i,D()||j()?t(Error("Arkose script failed to load.")):e(i)}).then(null)},configurable:!0,enumerable:!0})})]).then(null,t=>{window.arkoseResult=window.arkose,e.onCompleted()}).finally(()=>{H(t)})}),H=(0,y.Do)(e=>{null!==e.current&&(clearTimeout(e.current),e.current=null)});async function z(e,t){let i;return await k.runExclusive(()=>{i=function(e,t){if("arkose-is-off-for-user"===window.arkose)return U({event:O.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_IS_OFF_FOR_USER,prevFormState:t,getArkoseTokenAction:e}),Promise.reject(Error("Can't get token because Arkose is off for the user"));if(w())return U({event:O.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FRAME_NOT_MOUNTED,prevFormState:t,getArkoseTokenAction:e}),Promise.reject(Error("Can't get token because Arkose frame was never mounted"));if(D()||j())return U({event:O.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FAILED,prevFormState:t,getArkoseTokenAction:e}),Promise.reject(Error("Can't get token because Arkose challenge failed"));if("completed"===window.arkose)if(void 0===window.arkoseResult||null===window.arkoseResult)return U({event:O.MISSING_ARKOSE_TOKEN_WHEN_GETTING_ARKOSE_TOKEN,prevFormState:t,getArkoseTokenAction:e}),Promise.reject(Error("Arkose token missing despite challenge being completed!"));else return U({event:O.GETTING_ARKOSE_TOKEN_SUCCEEDED,prevFormState:t,getArkoseTokenAction:e}),Promise.resolve(window.arkoseResult);return new Promise((i,a)=>{Object.defineProperty(window,"arkoseResult",{set:s=>{k.runExclusive(()=>{null!=s&&(D()||j()?(U({event:O.GETTING_ARKOSE_TOKEN_FAILED_BECAUSE_ARKOSE_FAILED,prevFormState:t,getArkoseTokenAction:e}),a(Error("Can't get token because Arkose challenge failed"))):(delete window.arkoseResult,window.arkoseResult=s,U({event:O.GETTING_ARKOSE_TOKEN_SUCCEEDED,prevFormState:t,getArkoseTokenAction:e}),i(s)))}).then(null)},configurable:!0,enumerable:!0})})}(e,t)}),i}async function W(e){await k.runExclusive(()=>{a="email"in e?{email:e.email}:{token:e.googleUserInfo.token,token_type:e.googleUserInfo.tokenType}})}async function K(e,t,i){let s,n;if(a&&0!==Object.keys(a).length)try{return(await b._.isArkoseOn({...a,captcha_action:e})).data.meta}catch(t){s=t,n=t.cause?.message||t.data?.message||t.message||"Arkose API call failed",U({event:O.IS_ARKOSE_ON_API_CALL_FAILED,isArkoseOnAPICheckError:{action:e,authParam:"email"in a?"email":"google_token",error:n,status:t.status}})}else s=Error(n=`Arkose API param is not set or empty for '${t}' form state.`),U({event:O.IS_ARKOSE_ON_API_CALL_FAILED,isArkoseOnAPICheckError:{action:e,error:n}});throw i(s,n),L.includes(s.status)||(0,E.$D)(u.FigmaTeam.PRODUCT_SECURITY,Error(n)),s}},141376(e,t,i){i.d(t,{p:()=>n});var a=i(32186),s=i(451401);async function n(e){(0,a.sx)("passkey_support",{flow:e,supports_webauthn:(0,s.D)(),supports_mediation:await (0,s.r)()},{batchRequest:!1})}},86940(e,t,i){i.d(t,{T:()=>o});var a=i(239976),s=i(105652),n=i(253089);let o=s.memo(function(e){let t=e.locale||(0,n.Gq)().getPrimaryLocale(!1),i=s.useMemo(()=>new Intl.ListFormat(t,{style:e.formatStyle||"long",type:e.formatType||"conjunction"}),[t,e.formatStyle,e.formatType]),o=s.Children.toArray(e.children),r=i.formatToParts(o.map((e,t)=>`${t}`)).map((e,t)=>"element"===e.type?o[Number(e.value)]:"literal"===e.type?(0,a.jsx)("span",{children:e.value},`${t}_literal`):null);return(0,a.jsx)("span",{className:e.className||"",children:r})})},483218(e,t,i){i.d(t,{V:()=>b});var a=i(239976),s=i(105652),n=i(671174),o=i(759231),r=i(224542),l=i.n(r),d=i(699715),c=i(288024),_=i(306512),u=i(424446),m=i(840290),h=i(114668),p=i(263618),g=i(848682),f=i(304142);let E=(0,o.eU)({});function b({thumbnailUrl:e,thumbnailType:t,lastTouchedAt:i,clientMeta:r,size:b,borderRadius:T,noBorder:y,addtlStyles:S,draggable:R,disableSmartBackground:v,hideUntilLoaded:I=!0,overlay:x}){let A=!v&&t!==h.F.DEFAULT_DESIGN&&t!==h.F.DEFAULT_WHITEBOARD&&t!==h.F.SLIDES&&t!==h.F.COOPER,{latestThumbnailUrl:O,smartBackgroundColor:N}=function({touchedAt:e,thumbnailUrl:t,needsSmartBackground:i}){let[a,n]=(0,o.fp)(E),r=!e||(0,d.A)(e).isBefore((0,d.A)().subtract(4,"seconds")),l=!i||t&&!!a[t],[c,_]=s.useState(r&&t&&l?t:null),u=s.useCallback(e=>{if(!i||a[e])_(e);else{let t=new Image;t.crossOrigin="anonymous",t.className=p.s.fixed.hidden.$,t.onload=()=>{let i=(0,g.J)(t);i&&n(t=>({...t,[e]:i})),_(e),t.remove()},t.src=e,document.body.appendChild(t)}},[_,i,a,n]);s.useLayoutEffect(()=>{if(t)if(e){let i=(0,d.A)(e).diff((0,d.A)().subtract(4,"seconds"));if(i<=0)return void u(t);{let e=setTimeout(()=>{u(t)},i);return()=>clearTimeout(e)}}else u(t);else _(null)},[e,t,u]);let m=i&&c?a[c]:void 0;return{latestThumbnailUrl:c,smartBackgroundColor:m}}({thumbnailUrl:e,touchedAt:i,needsSmartBackground:A});if(t===h.F.OFFLINE)return(0,a.jsx)(u.A,{size:b,borderRadius:T,noBorder:y});let C=t!==h.F.SLIDES?(0,n.fileBackgroundColor)(r):void 0,L=t===h.F.DEFAULT_DESIGN||t===h.F.DEFAULT_WHITEBOARD||t===h.F.COOPER;return(0,a.jsxs)(m.q,{borderRadius:T,backgroundClassName:l()({[f.Kf]:t===h.F.WHITEBOARD||t===h.F.DEFAULT_WHITEBOARD,[f._k]:t===h.F.DEFAULT_DESIGN&&(!C||"transparent"===C),[f.gc]:t===h.F.PROTOTYPE||t===h.F.SLIDES||t===h.F.SITES&&!(A&&N)&&(!C||"transparent"===C)}),noBorder:y,backgroundColor:A?N:C,children:[null!==O&&(0,a.jsx)(c.B,{enabled:I,children:(0,a.jsx)(_.oW,{src:O,alt:"",draggable:!!R,className:l()(p.s.hFull.wFull.$,f.pQ,{[p.s.p10.$]:L&&b!==h.y.SMALL,[p.s.p4.$]:L&&b===h.y.SMALL,[p.s.py12.$]:L&&t===h.F.COOPER,[p.s.px6.$]:L&&t===h.F.COOPER}),...v?{}:{crossOrigin:"anonymous"},additionalTrackingProperties:{thumbnailFileType:t},style:S})}),x]})}},217354(e,t,i){i.d(t,{Y:()=>_,d:()=>u});var a=i(239976),s=i(105652),n=i(58239),o=i(429270),r=i(478740),l=i(432819);let d="184px";function c({height:e,width:t}){return(0,a.jsx)("div",{style:l.sx.flex.itemsCenter.justifyCenter.add({width:t??d,height:e??"100px"}).$,"data-testid":"popover-loading-state",children:(0,a.jsx)(r.k,{size:"sm"})})}function _({offset:e,type:t="dialog",placement:i="bottom"}){let[a,o]=s.useState(!1);return n.fP({isOpen:a,onOpenChange:o,type:t,openOnHover:!0,offset:e,placement:i,softDismiss:!0})}function u({getContainerProps:e,getArrowProps:t,setToMaxWidth:i,popoverText:r,children:_,loadingStateStyle:u}){return(0,a.jsx)(n.mc,{...e({style:l.sx.colorTextTooltip.colorBgTooltip.fontMedium.radiusMedium.add({boxShadow:"var(--elevation-300-tooltip)",letterSpacing:"0.055px",lineHeight:"var(--body-medium-lineHeight, 16px)",maxWidth:d}).if(i,{minWidth:d}).if(r,{padding:"var(--spacer-1, 0.3rem) var(--spacer-2, 0.5rem)"},{padding:"var(--spacer-2, 0.5rem)"}).$}),children:(0,a.jsxs)(o.J,{mode:"dark",children:[!!t&&(0,a.jsx)(n.i3,{...t()}),(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(c,{height:u?.height,width:u?.width}),children:_})]})})}},504923(e,t,i){i.d(t,{Dy:()=>n,Je:()=>c,MZ:()=>u,NR:()=>r,Pj:()=>l,W0:()=>s,ky:()=>o,pY:()=>_,r0:()=>d});var a=i(87683);let s=(0,a.NC)("SEARCH_SELECTED"),n=(0,a.NC)("SEARCH_START_SESSION"),o=(0,a.NC)("SEARCH_END_SESSION"),r=(0,a.NC)("SEARCH_RESTORE_SESSION"),l=(0,a.NC)("SEARCH_SESSION_SEE_MORE_CLICK"),d=(0,a.NC)("SEARCH_SESSION_ENTERED_SEARCH_VIEW"),c=(0,a.NC)("SEARCH_SESSION_ENTERED_SEARCH_VIEW_VIA_ENTER"),_=(0,a.NC)("SEARCH_INCREMENT_QUERY_COUNT");function u(){return`${Date.now().toString(36)}-${Math.random().toString(36).substring(2)}`}},586628(e,t,i){i.d(t,{v:()=>l});var a=i(759231),s=i(376750),n=i(622179),o=i(930501),r=i(306874);let l=(0,n.Wh)(e=>(0,a.eU)(t=>{let i=t(r.Htb.Query({fileKey:e||""}));if("loaded"!==i.status)return!1;let a=(0,s.oA)(i.data?.file?.plan?.tier);return a===o.Ag.ENTERPRISE||a===o.Ag.ORG}))},812323(e,t,i){i.d(t,{Vg:()=>c,uh:()=>d});var a=i(466082),s=i(759231),n=i(945013),o=i(622179),r=i(647639),l=i(781026);let d=(0,o.Wh)(()=>(0,s.eU)(e=>{let t=e(l.Qy);return t?e(c({id:t})):[]}));(0,s.Rq)(d);let c=(0,s.Iz)(({id:e,onlyFirstViolation:t=!1})=>(0,o.Wh)(()=>(0,s.eU)(i=>(0,r.N0)(i(n.ze),(0,a.UN)(),e,"sites_preview",t),()=>{c.remove({id:e,onlyFirstViolation:t})})))},881768(e,t,i){i.d(t,{g:()=>l});var a=i(759231),s=i(376750),n=i(622179),o=i(306874),r=i(586628);let l=(0,n.Wh)(e=>(0,a.eU)(t=>{let i=t(o.Htb.Query({fileKey:e||""})),a=t(r.v);return"loaded"===i.status&&!!a&&(0,s.oA)(i.data?.siteMount?.hasSso)}))},163534(e,t,i){i.d(t,{C:()=>l});var a=i(759231),s=i(376750),n=i(622179),o=i(306874),r=i(881768);let l=(0,n.Wh)(e=>(0,a.eU)(t=>{let i=t(o.Htb.Query({fileKey:e||""})),a=t(r.g);if("loaded"!==i.status)return!1;let n=(0,s.oA)(i.data?.file?.org);if(n?.sitesPublishingDisabled)return!1;let l=(0,s.oA)(i.data?.siteMount?.hasPassword)??!1,d=(0,s.oA)(i.data?.file?.sharedContainerSetting?.webPublishingRequiresPassword)??!1;return!a&&!l&&d}))},647639(e,t,i){i.d(t,{uU:()=>D,N0:()=>G});var a=i(239976),s=i(722082),n=i(424364),o=i(861793),r=i(349722),l=i(236202),d=i(473295),c=i(806449),_=i(295001),u=i(558224),m=i(3178),h=i(853096),p=i(182502),g=i(837040),f=i(593814),E=i(771740),b=i(370545);let T=(0,i(105652).memo)(function(e){return(0,a.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:[(0,a.jsx)("path",{fill:"var(--fpl-icon-color-3, var(--color-icon-tertiary))",fillRule:"evenodd",d:"M7.43 5.434A7.99 7.99 0 0 0 4 12a7.99 7.99 0 0 0 3.43 6.567 7.003 7.003 0 0 0 0-13.133",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M20 12a8 8 0 0 1-11.5 7.196A8 8 0 0 0 13 12a8 8 0 0 0-4.5-7.196A8 8 0 0 1 20 12M4 12a7.99 7.99 0 0 1 3.43-6.567 7.003 7.003 0 0 1 0 13.134A7.99 7.99 0 0 1 4 12m-1 0a9 9 0 1 1 4.287 7.669A9 9 0 0 1 3 12",clipRule:"evenodd"})]})});var y=i(104626),S=i(207474),R=i(297746),v=i(141521),I=i(2227),x=i(417675),A=i(270450),O=i(32186),N=i(263618),C=i(79900),L=i(457429),w=i(433077);let D=()=>({access:{label:(0,x.t)("sites.panel.sites_issues.access"),icon:(0,a.jsx)(o.P,{})},all:{label:(0,x.t)("sites.panel.sites_issues.all_properties"),icon:void 0},autoLayout:{label:(0,x.t)("fullscreen.properties_panel.stack_panel.auto_layout"),icon:(0,a.jsx)(r.v,{})},position:{label:(0,x.t)("sites.panel.position_panel.position"),icon:(0,a.jsx)(l.P,{})},appearance:{label:(0,x.t)("fullscreen.appearance_panel.appearance"),icon:void 0},typography:{label:(0,x.t)("fullscreen.type_panel.typography"),icon:(0,a.jsx)(d.B,{})},stroke:{label:(0,x.t)("fullscreen.properties_panel.fill.stroke"),icon:(0,a.jsx)(c.E,{})},fill:{label:(0,x.t)("fullscreen.properties_panel.fill.fill"),icon:(0,a.jsx)(_.J,{})},effects:{label:(0,x.t)("properties_panel.effects.effects"),icon:(0,a.jsx)(u.A,{})},accessibility:{label:(0,x.t)("sites.panel.accessibility_header"),icon:(0,a.jsx)(m.u,{})},interactions:{label:(0,x.t)("sites.panel.interactions_panel.interactions"),icon:(0,a.jsx)(h.N,{})},link:{label:(0,x.t)("sites.lint.link"),icon:(0,a.jsx)(p.h,{})},objects:{label:(0,x.t)("sites.lint.objects"),icon:(0,a.jsx)(g.x,{})}}),j="a11y/image-is-missing-alt-text",k="a11y/interactive-object-is-missing-label";function M({text:e}){return(0,a.jsx)("span",{className:N.s.colorText.$,children:e})}let P=[{name:"layout/frame/rotated-child-with-stretch-constraints",category:"position",label:(0,x.tx)("sites.lint.layout/frame/rotated-child-with-stretch-constraints"),description:(0,x.tx)("sites.lint.layout/frame/rotated-child-with-stretch-constraints-description",{topBottom:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.constraints_panel.select.top_plus_bottom")}),leftRight:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.constraints_panel.select.left_plus_right")})}),recommendations:[{label:(0,x.tx)("sites.lint.set-position-constraints-center"),action:R.$XN.SET_POSITION_CONSTRAINTS_CENTER},{label:(0,x.tx)("sites.lint.remove-rotation"),action:R.$XN.REMOVE_ROTATION}],isViolation:e=>{let t="STRETCH"===e.horizontalConstraint||"STRETCH"===e.verticalConstraint,i=!!e.parentNode,a=e.rotation;return t&&i&&Math.abs(a)>.01}},{name:"styles/autolayout-negative-item-spacing",label:(0,x.tx)("sites.lint.styles/autolayout-negative-item-spacing"),description:(0,x.tx)("sites.lint.styles/autolayout-negative-item-spacing-description",{gap:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.section_autoLayout.label_gap")})}),category:"autoLayout",recommendations:[],isViolation:e=>{if("FRAME"!==e.type||"NONE"===e.stackMode||e.stackSpacing>=0)return!1;let t="STRETCH"===e.stackChildAlignSelf&&e.childrenNodes.every(e=>e.stackChildPrimaryGrow>0),i=e.childrenNodes.some(e=>e.isGroup),a=e.childrenNodes.some(t=>"INSTANCE"===t.type&&"NONE"!==t.stackMode&&(t.stackMode===e.stackMode&&"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===t.stackPrimarySizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===t.stackCounterSizing));return t||i||a||"WRAP"===e.stackWrap}},{name:"styles/autolayout-alignment-on-scrollable-horizontal-axis",category:"autoLayout",label:(0,x.tx)("sites.lint.styles/autolayout-alignment-on-scrollable-axis"),description:(0,x.tx)("sites.lint.styles/autolayout-alignment-on-scrollable-horizontal-axis-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-scrollable-axis-alignment"),action:R.$XN.REMOVE_SCROLLABLE_AXIS_ALIGNMENT}],isViolation:e=>"HORIZONTAL"===e.stackMode&&[{overflow:"VERTICAL"===e.scrollDirection||"BOTH"===e.scrollDirection,alignItems:e.stackCounterAlignItems},{overflow:"HORIZONTAL"===e.scrollDirection||"BOTH"===e.scrollDirection,alignItems:e.stackPrimaryAlignItems}].some(e=>("CENTER"===e.alignItems||"MAX"===e.alignItems)&&e.overflow)},{name:"styles/autolayout-alignment-on-scrollable-vertical-axis",category:"autoLayout",label:(0,x.tx)("sites.lint.styles/autolayout-alignment-on-scrollable-axis"),description:(0,x.tx)("sites.lint.styles/autolayout-alignment-on-scrollable-vertical-axis-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-scrollable-axis-alignment"),action:R.$XN.REMOVE_SCROLLABLE_AXIS_ALIGNMENT}],isViolation:e=>"VERTICAL"===e.stackMode&&[{overflow:"VERTICAL"===e.scrollDirection||"BOTH"===e.scrollDirection,alignItems:e.stackPrimaryAlignItems},{overflow:"HORIZONTAL"===e.scrollDirection||"BOTH"===e.scrollDirection,alignItems:e.stackCounterAlignItems}].some(e=>("CENTER"===e.alignItems||"MAX"===e.alignItems)&&e.overflow)},{name:"layout/autolayout-only-absolutely-positioned-children",category:"autoLayout",label:(0,x.tx)("sites.lint.layout/resizing-position-conflict"),description:(0,x.tx)("sites.lint.layout/autolayout-only-absolutely-positioned-children-description",{hugContents:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.stack_panel.al.hug")}),absolute:(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.position_panel.absolute")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-autolayout"),action:R.$XN.REMOVE_AUTOLAYOUT}],isViolation:e=>"NONE"!==e.stackMode&&0!==e.childCount&&("RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackPrimarySizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackCounterSizing)&&e.childrenNodes.every(e=>"ABSOLUTE"===e.stackPositioning)},{name:"styles/autolayout-baseline-alignment",category:"autoLayout",label:(0,x.tx)("sites.lint.styles/autolayout-baseline-alignment"),description:(0,x.tx)("sites.lint.styles/autolayout-baseline-alignment-description",{alignTextBaseline:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.stack_panel.align_text_baseline")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-alignment"),action:R.$XN.REMOVE_BASELINE_ALIGNMENT}],isViolation:e=>{if("HORIZONTAL"!==e.stackMode||"BASELINE"!==e.stackCounterAlignItems)return!1;let t=e=>e.childrenNodes.some(e=>"TEXT"===e.type||"FRAME"===e.type&&t(e));return e.childrenNodes.some(e=>"FRAME"===e.type&&t(e))}},{name:"scrolling/scrolling-enabled-with-clipped-content",category:"autoLayout",label:(0,x.tx)("sites.lint.scrolling/scrolling-enabled-with-clipped-content"),description:(0,x.tx)("sites.lint.scrolling/scrolling-enabled-with-clipped-content-description",{clipContent:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.transform_panel.clip_content")})}),recommendations:[{label:(0,x.tx)("sites.lint.set-clip-content"),action:R.$XN.SET_CLIP_CONTENT},{label:(0,x.tx)("sites.lint.remove-scrolling"),action:R.$XN.REMOVE_SCROLLING}],isViolation:e=>!e.isResponsiveSetBreakpoint&&!e.isWebpageBreakpoint&&"NONE"!==e.scrollDirection&&!0===e.frameMaskDisabled},{name:"layout/autolayout/rotated-frame-with-hug-contents",category:"autoLayout",label:(0,x.tx)("sites.lint.layout/resizing-position-conflict"),description:(0,x.tx)("sites.lint.layout/rotated-frame-with-hug-contents-description",{hugContents:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.stack_panel.al.hug")}),absolute:(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.position_panel.absolute")}),fixed:(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.position_panel.fixed")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:R.$XN.SET_AUTOLAYOUT_SIZING_FIXED}],isViolation:e=>{let t="ABSOLUTE"===e.stackPositioning,i="STRETCH"===e.horizontalConstraint||"MIN"===e.horizontalConstraint||"MAX"===e.horizontalConstraint||"STRETCH"===e.verticalConstraint||"MIN"===e.verticalConstraint||"MAX"===e.verticalConstraint,a="NONE"!==e.stackMode,s="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackPrimarySizing||"RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"===e.stackCounterSizing,n=Math.abs(e.rotation)>=.01;return t&&i&&a&&s&&n}},{name:"layout/autolayout-child-with-fill-and-rotation",category:"autoLayout",label:(0,x.tx)("sites.lint.layout/autolayout-child-with-fill-and-rotation"),description:(0,x.tx)("sites.lint.layout/autolayout-child-with-fill-and-rotation-description",{fill:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.fill.fill")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-fill-container"),action:R.$XN.REMOVE_FILL_CONTAINER},{label:(0,x.tx)("sites.lint.remove-rotation"),action:R.$XN.REMOVE_ROTATION}],isViolation:e=>"LINE"!==e.type&&!!e.parentNode&&"NONE"!==e.parentNode.stackMode&&"ABSOLUTE"!==e.stackPositioning&&("STRETCH"===e.stackChildAlignSelf||0!==e.stackChildPrimaryGrow)&&Math.abs(e.rotation)>=45&&135>=Math.abs(e.rotation)},{name:"layout/gap/space-between-legacy",category:"autoLayout",label:(0,x.tx)("sites.lint.version-out-of-date"),description:(0,x.tx)("sites.lint.version-out-of-date-description"),recommendations:[{label:(0,x.tx)("sites.lint.set-spacing-auto"),action:R.$XN.SET_AUTOLAYOUT_SPACING_AUTO}],isViolation:e=>"NONE"!==e.stackMode&&"SPACE_EVENLY"===e.stackPrimaryAlignItems},{name:"layout/autolayout-fill-and-hug",category:"autoLayout",label:(0,x.tx)("sites.lint.autolayout-fill-and-hug"),description:(0,x.tx)("sites.lint.autolayout-fill-and-hug-description",{hugContents:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.stack_panel.al.hug")}),fill:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.fill.fill")})}),isViolation:e=>"NONE"!==e.stackMode&&0!==e.childCount&&(!(("RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"!==e.stackCounterSizing||e.childrenNodes.some(e=>"STRETCH"!==e.stackChildAlignSelf&&e.visible))&&("RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"!==e.stackPrimarySizing||e.childrenNodes.some(e=>e.visible&&0===e.stackChildPrimaryGrow)))||!1),recommendations:[{label:(0,x.tx)("sites.lint.set-autolayout-sizing-fixed"),action:R.$XN.SET_AUTOLAYOUT_SIZING_FIXED},{label:(0,x.tx)("sites.lint.remove-autolayout"),action:R.$XN.REMOVE_AUTOLAYOUT}]},{name:"blendmode/plus-darker",category:"appearance",icon:(0,a.jsx)(f.q,{}),label:(0,x.tx)("sites.lint.blendmode/plus-darker"),description:(0,x.tx)("sites.lint.blendmode/plus-darker-description",{multiply:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.blend_mode.multiply")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:R.$XN.USE_BLEND_MODE_MULTIPLY}],isViolation:e=>{let t="LINEAR_BURN";return e.blendMode===t||H(e,e=>e.blendMode===t)}},{name:"strokes/corner-smoothing",category:"appearance",icon:(0,a.jsx)(E.Q,{}),label:(0,x.tx)("sites.lint.strokes/corner-smoothing"),description:(0,x.tx)("sites.lint.strokes/corner-smoothing-description",{cornerSmoothing:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.transform_panel.corner_smoothing")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:R.$XN.SET_CORNER_SMOOTHING_ZERO}],isViolation:e=>!X(e)&&!!e.cornerSmoothing&&0!==e.cornerRadius},{name:"text/vertical-trim",category:"typography",label:(0,x.tx)("sites.lint.text/vertical-trim"),description:(0,x.tx)("sites.lint.text/vertical-trim-description",{capHeight:(0,a.jsx)(M,{text:(0,x.tx)("type_settings.leading_trim.cap_height")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-vertical-trim"),action:R.$XN.REMOVE_VERTICAL_TRIM}],isViolation:e=>"TEXT"===e.type&&"CAP_HEIGHT"===e.leadingTrim},{name:"text/stroke",category:"typography",label:(0,x.tx)("sites.lint.text/stroke"),description:(0,x.tx)("sites.lint.text/stroke-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-stroke"),action:R.$XN.REMOVE_STROKE}],isViolation:e=>"TEXT"===e.type&&z(e)},{name:"styles/texture-pattern-fill",category:"fill",label:(0,x.tx)("sites.lint.styles/texture-pattern-fill"),description:(0,x.tx)("sites.lint.styles/texture-pattern-fill-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-texture"),action:R.$XN.REMOVE_TEXTURE_PATTERN_FILL}],isViolation:e=>!X(e)&&H(e,e=>"PATTERN"===e.type)},{name:"styles/texture-noise-fill",category:"fill",label:(0,x.tx)("sites.lint.styles/texture-noise-fill"),description:(0,x.tx)("sites.lint.styles/texture-noise-fill-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-texture"),action:R.$XN.REMOVE_TEXTURE_NOISE_FILL}],isViolation:e=>!X(e)&&H(e,e=>"NOISE"===e.type)},{name:"styles/strokes-blend-mode",category:"stroke",label:(0,x.tx)("sites.lint.styles/strokes-blend-mode"),description:(0,x.tx)("sites.lint.styles/strokes-blend-mode-description",{normal:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.blend_mode.normal")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:R.$XN.REMOVE_STROKE_BLEND_MODE}],isViolation:e=>z(e,e=>e.blendMode&&"NORMAL"!==e.blendMode)},{name:"styles/strokes-gradient",category:"stroke",label:(0,x.tx)("sites.lint.styles/strokes-gradient"),description:(0,x.tx)("sites.lint.styles/strokes-gradient-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-gradient"),action:R.$XN.REMOVE_STROKE_GRADIENT}],isViolation:e=>!X(e)&&z(e,V)},{name:"styles/strokes-join-miter",category:"stroke",label:(0,x.tx)("sites.lint.styles/strokes-join-miter"),description:(0,x.tx)("sites.lint.styles/strokes-join-miter-description",{miter:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.stroke_settings.miter")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:R.$XN.REMOVE_CUSTOM_JOIN}],isViolation:e=>!e.isInImmutableFrame&&(e.strokeGeometry?.length>0&&"MITER"!==e.strokeJoin||4!==e.strokeMiterLimit)},{name:"styles/strokes-image",category:"stroke",label:(0,x.tx)("sites.lint.styles/strokes-image"),description:(0,x.tx)("sites.lint.styles/strokes-image-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-image"),action:R.$XN.REMOVE_STROKE_IMAGE}],isViolation:e=>!e.isInImmutableFrame&&z(e,e=>"IMAGE"===e.type)},{name:"styles/video-stroke",category:"stroke",label:(0,x.tx)("sites.lint.styles/video"),description:(0,x.tx)("sites.lint.video-stroke-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-video"),action:R.$XN.REMOVE_VIDEO_STROKE}],isViolation:e=>z(e,e=>"VIDEO"===e.type)},{name:"styles/texture-dynamic-stroke",category:"stroke",label:(0,x.tx)("sites.lint.styles/texture-dynamic-stroke"),description:(0,x.tx)("sites.lint.styles/texture-dynamic-stroke-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-texture-stroke"),action:R.$XN.REMOVE_TEXTURE_DYNAMIC_STROKE}],isViolation:e=>{if(!z(e))return!1;let t=1!==e.dynamicStrokeSettings.interval||0!==e.dynamicStrokeSettings.wiggle||0!==e.dynamicStrokeSettings.smoothen;return!X(e)&&t}},{name:"styles/texture-brush-stroke",category:"stroke",label:(0,x.tx)("sites.lint.styles/texture-brush-stroke"),description:(0,x.tx)("sites.lint.styles/texture-brush-stroke-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-texture-stroke"),action:R.$XN.REMOVE_TEXTURE_BRUSH_STROKE}],isViolation:e=>{if(!z(e))return!1;let t=e.strokeBrushGuid!==I.AD;return!X(e)&&t}},{name:"effects/frames-no-fills",label:(0,x.tx)("sites.lint.effects/frames-no-fills"),description:(0,x.tx)("sites.lint.effects/frames-no-fills-description"),category:"effects",recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:R.$XN.REMOVE_EFFECTS}],isViolation:e=>["FRAME","RECTANGLE","ROUNDED_RECTANGLE","INSTANCE"].includes(e.type)&&!H(e)&&W(e)},{name:"styles/text-background-blur",category:"effects",label:(0,x.tx)("sites.lint.styles/text-background-blur"),description:(0,x.tx)("sites.lint.styles/text-background-blur-description",{backgroundBlur:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.effects.background_blur")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-blur"),action:R.$XN.REMOVE_TEXT_BACKGROUND_BLUR}],isViolation:e=>"TEXT"===e.type&&W(e,e=>"BACKGROUND_BLUR"===e.type)},{name:"styles/text-inner-shadows",category:"effects",label:(0,x.tx)("sites.lint.styles/text-inner-shadows"),description:(0,x.tx)("sites.lint.styles/text-inner-shadows-description",{innerShadow:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.effects.inner_shadow")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-shadow"),action:R.$XN.REMOVE_TEXT_INNER_SHADOW}],isViolation:e=>"TEXT"===e.type&&W(e,e=>"INNER_SHADOW"===e.type)},{name:"styles/shadow-blend-mode",label:(0,x.tx)("sites.lint.styles/shadow-blend-mode"),description:(0,x.tx)("sites.lint.styles/shadow-blend-mode-description",{normal:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.blend_mode.normal")})}),category:"effects",recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:R.$XN.SET_BLEND_MODE_NORMAL}],isViolation:e=>W(e,e=>("DROP_SHADOW"===e.type||"INNER_SHADOW"===e.type)&&e.blendMode&&"NORMAL"!==e.blendMode)},{name:k,category:"accessibility",label:(0,x.tx)("sites.lint.a11y/interactive-object-is-missing-label"),description:(0,x.tx)("sites.lint.a11y/action/add-label-to-interactive-object-params",{aria_label_option:(0,a.jsx)(M,{text:(0,a.jsx)(a.Fragment,{children:w.kp})})}),recommendations:[],isViolation:e=>{if(e.ariaAttributes&&e.ariaAttributes[w.Iz]?.value===!0||e.isDecorativeImage||!e.isAccessibilityAnnotatable||eo(e))return!1;let t=(0,L.xb)(e);return!(t&&(0,L.pQ)(e))&&t}},{name:j,category:"accessibility",label:(0,x.tx)("sites.lint.a11y/image-is-missing-alt-text"),description:(0,x.tx)("sites.lint.a11y/images-have-no-alt-text-description",{alt_text:(0,a.jsx)(M,{text:(0,a.jsx)(a.Fragment,{children:w.XM})})}),recommendations:[],isViolation:e=>!!e.isAccessibilityAnnotatable&&(!e.ariaAttributes||e.ariaAttributes[w.Iz]?.value!==!0)&&!e.isDecorativeImage&&!!(!eo(e)&&(0,L.pQ)(e))},{name:"interactions/close_overlay",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,a.jsx)(M,{text:(0,x.tx)("proto.action_close_overlay")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:R.$XN.REMOVE_CLOSE_OVERLAY_ACTIONS}],isViolation:e=>K(e,"CLOSE")},{name:"interactions/open_overlay",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,a.jsx)(M,{text:(0,x.tx)("proto.action_open_overlay")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:R.$XN.REMOVE_OPEN_OVERLAY_ACTIONS}],isViolation:e=>$(e,"OVERLAY")},{name:"interactions/set_variable_mode",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,a.jsx)(M,{text:(0,x.tx)("proto.action_set_variable_mode")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:R.$XN.REMOVE_SET_VARIABLE_MODE_ACTIONS}],isViolation:e=>K(e,"SET_VARIABLE_MODE")},{name:"interactions/links",category:"interactions",label:(0,x.tx)("sites.lint.trigger-conflict"),description:(0,x.tx)("sites.lint.interactions/links",{onClick:(0,a.jsx)(M,{text:(0,x.tx)("proto.interaction.type.on_click")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-trigger"),action:R.$XN.REMOVE_ON_CLICK_ACTIONS}],isViolation:e=>es(e)},{name:"interactions/nested",category:"interactions",label:(0,x.tx)("sites.lint.nested_interactions_title"),description:(0,x.tx)("sites.lint.nested_interactions_description"),recommendations:[],enabled:()=>!!(0,A.getFeatureFlags)().sts_a11y_nested_interaction_lint,isViolation:(e,t)=>{let i=en(e),a=t?.ancestorIsInteractive??!1,s={...t,ancestorIsInteractive:i||a};return[i&&a,s]}},{name:"animation/smart_animate_navigate_to",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-animation"),description:(0,x.tx)("sites.lint.animation/smart_animate_navigate_to_description",{smartAnimate:(0,a.jsx)(M,{text:(0,x.tx)("proto.transition_behavior.smart_animate")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:R.$XN.REMOVE_NAVIGATE_ACTIONS_WITH_SMART_ANIMATE}],isViolation:e=>ea(e,"NAVIGATE","SMART_ANIMATE")},{name:"interactions/gamepad",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-trigger"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,a.jsx)(M,{text:(0,x.tx)("proto.interaction.type.key_gamepad")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-trigger"),action:R.$XN.REMOVE_GAMEPAD_ACTIONS}],isViolation:e=>Z(e)},{name:"interactions/mouse_in",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-trigger"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,a.jsx)(M,{text:(0,x.tx)("proto.interaction.type.mouse_enter_deprecated")})}),recommendations:[{label:(0,x.tx)("sites.lint.replace-trigger"),action:R.$XN.REMOVE_MOUSE_IN_ACTIONS}],isViolation:e=>Y(e,"MOUSE_IN")},{name:"interactions/mouse_out",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-trigger"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,a.jsx)(M,{text:(0,x.tx)("proto.interaction.type.mouse_leave_deprecated")})}),recommendations:[{label:(0,x.tx)("sites.lint.replace-trigger"),action:R.$XN.REMOVE_MOUSE_OUT_ACTIONS}],isViolation:e=>Y(e,"MOUSE_OUT")},{name:"behaviors/marquee_without_autolayout",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.behaviors/marquee-without-autolayout-description",{marquee:(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.marquee_behavior")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:R.$XN.ADD_AUTOLAYOUT}],isViolation:e=>"FRAME"===e.type&&!e.isStack&&Q(e,s.Xc.Marquee)},{name:"behaviors/reveal_and_parallax",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.appear_behavior")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.code_behaviors.mouse_parallax.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.appear_behavior"),action:R.$XN.REMOVE_APPEAR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.mouse_parallax.name"),action:R.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Q(e,s.Xc.Appear),i=J(e,"MouseParallax");return t&&i}},{name:"behaviors/cursor_and_typewriter",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.cursor_behavior")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.code_behaviors.typewriter.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.cursor_behavior"),action:R.$XN.REMOVE_CURSOR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.typewriter.name"),action:R.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Q(e,s.Xc.Cursor),i=J(e,"Typewriter");return t&&i}},{name:"behaviors/cursor_and_scramble_text",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.cursor_behavior")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.code_behaviors.text_scramble.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.cursor_behavior"),action:R.$XN.REMOVE_CURSOR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.text_scramble.name"),action:R.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Q(e,s.Xc.Cursor),i=J(e,"ScrambleText");return t&&i}},{name:"behaviors/reveal_and_typewriter",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.appear_behavior")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.code_behaviors.typewriter.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.appear_behavior"),action:R.$XN.REMOVE_APPEAR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.typewriter.name"),action:R.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Q(e,s.Xc.Appear),i=J(e,"Typewriter");return t&&i}},{name:"behaviors/reveal_and_scramble",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.appear_behavior")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.code_behaviors.text_scramble.name")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.appear_behavior"),action:R.$XN.REMOVE_APPEAR_BEHAVIOR},{label:(0,x.tx)("sites.code_behaviors.text_scramble.name"),action:R.$XN.REMOVE_CODE_BEHAVIORS}],isViolation:e=>{let t=Q(e,s.Xc.Appear),i=J(e,"ScrambleText");return t&&i}},{name:"behaviors/mouse_and_scroll_parallax",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.code_behaviors.mouse_parallax.name")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.scroll_parallax_behavior")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.code_behaviors.mouse_parallax.name"),action:R.$XN.REMOVE_CODE_BEHAVIORS},{label:(0,x.tx)("sites.panel.interactions_panel.scroll_parallax_behavior"),action:R.$XN.REMOVE_SCROLL_PARALLAX_BEHAVIOR}],isViolation:e=>{let t=J(e,"MouseParallax"),i=Q(e,s.Xc.ScrollParallax);return t&&i}},{name:"behaviors/reveal_and_scroll_transform",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.appear_behavior")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.scroll_transform_behavior")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.appear_behavior"),action:R.$XN.REMOVE_APPEAR_BEHAVIOR},{label:(0,x.tx)("sites.panel.interactions_panel.scroll_transform_behavior"),action:R.$XN.REMOVE_SCROLL_TRANSFORM_BEHAVIOR}],isViolation:e=>{let t=Q(e,s.Xc.Appear),i=Q(e,s.Xc.ScrollTransform);return t&&i}},{name:"behaviors/scroll_transform_and_scroll_parallax",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.scroll_transform_behavior")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.panel.interactions_panel.scroll_parallax_behavior")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.panel.interactions_panel.scroll_transform_behavior"),action:R.$XN.REMOVE_SCROLL_TRANSFORM_BEHAVIOR},{label:(0,x.tx)("sites.panel.interactions_panel.scroll_parallax_behavior"),action:R.$XN.REMOVE_SCROLL_PARALLAX_BEHAVIOR}],isViolation:e=>{let t=Q(e,s.Xc.ScrollTransform),i=Q(e,s.Xc.ScrollParallax);return t&&i}},{name:"behaviors/on_hover_and_hover",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.lint.behaviors/hover-behavior")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.lint.behaviors/hover-interaction-trigger")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.lint.behaviors/hover-behavior"),action:R.$XN.REMOVE_HOVER_BEHAVIOR},{label:(0,x.tx)("sites.lint.behaviors/hover-interaction-trigger"),action:R.$XN.REMOVE_ON_HOVER_ACTIONS}],isViolation:e=>{let t=Q(e,s.Xc.Hover),i=Y(e,"ON_HOVER");return t&&i}},{name:"behaviors/on_press_and_press",category:"interactions",label:(0,x.tx)("sites.lint.interactions/action-conflict"),description:(0,x.tx)("sites.lint.behaviors/conflicting-actions-description",{actions:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M,{text:(0,x.tx)("sites.lint.behaviors/press-behavior")}),(0,a.jsxs)("span",{children:[" ",(0,x.tx)("sites.lint.interactions.and")," "]}),(0,a.jsx)(M,{text:(0,x.tx)("sites.lint.behaviors/press-interaction-trigger")})]})}),recommendationLabelOverride:(0,x.tx)("sites.lint.interactions.remove"),recommendations:[{label:(0,x.tx)("sites.lint.behaviors/press-behavior"),action:R.$XN.REMOVE_PRESS_BEHAVIOR},{label:(0,x.tx)("sites.lint.behaviors/press-interaction-trigger"),action:R.$XN.REMOVE_ON_PRESS_ACTIONS}],isViolation:e=>{let t=Q(e,s.Xc.Press),i=Y(e,"ON_PRESS");return t&&i}},{name:"interactions/swap_overlay",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,a.jsx)(M,{text:(0,x.tx)("proto.action_swap_overlay")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:R.$XN.REMOVE_SWAP_OVERLAY_ACTIONS}],isViolation:e=>$(e,"SWAP")},{name:"interactions/on_drag",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-trigger"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,a.jsx)(M,{text:(0,x.tx)("proto.interaction.type.on_drag")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-trigger"),action:R.$XN.REMOVE_ON_DRAG_ACTIONS}],isViolation:e=>Y(e,"DRAG")},{name:"animation/dissolve",category:"interactions",label:(0,x.tx)("sites.lint.unsupported-animation"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,a.jsx)(M,{text:(0,x.tx)("proto.transition_behavior.dissolve")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-animation"),action:R.$XN.REMOVE_DISSOLVE_ANIMATIONS}],isViolation:e=>q(e,"DISSOLVE")},{name:"nodetype/connector",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/connector")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:R.$XN.REMOVE_CONNECTOR}],isViolation:e=>"CONNECTOR"===e.type},{name:"nodetype/shape-with-text",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/shape-with-text")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:R.$XN.REMOVE_SHAPE_WITH_TEXT}],isViolation:e=>"SHAPE_WITH_TEXT"===e.type},{name:"nodetype/sticky",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/sticky")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:R.$XN.REMOVE_STICKY}],isViolation:e=>"STICKY"===e.type},{name:"nodetype/washi-tape",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.is-not-supported",{action:(0,x.tx)("sites.lint.nodetype/washi-tape")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:R.$XN.REMOVE_WASHI_TAPE}],isViolation:e=>"WASHI_TAPE"===e.type},{name:"nodetype/highlight",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/highlight")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:R.$XN.REMOVE_HIGHLIGHT}],isViolation:e=>"HIGHLIGHT"===e.type},{name:"nodetype/stamp",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/stamp")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:R.$XN.REMOVE_STAMP}],isViolation:e=>"STAMP"===e.type},{name:"nodetype/table",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/table")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:R.$XN.REMOVE_TABLE}],isViolation:e=>"TABLE"===e.type},{name:"nodetype/widget",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/widget")}),recommendations:[{label:(0,x.tx)("sites.lint.remove-object"),action:R.$XN.REMOVE_WIDGET}],isViolation:e=>"WIDGET"===e.type&&!e.isHTMLWidget},{name:"vector/variable-binding",category:"interactions",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.vectors/variable-binding-unsupported-description",{setVariable:(0,a.jsx)(M,{text:(0,x.tx)("proto.action_set_variable")}),fill:(0,a.jsx)(M,{text:(0,x.tx)("proto.frame_preset_panel.fill")}),stroke:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.fill.stroke")})}),recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:R.$XN.REMOVE_VECTOR_SET_VARIABLE_ACTIONS}],isViolation:e=>{let t=e.prototypeInteractions.flatMap(e=>e.actions).filter(e=>e?.connectionType==="SET_VARIABLE").map(e=>e?.targetVariable?.id).filter(e=>void 0!==e);if(0===t.length)return!1;let i=new Set(["fills","strokes"]),a=[];for(let e of t){let t;t=e.assetRef&&e.assetRef.key&&e.assetRef.version?y.sD.fromRef({key:(0,S.ey)(e.assetRef.key),version:(0,S.nK)(e.assetRef.version)}):y.sD.fromLocalNodeIdObj(e.guid??I.Hr);let i=R.glU?.transitiveConsumersOfVariable(t);i&&(a=a.concat(Array.from(i)))}let s=t.map(e=>{let t=y.sD.INVALID;return e.guid?t=y.sD.fromLocalNodeIdObj(e.guid):e.assetRef&&void 0!==e.assetRef.key&&void 0!==e.assetRef.version&&(t=y.sD.fromRef({key:(0,S.ey)(e.assetRef.key),version:(0,S.nK)(e.assetRef.version)})),t?.toString()});for(let t of a){let a=e.sceneGraph.get(t);if(a?.type==="VECTOR")for(let e of Object.entries(a?.boundVariables)){let[t,a]=e;if(Array.isArray(a))for(let e=0;e<a.length;e++){let n=a[e];if(n&&!i.has(t)&&s.includes(n.id))return!0}else if(!i.has(t)&&s.includes(a.id))return!0}}return!1}},{name:"nodetype/text-path",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.are-not-supported",{action:(0,x.tx)("sites.lint.nodetype/text-path")}),recommendations:[],isViolation:e=>"TEXT_PATH"===e.type},{name:"effects/grain",category:"effects",label:(0,x.tx)("sites.lint.effects/grain"),description:(0,x.tx)("sites.lint.effects/grain-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:R.$XN.REMOVE_GRAIN_EFFECT}],isViolation:e=>!X(e)&&W(e,e=>"GRAIN"===e.type)},{name:"effects/noise",category:"effects",label:(0,x.tx)("sites.lint.effects/noise"),description:(0,x.tx)("sites.lint.effects/noise-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:R.$XN.REMOVE_NOISE_EFFECT}],isViolation:e=>!X(e)&&W(e,e=>"NOISE"===e.type)},{name:"effects/progressive-blur",category:"effects",label:(0,x.tx)("sites.lint.effects/progressive-blur"),description:(0,x.tx)("sites.lint.effects/progressive-blur-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:R.$XN.REMOVE_PROGRESSIVE_BLUR}],isViolation:e=>!X(e)&&W(e,e=>("FOREGROUND_BLUR"===e.type||"BACKGROUND_BLUR"===e.type)&&"PROGRESSIVE"===e.blurOpType)},{name:"effects/glass",category:"effects",label:(0,x.tx)("sites.lint.effects/glass"),description:(0,x.tx)("sites.lint.effects/glass-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-effect"),action:R.$XN.REMOVE_GLASS}],isViolation:e=>!X(e)&&W(e,e=>"GLASS"===e.type)},{name:"link/link-to-deleted-object",category:"link",label:(0,x.tx)("sites.lint.missing_hyperlink"),description:(0,x.tx)("sites.lint.missing_hyperlink_description"),recommendations:[{label:(0,x.tx)("sites.lint.missing_hyperlink.remove_link"),action:R.$XN.REMOVE_LINKS_TO_DELETED_NODES}],isViolation:e=>{if(!e.hyperlink)return!1;if("mixed"===e.hyperlink){let t=e.textData?.characters;if(!t)return!1;let i=0,a=null;for(;i<t.length;){let t=e.getRangeHyperlink(i,i+1);if(t!==a&&null!==t&&(a=t,"NODE"===t.type&&null==e.sceneGraph.get(t.value)))return!0;i++}}else if("NODE"===e.hyperlink.type){let t=e.hyperlink.value;return null==e.sceneGraph.get(t)}return!1}},{name:"interactions/scroll_to_in_component_instance",label:(0,x.tx)("sites.lint.interactions/unsupported-action"),description:(0,x.tx)("sites.lint.interactions/scroll-to-in-component-instance-unsupported"),category:"interactions",recommendations:[{label:(0,x.tx)("sites.lint.remove-action"),action:R.$XN.REMOVE_SCROLL_TO_ACTIONS}],isViolation:e=>ee(e,t=>{if("SCROLL_TO"!==t.navigationType)return!1;let i=t.transitionNodeID;if(!i)return!1;let a=e.sceneGraph.get(I.dI(i));return!!a&&!!a.isInstanceSublayer})},{name:"appearance/image-adjustments",category:"appearance",icon:(0,a.jsx)(b.s,{}),label:(0,x.tx)("sites.lint.appearance/image-adjustments"),description:(0,x.tx)("sites.lint.appearance/image-adjustments-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-image-adjustments"),action:R.$XN.REMOVE_IMAGE_ADJUSTMENTS}],isViolation:e=>H(e,e=>{if("IMAGE"!==e.type||!e.paintFilter)return!1;let t=e.paintFilter;return!!t&&["exposure","contrast","vibrance","temperature","tint","highlights","shadows"].some(e=>{let i=t[e];return void 0!==i&&!(0,n.xN)(i,0)})})},{name:"appearance/transformed-mask",category:"appearance",label:(0,x.tx)("sites.lint.appearance/transformed-mask"),description:(0,x.tx)("sites.lint.appearance/transformed-mask-description"),icon:(0,a.jsx)(T,{}),recommendations:[{label:(0,x.tx)("sites.lint.appearance/remove-mask-transform"),action:R.$XN.REMOVE_MASK_TRANSFORM}],isViolation:e=>{if(!(e.childrenNodes&&e.childrenNodes.some(e=>e.mask)))return!1;let t=v.s.identity().toFigMatrix(),i=e=>{let{m00:i,m01:a,m10:s,m11:o}=e.relativeTransform;return!(((0,n.xN)(i,1)||(0,n.xN)(i,-1))&&((0,n.xN)(o,1)||(0,n.xN)(o,-1))&&(0,n.xN)(a,0)&&(0,n.xN)(s,0))&&(!(0,n.xN)(i,t.m00)||!(0,n.xN)(a,t.m01)||!(0,n.xN)(s,t.m10)||!(0,n.xN)(o,t.m11))};return!!i(e)||e.childrenNodes.some(i)}},{name:"fills/rotated-image",category:"fill",label:(0,x.tx)("sites.lint.fills/rotated-image"),description:(0,x.tx)("sites.lint.fills/rotated-image-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-rotation"),action:R.$XN.REMOVE_IMAGE_ROTATION},{label:(0,x.tx)("sites.lint.fills/remove-fill"),action:R.$XN.REMOVE_ROTATED_IMAGE_FILL}],isViolation:e=>H(e,e=>{if("IMAGE"!==e.type)return!1;if(0!==e.rotation)return!0;if("STRETCH"===e.imageScaleMode&&e.transform){let t=v.s.fromFigMatrix(e.transform);if(!(0,n.xN)(t.toRadians(),0))return!0}return!1})},{name:"fills/rotated-video",category:"fill",label:(0,x.tx)("sites.lint.fills/rotated-video"),description:(0,x.tx)("sites.lint.fills/rotated-video-description"),recommendations:[{label:(0,x.tx)("sites.lint.remove-rotation"),action:R.$XN.REMOVE_VIDEO_ROTATION},{label:(0,x.tx)("sites.lint.fills/remove-fill"),action:R.$XN.REMOVE_ROTATED_VIDEO_FILL}],isViolation:e=>H(e,e=>{if("VIDEO"!==e.type)return!1;if(0!==e.rotation)return!0;if("STRETCH"===e.imageScaleMode&&e.transform){let t=v.s.fromFigMatrix(e.transform);if(!(0,n.xN)(t.toRadians(),0))return!0}return!1})},{name:"fills/video-fill-exclusive",category:"fill",label:(0,x.tx)("sites.lint.fills/video-fill-exclusive"),description:(0,x.tx)("sites.lint.fills/video-fill-exclusive-description"),recommendations:[],isViolation:e=>{let t=H(e,e=>"VIDEO"===e.type),i=e.fills.filter(e=>B(e)).length>1;return t&&i}},{name:"fills/video-fill-unsupported-node",category:"fill",label:(0,x.tx)("sites.lint.fills/video-fill-unsupported-node"),description:(0,x.tx)("sites.lint.fills/video-fill-unsupported-node-description"),recommendations:[],isViolation:e=>{let t=["RECTANGLE","ROUNDED_RECTANGLE","FRAME"].includes(e.type);return H(e,e=>"VIDEO"===e.type)&&!t}},{name:"fills/video-fill-invalid-scale-mode",category:"fill",label:(0,x.tx)("sites.lint.fills/video-fill-invalid-scale-mode"),description:(0,x.tx)("sites.lint.fills/video-fill-invalid-scale-mode-description",{Tile:(0,a.jsx)(M,{text:(0,x.tx)("fullscreen.properties_panel.image_scale.tile")})}),recommendations:[{label:(0,x.tx)("sites.lint.fix-issue"),action:R.$XN.SET_VIDEO_FILL_SCALE_MODE_FILL}],isViolation:e=>H(e,e=>"VIDEO"===e.type&&"TILE"===e.imageScaleMode)},{name:"fills/video-settings-controls-autoplay-invalid",category:"fill",label:(0,x.tx)("sites.lint.fills/video-playback-warning"),description:(0,x.tx)("sites.lint.fills/video-settings-controls-autoplay-invalid-description"),recommendations:[{label:(0,x.tx)("sites.lint.turn-on-autoplay"),action:R.$XN.SET_VIDEO_AUTOPLAY},{label:(0,x.tx)("sites.lint.show-controls"),action:R.$XN.SET_VIDEO_CONTROLS}],isViolation:e=>H(e,t=>{if("VIDEO"!==t.type)return!1;let i=e.videoPlayback;return!e.videoPlayback.showControls&&!i.autoplay})},{name:"fills/video-settings-muted-autoplay-invalid",category:"fill",label:(0,x.tx)("sites.lint.fills/video-playback-warning"),description:(0,x.tx)("sites.lint.fills/video-settings-muted-autoplay-invalid-description"),recommendations:[],isViolation:e=>H(e,t=>{if("VIDEO"!==t.type)return!1;let i=e.videoPlayback;return!i.muted&&i.autoplay})},{name:"nodetype/component-set-in-responsive-set",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.component-sets-in-pages"),recommendations:[],isViolation:e=>e.isStateGroup},{name:"nodetype/component-in-responsive-set",category:"objects",label:(0,x.tx)("sites.lint.nodetype/unsupported"),description:(0,x.tx)("sites.lint.components-in-pages"),recommendations:[],isViolation:e=>e.isLooseComponent&&e.isInResponsiveSetOrWebpage},{name:"layout/fixed-child-outside-of-tlf",category:"position",label:(0,x.tx)("sites.lint.layout/fixed-child-outside-of-tlf"),description:(0,x.tx)("sites.lint.layout/fixed-child-outside-of-tlf-description"),recommendations:[{label:(0,x.tx)("sites.lint.set-position-absolute"),action:R.$XN.SET_POSITION_ABSOLUTE}],isViolation:e=>{if("FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"!==e.scrollBehavior)return!1;if(e.parentGuid){let t=e.sceneGraph.get(e.parentGuid);if(t&&t.parentGuid){let e=t.parentNode;if(!e?.isResponsiveSetOrWebpage)return!0}}return!1}},{name:"fills/cms-rich-text-gradient-fill",category:"fill",label:(0,x.tx)("sites.lint.fills/cms-rich-text-gradient-fill"),description:(0,x.tx)("sites.lint.fills/cms-rich-text-gradient-fill-description"),recommendations:[{label:(0,x.tx)("sites.lint.fills/remove-fill"),action:R.$XN.REMOVE_GRADIENT_FILL}],enabled:()=>!!(0,A.getFeatureFlags)().dakota,isViolation:e=>"CMS_RICH_TEXT"===e.type&&H(e,e=>V(e))},{name:"fills/cms-rich-text-image-fill",category:"fill",label:(0,x.tx)("sites.lint.fills/cms-rich-text-image-fill"),description:(0,x.tx)("sites.lint.fills/cms-rich-text-image-fill-description"),recommendations:[{label:(0,x.tx)("sites.lint.fills/remove-fill"),action:R.$XN.REMOVE_IMAGE_FILL}],enabled:()=>!!(0,A.getFeatureFlags)().dakota,isViolation:e=>"CMS_RICH_TEXT"===e.type&&H(e,e=>"IMAGE"===e.type)},{name:"fills/cms-bound-image-with-mask",category:"fill",label:(0,x.tx)("sites.lint.fills/cms-bound-image-with-mask"),description:(0,x.tx)("sites.lint.fills/cms-bound-image-with-mask-description"),icon:(0,a.jsx)(T,{}),recommendations:[],enabled:()=>!!(0,A.getFeatureFlags)().dakota,isViolation:e=>!!H(e,C.i2)&&!!(!0===e.mask||e.parentNode?.childrenNodes?.some(e=>e.mask))},{name:"fills/cms-bound-image-on-vector",category:"fill",label:(0,x.tx)("sites.lint.fills/cms-bound-image-on-vector"),description:(0,x.tx)("sites.lint.fills/cms-bound-image-on-vector-description"),icon:(0,a.jsx)(g.x,{}),recommendations:[],enabled:()=>!!(0,A.getFeatureFlags)().dakota,isViolation:e=>X(e)&&H(e,C.i2)}],F=e=>{let t=new Set,i=[e];for(;i.length>0;){let e=i.pop();t.add(e),i.push(...e.childrenNodes)}return t};function U(e,t){if(!e)return!1;let i=e.containingCanvas,a=i&&t.get(i);return!!a&&!a.isInternalOnlyNode}async function G(e,t,i,a,s=!1){var n,o;let r=[];for(let e of P){if(!(!("enabled"in e)||e.enabled()))continue;let a=t.get(i),n=function(e,t,i,a,s=!1){if(!t)return[];let n=[{node:t,context:a}],o=new Set,r=new Set,l=new Set;for(;n.length>0;){let{node:t,context:a}=n.shift();if(!(t.visible||t.boundVariables.visible)||r.has(t.guid))continue;let d=i.isViolation(t,a),[c,_]="boolean"==typeof d?[d,void 0]:d,u=t.isInstanceSublayer||"INSTANCE"===t.type,m=t.isInstance?t.symbolId:t.isInstanceSublayer?t.overrideKey:null;if(c&&(u&&m?(l.has(m)&&!o.has(m)?o.add(t.guid):function(e,t,i,a){let s=t.get(e);if(!U(s,t))return!1;let n=i.isViolation(s,a),[o]="boolean"==typeof n?[n,void 0]:n;return o}(m,e,i,a)&&o.add(m),l.add(m)):o.add(t.guid)),s&&o.size>0)break;if(["INSTANCE","SYMBOL"].includes(t.type)){if(m){let t=e.get(m);U(t,e)&&n.push({node:t,context:a})}[...F(t)].flatMap(t=>et(t,e=>"SWAP_STATE"===e.navigationType).map(t=>{if(!t.transitionNodeID)return;let i=I.dI(t.transitionNodeID);if(U(e.get(i),e))return i}).filter(Boolean)).forEach(t=>{let i=e.get(t);i&&n.push({node:i,context:a})})}r.add(t.guid),t.childrenNodes.forEach(e=>{n.push({node:e,context:_})})}let d=Array.from(o);return(i.name===j||i.name===k)&&d.length>1?d.slice(0,1):d}(t,a,e,void 0,s);if(n.length>0&&(r.push({...e,nodeIds:n}),s))break;await new Promise(e=>setTimeout(e,0))}return n=r,o=a,Object.entries(n.reduce((e,t)=>(e[t.name]=(e[t.name]||0)+1,e),{})).map(([e,t])=>{O.az.trackDefinedEvent("sites.linting_errors",{lintRule:e,count:t,source:o})}),r}let B=e=>!!e.visible&&0!==(e.opacity||1)&&(!!("SOLID"===e.type&&(e.color?.a||1)>0)||!V(e)||e.stops?.some(e=>e.color.a>0));function V(e){return"GRADIENT_ANGULAR"===e.type||"GRADIENT_DIAMOND"===e.type||"GRADIENT_LINEAR"===e.type||"GRADIENT_RADIAL"===e.type}function X(e){return"ELLIPSE"===e.type||"REGULAR_POLYGON"===e.type||"STAR"===e.type||"VECTOR"===e.type||"LINE"===e.type||"BOOLEAN_OPERATION"===e.type}function H(e,t=()=>!0){return e.fills.length>0&&e.fills.some(e=>t(e)&&B(e))}function z(e,t=()=>!0){return e.strokePaints.data.length>0&&e.strokePaints.data.some(e=>t(e)&&B(e))}function W(e,t=()=>!0){return e.effects.some(e=>t(e)&&e.visible)}let K=(e,t)=>ee(e,e=>e.connectionType===t),$=(e,t)=>ee(e,e=>e.navigationType===t),q=(e,t)=>ee(e,e=>e.transitionType===t),Y=(e,t)=>ei(e,e=>e.event?.interactionType===t),Z=e=>ei(e,e=>e.event?.interactionType==="ON_KEY_DOWN"&&e.event?.keyTrigger?.triggerDevice!=="KEYBOARD"),Q=(e,t)=>!!e.behaviors&&t in e.behaviors;function J(e,t){if(!e.behaviors?.code||0===e.behaviors.code.length)return!1;let i=y._H.fromString(e.behaviors.code[0].codeComponentId);if(!i)return!1;let a=e.sceneGraph.getCodeComponentNode(i);return!!a?.isCodeBehavior&&a?.name===t}let ee=(e,t)=>e.prototypeInteractions.some(e=>e.actions?.some(e=>t(e)||e.conditionalActions?.some(e=>e.actions?.some(t)))),et=(e,t)=>{let i=[];return e.prototypeInteractions.forEach(e=>{e.actions?.forEach(e=>{t(e)&&i.push(e),e.conditionalActions?.forEach(e=>{e.actions?.forEach(e=>{t(e)&&i.push(e)})})})}),i},ei=(e,t)=>e.prototypeInteractions.some(e=>t(e)),ea=(e,t,i)=>ee(e,e=>{let a="ANY"===i?"INSTANT_TRANSITION"!==e.transitionType:e.transitionType===i;return e.navigationType===t&&a}),es=e=>!!e.hyperlink&&Y(e,"ON_CLICK"),en=e=>!!e.hyperlink||Y(e,"ON_CLICK")||"BUTTON"===e.accessibleHTMLTag;function eo(e){let t=[e];for(;t.length>0;){let e=t.pop();if(e.characters&&e.characters.length>0||e.accessibleLabel&&e.accessibleLabel.length>0||e.fills.some(e=>"IMAGE"===e.type&&e.imageVar?.dataType==="CMS_ALIAS"&&e.imageVar?.value?.cmsAliasValue&&e.altText&&e.altText.length>0))return!0;e.childrenNodes&&t.push(...e.childrenNodes)}return!1}},522721(e,t,i){i.d(t,{pq:()=>h,CS:()=>_,iF:()=>m});var a=i(417675),s=i(759231),n=i(101047),o=i(622179),r=i(306874);let l=(0,i(449721).d)(null,e=>{let t=e.getCurrentPage();return t?.siteHomepageId??null}),d=(0,o.Wh)(e=>(0,s.eU)(t=>{let i=t(r.Vny.Query({fileKey:e||""}));if("loaded"!==i.status)return!1;let a=i.data?.siteMount,s=a?.pwdConfig?.webpageGuids||[];if(0===s.length)return!1;let n=t(l);return!!n&&s.includes(n)}));var c=i(163534);let _="_site_wide";function u(){setTimeout(()=>{window.dispatchEvent(new CustomEvent("scrollToSiteAccessSection"))},300)}let m=(0,s.eU)(e=>{let t=[];e(c.C)&&t.push({name:"access/password-required",category:"access",publishBlocking:!0,label:(0,a.tx)("sites.lint.access/password-required"),description:(0,a.tx)("sites.lint.access/password-required-description"),recommendations:[{label:(0,a.tx)("sites.lint.add_password"),action:u,shouldOpenSettings:!0}],nodeIds:[],hideSelectionTarget:!0}),e(d)&&t.push({name:"access/homepage-protected",category:"access",publishBlocking:!0,label:(0,a.tx)("sites.lint.access/homepage-protected"),description:(0,a.tx)("sites.lint.access/homepage-protected-description"),recommendations:[{label:(0,a.tx)("sites.lint.remove_homepage_protection"),action:u,shouldOpenSettings:!0}],nodeIds:[],hideSelectionTarget:!0});let i=e(n.Z6);return i&&t.push(i),t});function h(e){let t=e(m);return t.length>0?[_,t]:null}},419869(e,t,i){i.d(t,{R:()=>o,a:()=>n});var a=i(759231),s=i(622179);let n=(0,i(449721).d)([],e=>e.getRoot().childrenNodes.filter(e=>!e.isInternalOnlyNode).flatMap(e=>e.childrenNodes.filter(e=>e.isResponsiveSetOrWebpage).map(e=>e.guid))),o=(0,s.Wh)(()=>(0,a.eU)([]),{preserveValue:!0})},849673(e,t,i){i.d(t,{H:()=>o});var a=i(239976),s=i(170665);let n={default:{duration:1,ease:"linear",repeat:1/0},rotate:{duration:2,ease:[.6,-1,.4,2],repeat:1/0}};function o(){return(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[(0,a.jsx)(s.P.ellipse,{animate:{ry:[2.5,0,2.5],strokeDashoffset:[-10,10],rotate:[0,45,90]},cx:"12",cy:"12",fill:"transparent",initial:{strokeDashoffset:-10,ry:2.5,rotate:0},rx:"8.5",ry:"2.5",stroke:"var(--color-icon)",strokeDasharray:"14 5",strokeDashoffset:"-10",strokeLinecap:"round",strokeWidth:"1",transition:n}),(0,a.jsx)(s.P.ellipse,{animate:{ry:[2.5,0,2.5],strokeDashoffset:[-10,10],rotate:[-90,-45,0]},cx:"12",cy:"12",fill:"transparent",initial:{strokeDashoffset:-8,ry:4,rotate:-45},rx:"8.5",ry:"2.5",stroke:"var(--color-icon)",strokeDasharray:"14 5",strokeDashoffset:"-10",strokeLinecap:"round",strokeWidth:"1",transition:n})]})}},607576(e,t,i){let a;i.d(t,{qm:()=>u});var s=i(836848),n=i(778745);let o=0,r=new Map,l=new Map;function d(){if(!a){let e=Fig.codeSandboxWorkerURL;e&&((a=(0,n.x)(e)).onmessage=e=>{var t,i,a,n;switch(e.data.type){case"SNAPSHOT_LAYERS_FOR_CANVAS_RESULT":let o;t=e.data.messageId,i={operationBatch:e.data.operationBatch},(o=r.get(t))&&(o(i),r.delete(t),l.delete(t));break;case"ERROR_RESULT":let d;a=e.data.messageId,n=Error(e.data.error),(d=l.get(a))&&(d(n),r.delete(a),l.delete(a));break;default:(0,s.xb)(e.data)}})}return a}let c=[],_=[];function u(){function e(){let e=new m;return c.push(e),e}return c.length<4?Promise.resolve(e()):new Promise(t=>{_.push(()=>{t(e())})})}class m{constructor(){if(this.isConsumed=!1,this.isDestroyed=!1,!d())throw Error("Sandbox worker not available")}async snapshotLayersForCanvas({guid:e,code:t,codeBuildId:i,exportName:a,props:s}){try{return this.consume(),await function({guid:e,code:t,codeBuildId:i,exportName:a,props:s}){return function(e){let t=o++,i=new Promise((e,i)=>{r.set(t,e),l.set(t,i)});var a={...e,messageId:t};let s=d();if(!s)throw Error("Sandbox worker not available");return s.postMessage(a),i}({type:"SNAPSHOT_LAYERS_FOR_CANVAS",guid:e,code:t,codeBuildId:i,exportName:a,props:s})}({guid:e,code:t,codeBuildId:i,exportName:a,props:s})}finally{this.destroy()}}consume(){if(this.isConsumed)throw Error("Attempting to reuse a sandbox worker instance");this.isConsumed=!0}destroy(){if(this.isConsumed&&!this.isDestroyed){let e;this.isDestroyed=!0,-1!==(e=c.indexOf(this))&&c.splice(e,1),_.length>0&&_.shift()()}}}},292146(e,t,i){i.d(t,{hB:()=>b,wn:()=>E});var a=i(738864),s=i(759231),n=i(662018),o=i(999621),r=i(434704),l=i(654479),d=i(485651),c=i(634396),_=i(507415),u=i(722082);let m=[],h=[],p=[],g=[],f=[];function E(){let e=2-(m?.length??0)-(h?.length??0);if(e<=0)return;let t=Array.from({length:e},()=>new T({previewSurfaceForLogging:"offscreen_sandbox",productType:"unknown"}));m.push(...t)}function b({renderOptions:e,usePlaygroundScene:t=!1,d2rSessionId:i,assets:a,activeBreakpoint:s,previewSurfaceForLogging:n,productType:o}){if(e?.preset==="mcp"||e?.preset==="code_layer"){let r=function(){let r=new T({assets:a,renderOptions:e,usePlaygroundScene:t,previewSurfaceForLogging:n,productType:o,d2rSessionId:i});return r.configure(void 0,s),g.push(r),r};return g.length<4?Promise.resolve(r()):new Promise(e=>{f.push(()=>{e(r())})})}{let e=function(){let e=m.pop();return h.push(e),E(),e.configure(a,s),e.updateLoggingContext(n,o),e};return(E(),m.length>0)?Promise.resolve(e()):new Promise(t=>{p.push(()=>{t(e())})})}}class T{constructor({renderOptions:e,usePlaygroundScene:t,assets:i,previewSurfaceForLogging:a,productType:n,d2rSessionId:o}){this.isConsumed=!1,this.isDestroyed=!1,this.renderOptions=e,this.usingD2R=e?.preset==="mcp"||e?.preset==="code_layer",this.assets=i??new Map,this.usePlaygroundScene=t,this.history=new d.a({url:"/_snapshot"}),this.previewSurfaceForLogging=a,this.productType=n,this.d2rSessionId=o,this.sitePreviewIframeManager=new c.fj({productType:n,previewSurfaceForLogging:a}),this.usingD2R?this.sitesPreview=this.sitePreviewIframeManager.createSitesPreview({history:this.history,options:{renderOptions:this.renderOptions,useGuidUrls:!0,skipPreviewUpdateListener:!0,ignorePreviewClosedWhenGeneratingAssets:!0,neverCombineSVGAndPNG:!0,onlyFlattenSVGIfVectorLike:!0,generateFullAssets:!0,labs:{runtimeDebugTools:!1}},imageAssetsHolder:this.assets,skipSetPreviewedNode:!0,skipInitialHeartbeat:!0}):this.sitesPreview=this.sitePreviewIframeManager.createSitesPreview({history:this.history,options:{skipPreviewUpdateListener:!0,generateFullAssets:!0,labs:{runtimeDebugTools:!1}},imageAssetsHolder:this.assets,skipSetPreviewedNode:!0,skipInitialHeartbeat:!0}),this.iframe=document.createElement("iframe"),this.iframe.style.position="fixed",this.iframe.style.pointerEvents="none",this.iframe.style.opacity="0",this.iframe.style.top="0px",this.iframe.style.left="0px",this.iframe.allow=(0,_.P)({minimalPermissions:!0}),this.iframe.src=s.zl.get(c.jD),this.sitePreviewIframeManager.mountIframe(this.iframe,{preset:this.renderOptions?.preset,useReactDev:!0}),document.body.appendChild(this.iframe)}configure(e,t){for(let[i,a]of(this.activeBreakpoint=t,this.iframe.style.width=`${this.activeBreakpoint?.width??1200}px`,this.iframe.style.height=`${this.activeBreakpoint?.height??1080}px`,e??[]))this.assets.set(i,a)}updateLoggingContext(e,t){this.previewSurfaceForLogging=e,this.productType=t,this.sitePreviewIframeManager.updateTrackingContext(e,t)}async snapshot({guid:e,entrypoint:t,codeBuildId:i,exportName:a,width:s,height:r,minWidth:l,maxWidth:d,minHeight:c,maxHeight:_,props:u,styles:m,instanceSwapProps:h,isDirectManipulationOnCanvasEnabled:p,additionalOverflowDistance:g,maxOverflowDistance:f}){try{this.consume();let E=await y(e,h??{}),b=E.bundle,T=E.assetInstructions,S=await (0,o.Ct)(T);b.files={...b.files,...S};let R=new Blob([m??""],{type:"text/css"}),v=await this.sitesPreview.snapshotDOMToPNG({entrypoint:t,codeBuildId:i,codeInstanceGuid:e,exportName:a,width:s,height:r,minWidth:l,maxWidth:d,minHeight:c,maxHeight:_,props:u,activeBreakpoint:this.activeBreakpoint,styles:R,instanceSwapProps:h,referencedWebsiteBundle:b,isDirectManipulationOnCanvasEnabled:p,additionalOverflowDistance:g,maxOverflowDistance:f});return{imageSet:await (0,n.UD)(new Uint8Array(await v.png.arrayBuffer()),"image/png","Code Component Preview "+Date.now()),totalWidth:v.totalWidth,totalHeight:v.totalHeight,layoutWidth:v.layoutWidth,layoutHeight:v.layoutHeight,offsetX:v.offsetX,offsetY:v.offsetY,directManipulationSnapshot:v.directManipulationSnapshot}}finally{this.destroy()}}async analyzeCodeFile({code:e,codeBuildId:t}){try{return this.consume(),await this.sitesPreview.analyzeCodeFile({code:e,codeBuildId:t})}finally{this.destroy()}}async serializeHTMLMulti(e){if(!this.usingD2R)throw Error("Attempting to serialize HTML from a non-compact DOM sandbox");try{this.consume();let t=await (0,r.LE)(e,{neverCombineSVGAndPNG:!0,onlyFlattenSVGIfVectorLike:!0,skipCodeFilesystem:!0,includeRootUntrackedSublayers:this.renderOptions?.preset==="mcp",usePlaygroundScene:this.usePlaygroundScene,skipInstanceUpdate:!0,runId:this.d2rSessionId}),i=await (0,o.Ct)(t.assetInstructions),a=await this.sitesPreview.getHTMLForD2R({bundle:t.bundle,assets:i,renderOptions:this.renderOptions});for(let e of Object.keys(a)){let t=a[e];t&&(t.styles=t.styles.filter(e=>e.id!==u.Tl))}return a}finally{this.destroy()}}async serializeHTMLForH2D(e){if(!this.usingD2R)throw Error("Attempting to serialize HTML from a non-compact DOM sandbox");try{return this.consume(),this.history.restartAt({url:e}),await this.sitesPreview.getHTMLForH2D()}finally{this.destroy()}}async serializeHTMLForLinguaFigma(e,t,i){try{this.consume();let s=(0,a.ft)(),n=(await (0,l.pS)({entrypointsOrIdentifierToFileName:[e],tailwind:!1,shadcn:!1,noWrapper:!1,minify:!1,jsxDev:!1,filesystem:t,codeLibraryFormat:s})).esm;return await this.sitesPreview.renderComponent({entrypoint:{type:"local",code:n},codeBuildId:i,props:{}}),(await this.sitesPreview.getHTMLForElement()).html}finally{this.destroy()}}async unsafeEval(e,...t){try{return await this.sitesPreview.unsafeEval(e,...t)}finally{this.destroy()}}consume(){if(this.isConsumed)throw Error("Attempting to reuse an offscreen sandbox");this.isConsumed=!0}destroy(){if(this.isConsumed){this.isDestroyed=!0,this.sitePreviewIframeManager.reset(),document.body.removeChild(this.iframe);if(this.usingD2R){let e=g.indexOf(this);-1!==e&&g.splice(e,1),f.length>0&&f.shift()()}else{let e=h.indexOf(this);-1!==e&&h.splice(e,1),E(),p.length>0&&p.shift()()}}}}async function y(e,t){return await (0,r.LE)(Object.entries(t??{}).filter(([e,t])=>"-1:-1"!==t).map(([e,t])=>t).concat([e]),{skipCodeFilesystem:!0,skipInstanceUpdate:!0})}},759947(e,t,i){i.d(t,{Ae:()=>c});var a=i(105652),s=i(25378),n=i(296039),o=i(945013),r=i(306874),l=i(454811);i(615291);var d=i(378258);function c(){let e=(0,o.q5)(),t=(0,l.Vc)(e?.key??null),i=(0,a.useMemo)(()=>"loaded"===t.status&&t.data?.planRecordId?t.data.planRecordId:null,[t.status,t.data?.planRecordId]),c=(0,n.Rs)((0,r.StJ)({planId:i}),{enabled:!!i}).transform(({npmPrivateRegistry:e})=>e&&"loaded"===e.status?e.data?.scope??null:null).unwrapOr(null);return(0,a.useMemo)(()=>!!c&&!!e&&function(e){let t,i=(0,s.N)().getFileByPath(`/${d.mO}`);if(!i?.contents)return!1;try{t=JSON.parse(i.contents)}catch(e){return!1}return[...Object.keys(t.dependencies||{}),...Object.keys(t.devDependencies||{}),...Object.keys(t.peerDependencies||{}),...Object.keys(t.optionalDependencies||{})].some(t=>!!t.startsWith("@")&&t.split("/")[0]===e)}(c),[c,e])}},469480(e,t,i){i.d(t,{O:()=>s});var a=i(645186);function s(){return(0,a.d4)(e=>e.mirror.appModel.pagesList[0]?.nodeId||e.mirror.appModel.currentPage)}},353094(e,t,i){i.d(t,{C:()=>n});var a=i(798882),s=i(469480);function n(){let e=(0,s.O)();return(0,a.$I)((e,t)=>e.get(t)?.siteHomepageId||null,e)}},150935(e,t,i){i.d(t,{QG:()=>m,_I:()=>p,r$:()=>h});var a=i(297746),s=i(359731),n=i(759231),o=i(934163),r=i(881619),l=i(416081),d=i(953996),c=i(670927),_=i(104830),u=i(526865);let m=8,h=12;function p(){let e=(0,c.GQ)()+(0,l.B)(),t=(0,n.md)(_.s0),i=(0,d.ut)(a.Ez5?.editorPreferences().renderRulers,!1)&&t===s.Nfd.FILE,p=(0,o.jz)(u.y9S);return[new r.Mi((i?p:0)+m+e,(i?p:0)+h),{x:"left",y:"top"}]}},673379(e,t,i){i.d(t,{$1:()=>l,CJ:()=>r,pB:()=>o});var a,s=i(759231),n=i(148849),o=((a=o||{}).DEFAULT="default",a.EXPERIMENTAL="experimental",a.GOOGLE_GEMINI_3_PRO="google-gemini-3-pro",a.GOOGLE_GEMINI_3_FLASH="google-gemini-3-flash",a.CARAMEL="caramel",a);let r=(0,s.E2)("figmake_selected_model","default",n.z.nativeEnum(o),{subscribeToChanges:!1},{parse:e=>{let t=JSON.parse(e);return"experimental"===t?"google-gemini-3-pro":t}}),l=(0,s.E2)("figmake_internal_only_model_id","",n.z.string())},663745(e,t,i){i.d(t,{B:()=>o,H:()=>n});var a=i(759231),s=i(622179);let n=(0,s.Wh)(()=>(0,a.eU)(null)),o=(0,s.Wh)(()=>(0,a.eU)(!1))},642255(e,t,i){i.d(t,{l:()=>c,x:()=>d});var a,s=i(239976),n=i(224542),o=i.n(n),r=i(263618),l=i(170569),d=((a=d||{}).SECONDARY="secondary",a.DANGER="danger",a.WARNING="warning",a);function c({icon:e,bannerType:t,title:i,children:a,legacyMargin:n,inLine:d}){return(0,s.jsxs)("div",{className:o()(r.s.case([["secondary"===t,r.s.colorBgSecondary],["danger"===t,r.s.colorBgDangerTertiary],["warning"===t,r.s.colorBgWarningTertiary]]).if(n,r.s.mx16.mt16.mb20,r.s.mb12).if(d,r.s.flex.flexRow.itemsCenter.p8,r.s.pt4.pb8.px8).bRadius5.$),children:[e&&(0,s.jsx)("div",{className:o()(l.N_,r.s.if(d,r.s.mbAuto,r.s.mb4).$),children:e}),i&&(0,s.jsx)("h4",{className:r.s.textBodyMediumStrong.$,children:i}),a]})}},960338(e,t,i){i.d(t,{b:()=>f});var a=i(239976),s=i(738864),n=i(308741),o=i(417675),r=i(270450),l=i(759231),d=i(124144),c=i(263618),_=i(617176),u=i(43901),m=i(395453),h=i(738337),p=i(701388),g=i(642255);function f(){let e,t,i,f=(e=(0,h.Oc)(),t=(0,p.cJ)(),i=(0,l.md)(u.Mk[m.P.CODE_COMPONENT].local),e&&(0,r.getFeatureFlags)().make_clf0_publish_warning&&0===(0,s.ft)()?"figmake":t&&!e&&(0,r.getFeatureFlags)().sites_clf0_publish_warning&&Object.keys(i).length>0?"sites":null);if(!f)return null;let E="figmake"===f?"figmake.publish_modal.clf0_warning":"sites.toolbar.publish_modal.clf0_warning";return(0,a.jsx)(d.fu,{name:"CLF0 Publish Warning Banner",children:(0,a.jsx)(g.l,{bannerType:g.x.WARNING,children:(0,a.jsxs)("p",{className:c.s.pt4.flex.itemsCenter.gap8.fontMedium.$,children:[(0,a.jsx)(n.z,{style:{flexShrink:0}}),(0,a.jsxs)("span",{children:[(0,o.tx)(`${E}.message`)," ",(0,a.jsx)(_.Ph,{href:"https://www.figma.com/status",target:"_blank",children:(0,o.tx)(`${E}.read_more`)})]})]})})})}},48136(e,t,i){i.d(t,{Q:()=>o});var a=i(582300),s=i(680281),n=i(798882);function o(){let e=(0,s.p8)("currentPage");return(0,n.$I)((e,t)=>(0,a.Pv)(e,t).map(e=>e.guid),e)}},705190(e,t,i){i.d(t,{$D:()=>R,HB:()=>y,MT:()=>S,up:()=>T});var a=i(105652),s=i(645186),n=i(836848),o=i(270450),r=i(759231),l=i(32186),d=i(860736),c=i(4257),_=i(44811),u=i(622179),m=i(940448),h=i(140613),p=i(932984),g=i(44130),f=i(738337),E=i(974476),b=i(399870);let T=(0,u.Wh)(()=>(0,r.eU)({inProgress:!1,bundleId:null,error:!1}));function y({fileKey:e}){let t=(0,E.JW)(e),{allWebpageGuids:i,selectedWebpageGuids:a}=(0,b.P)(t),s=(0,o.getFeatureFlags)().sts_ppp?Array.from(a||[]):i,n={fileKey:e,responsiveSetsToPublish:s},{onPublishChanges:r}=S(n);return{publishStatus:t,publishPayload:n,onPublishChanges:()=>r(s)}}function S({fileKey:e}){let t=(0,r.Xr)(T),i=(0,s.wA)(),n=(0,_.iZ)()?.id,o=(0,f.Oc)();return{onPublishChanges:(0,a.useCallback)(async a=>{let s;(0,l.sx)("sites_publish_started",{fileKey:e,productType:o?"figmake":"sites"}),t({inProgress:!0,bundleId:null,error:!1});try{s=await (0,h.b)(i,{fileKey:e,publishedByUserId:n||"",responsiveSetGuids:a})}catch(e){t({inProgress:!1,bundleId:null,error:!0});return}t({inProgress:!0,bundleId:s,error:!1})},[i,e,o,t,n]),onUpdateBundle:(0,a.useCallback)(async i=>{if(i.siteBundle?.id&&e){try{t({inProgress:!0,bundleId:null,error:!1}),await m.z.updateBundle({fileKey:e,bundleId:i.siteBundle.id})}catch(e){console.error(e),t({inProgress:!1,bundleId:null,error:!0});return}t({inProgress:!0,bundleId:i.siteBundle.id,error:!1})}},[e,t])}}function R({fileKey:e}){let{Sprig:t}=(0,d.A)(),i=(0,p._t)(e),n=(0,E.JW)(e),o=(0,r.md)(T),l=(0,r.Xr)(T),_=(0,s.wA)(),u=(0,a.useCallback)(()=>{l({inProgress:!1,bundleId:null,error:!1})},[l]),m=(0,a.useCallback)(()=>{Object.values(g.V7).forEach(e=>{_(c.F.dequeue({matchType:e}))})},[_]),h=(0,f.Oc)();(0,a.useEffect)(()=>{let e=v({publishProgress:o,publishStatus:n,domainInfo:i});("Published"===e||"Failed"===e)&&u(),I({visualBellManagerState:e,domainInfo:i,dequeuePublishVisualBells:m,Sprig:t,isFigmakeFile:h,publishStatus:n})},[t,m,_,i,o,n,u,h]),(0,a.useEffect)(()=>()=>{m()},[m])}let v=({publishProgress:e,publishStatus:t,domainInfo:i})=>t.isLoading?"None":e.error?"Failed":e.inProgress&&!e.bundleId?"Publishing":e.inProgress&&e.bundleId&&t.lastAttemptedPublish?.id===e.bundleId?t.lastAttemptedPublish?.status==="succeeded"&&i?.fullURL?"Published":t.lastAttemptedPublish?.status==="failed"?"Failed":"Publishing":"None",I=({visualBellManagerState:e,domainInfo:t,dequeuePublishVisualBells:i,Sprig:a,isFigmakeFile:s,publishStatus:r})=>{switch(e){case"Publishing":i();break;case"Published":t?.fullURL&&((0,o.getFeatureFlags)().sts_sprig_targeted_feedback&&a("track","sites_publish",{source:s?"make":"sites"}),(0,g.TI)({domainInfo:t,onDismiss:()=>{i()},isFigmake:s}));break;case"Failed":let l=null;!r.isLoading&&r?.lastPublishFailedErrorType&&(l=(0,E.w6)(r?.lastPublishFailedErrorType)),(0,g.uV)({onDismiss:()=>{i()},isFigmake:s,errorMessage:l});break;case"None":break;default:(0,n.xb)(e)}}},974476(e,t,i){i.d(t,{JW:()=>l,w6:()=>r});var a=i(417675),s=i(376750),n=i(365146),o=i(306874);function r(e){return"total_video_asset_size_limit_error"===e?(0,a.t)("sites.toolbar.publish_modal.sites_publish_video_asset_size_limit_exceeded"):null}function l(e){var t,i;let a,r,[l]=(0,n.IT)(o.DuV.Query(e?{fileKey:e}:null)),[d]=(0,n.IT)(o.lPt.Query(e?{fileKey:e}:null));if("loaded"!==l.status||"loaded"!==d.status)return{isLoading:!0};let c=(0,s.oA)(l.data?.siteBundles),_=(0,s.oA)(d.data?.siteMount),u=c?.find(e=>"succeeded"===e.status)||null,m=c?.find(e=>"pending"===e.status)||null,h=_?.status==="published",p=_?.publishEvents??[],g=(t=c||[],a=null,(i=p).length>0&&(a=i.find(e=>["publish_new_bundle","publish_preexisting_bundle"].includes(e.action))),r=t?.find(e=>null!=e.completedAt)||null,a?r&&r.completedAt?a.createdAt>=r.completedAt?a.siteBundle:a.createdAt<r.completedAt?r:null:a.siteBundle:r);return{isLoading:!1,isPublishing:null!==m,lastPublishedAt:function(e,t){if(!e)return null;let i=e?.publishEvents??[];if(i.length>0){let e=i.find(e=>["publish_new_bundle","publish_preexisting_bundle"].includes(e.action));if(e)return e.createdAt}return t?t.completedAt:null}(_||null,u),publishedBy:function(e,t){if(!e)return null;let i=e?.publishEvents??[];if(i.length>0){let e=i.find(e=>["publish_new_bundle","publish_preexisting_bundle"].includes(e.action));if(e)return e.actor}return t?.publishedByUser||null}(_||null,u),lastAttemptedPublish:g,lastSuccessfulPublishedResponsiveSetGuids:function(e,t,i){if(e)return null;if(t.length>0){let e=t.find(e=>["publish_new_bundle","publish_preexisting_bundle"].includes(e.action));if(e)return e.siteBundle?.responsiveSetGuids??null}return i?.responsiveSetGuids??null}(!_,p,u),isPublished:h,hasPublishEvents:p.length>0,lastPublishEvent:p[0]||null,lastPublishFailedErrorType:g?.errorType||null}}},399870(e,t,i){i.d(t,{P:()=>c});var a=i(105652),s=i(270450),n=i(759231),o=i(622179),r=i(353094),l=i(48136);let d=(0,o.Wh)(()=>(0,n.eU)(new Map));function c(e){let[t,i]=(0,a.useState)(null),o=(0,l.Q)(),c=(0,a.useMemo)(()=>new Set(o),[o]),_=(0,n.Xr)(d),u=(0,n.md)(d),m=!e.isLoading,h=m&&!!e.lastSuccessfulPublishedResponsiveSetGuids,p=(0,r.C)(),g=null;e.isLoading||(g=e.lastSuccessfulPublishedResponsiveSetGuids);let f=null;e.isLoading||(f=e.lastPublishedAt);let E=(0,a.useCallback)((e,t)=>{_(i=>(i.set(e,t),new Map(i)))},[_]);return(0,a.useEffect)(()=>{e.isLoading||f===t||(_(new Map),i(f))},[e,t,f,_]),(0,a.useMemo)(()=>{let e=new Set;return(0,s.getFeatureFlags)().sts_ppp?m?(h?(g?.forEach(t=>{c.has(t)&&e.add(t)}),u.forEach((t,i)=>{!0===t?e.add(i):e.delete(i)})):o.forEach(t=>{!1!==u.get(t)&&e.add(t)}),p&&(e.add(p),u.set(p,!0)),{allWebpageGuids:o,selectedWebpageGuids:e,updateGuidSelectionState:E}):{allWebpageGuids:o,selectedWebpageGuids:new Set,updateGuidSelectionState:E}:{allWebpageGuids:o,selectedWebpageGuids:c,updateGuidSelectionState:E}},[m,p,h,o,E,c,u,g])}},644973(e,t,i){i.d(t,{Z:()=>b,s:()=>E});var a=i(239976),s=i(308741),n=i(417675),o=i(270450),r=i(759231),l=i(124144),d=i(263618),c=i(617176),_=i(163534),u=i(765389),m=i(849031),h=i(656550),p=i(829012),g=i(642255);function f(){let{componentPreviewState:e}=(0,m.k)(),t=(0,r.md)(_.C);return{hasBuildErrors:e===m.d.BUILD_ERROR,isPasswordRequiredAndMissing:t}}function E(){let{hasBuildErrors:e,isPasswordRequiredAndMissing:t}=f();return(0,o.getFeatureFlags)().make_block_publish_on_build_error&&e||t}function b({onClose:e}){let{hasBuildErrors:t,isPasswordRequiredAndMissing:i}=f(),_=(0,p.y2)(h.p.WEBSITE),m=(0,r.Xr)(u.YD);return(0,o.getFeatureFlags)().make_block_publish_on_build_error&&t||i?(0,a.jsx)(l.fu,{name:"Make Publish Modal Error Banner",properties:{hasBuildErrors:t,isPasswordRequiredAndMissing:i},children:(0,a.jsx)(g.l,{bannerType:g.x.DANGER,children:(0,a.jsxs)("p",{className:d.s.pt4.flex.itemsCenter.gap8.fontMedium.$,children:[(0,a.jsx)(s.z,{style:{flexShrink:0}}),(0,a.jsxs)("span",{children:[(0,n.tx)(t?"figmake.publish_modal.console_errors_banner.message":"figmake.publish_modal.password_required_banner.message")," ",(0,a.jsx)(c.Ph,{href:"#",onClick:i=>{i.preventDefault(),t?m(!0):_(),e()},children:(0,n.tx)(t?"figmake.publish_modal.console_errors_banner.cta":"figmake.publish_modal.password_required_banner.cta")})]})]})})}):null}},844092(e,t,i){i.d(t,{P:()=>b});var a=i(239976),s=i(105652),n=i(423302),o=i(874023),r=i(1539),l=i(559579),d=i(961016),c=i(417675),_=i(759231),u=i(153745),m=i(263618),h=i(798882),p=i(569931),g=i(353094),f=i(705190),E=i(833060);function b({isSitePublished:e,allResponsiveSetGuids:t,selectedResponsiveSetGuids:i,lastSuccessfulPublishedResponsiveSetGuids:s,updateGuidSelectionState:n}){let o=(0,g.C)();return(0,a.jsxs)("div",{className:m.s.maxH400.$,children:[(0,a.jsx)("div",{className:m.s.h32.flex.itemsCenter.colorTextSecondary.$,children:(0,c.t)("sites.toolbar.publish_modal.ready_to_publish")}),o&&(0,a.jsx)(y,{guid:o,isHomepage:!0,isSelected:i.has(o),onChange:n,isSitePublished:e,isPagePublished:s?.includes(o)??!1}),Array.from(i).filter(e=>e!==o).map(t=>(0,a.jsx)(y,{guid:t,isSelected:!0,onChange:n,isSitePublished:e,isPagePublished:s?.includes(t)??!1},t)),t.some(e=>!i.has(e))&&(0,a.jsx)("div",{className:m.s.h32.flex.itemsCenter.colorTextSecondary.$,children:(0,c.t)("sites.toolbar.publish_modal.hide_from_publish")}),t.filter(e=>!i.has(e)).map(t=>(0,a.jsx)(y,{guid:t,isSelected:!1,onChange:n,isSitePublished:e,isPagePublished:s?.includes(t)??!1},t))]})}function T({isSitePublished:e,isPagePublished:t}){return e?(0,a.jsx)("div",{className:m.s.ml8.$,children:(0,a.jsx)(E.x,{isPublished:t,dataTestId:"sitesPagePublishStatusBadge"})}):null}function y({guid:e,isSelected:t,onChange:i,isHomepage:g=!1,isSitePublished:E,isPagePublished:b}){let T=(0,h.$I)(t=>t.get(e)?.name,e),y=(0,h.$I)(t=>t.get(e)?.webMetadata?.title??"",e),R=(0,_.md)(f.up).inProgress,v=`checkbox-${(0,s.useId)()}`,I=`label-${(0,s.useId)()}`;return T?(0,a.jsxs)("div",{className:m.s.h48.flex.flexRow.itemsCenter.$,children:[(0,a.jsx)(n.W,{"data-testid":`${T}-checkbox`,id:v,disabled:R||g,checked:t,onChange:t=>i(e,t),"aria-describedby":I}),(0,a.jsx)("div",{className:m.s.ml4.$,children:g?(0,a.jsx)(r.L,{}):(0,a.jsx)(l.p,{})}),(0,a.jsx)(o.J,{id:I,className:m.s.maxW250.ml4.$,children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S,{labelText:y,isSitePublished:E,isPagePublished:b}),(0,a.jsx)("div",{className:m.s.colorTextSecondary.maxW250.truncate.$,children:T})]}):(0,a.jsx)(S,{labelText:T,isSitePublished:E,isPagePublished:b})}),!t&&E&&b&&(0,a.jsx)(d.M,{className:m.s.mlAuto.colorIconWarningPressed.$,"data-tooltip-type":p.Ib.TEXT,"data-tooltip":(0,c.t)("sites.toolbar.publish_modal.page_will_unpublish_at_next_update"),"data-tooltip-show-above":!0,"data-tooltip-max-width":300,"data-testid":"page-unpublish-warning"})]},e):((0,u.x1)("sites_publish_modal","node_not_found",{guid:e}),null)}function S({labelText:e,isSitePublished:t,isPagePublished:i}){return(0,a.jsxs)("div",{className:m.s.flex.flexRow.itemsCenter.$,children:[(0,a.jsx)("div",{className:m.s.truncate.maxW150.$,children:e}),(0,a.jsx)("div",{children:(0,a.jsx)(T,{isSitePublished:t,isPagePublished:i})})]})}},968477(e,t,i){i.d(t,{a:()=>N});var a=i(239976),s=i(105652),n=i(645186),o=i(425006),r=i(984010),l=i(4245),d=i(417675),c=i(270450),_=i(323264),u=i(32186),m=i(376750),h=i(365146),p=i(154539),g=i(867760),f=i(478740),E=i(704895),b=i(774841),T=i(892480),y=i(251929),S=i(945013),R=i(306874),v=i(157172),I=i(233102),x=i(738337),A=i(705190),O=i(974476);function N({fileKey:e,onClose:t}){let[i]=(0,h.IT)(R.lPt.Query({fileKey:e}));if(i.status===p.H.LOADING)return(0,a.jsx)(f.k,{"data-testid":"loading-spinner"});if(i.status===p.H.ERRORS)return(0,a.jsx)("div",{children:(0,d.t)("sites.toolbar.publish_modal.error_loading_publish_history")});let s=(0,m.oA)(i.data?.siteMount),n=s?.publishEvents??[];return 0===n.length?(0,a.jsx)("div",{children:(0,d.t)("sites.toolbar.publish_modal.no_publish_history")}):(0,a.jsx)("div",{children:n.map(e=>(0,a.jsx)(C,{publishEvent:e,isLatest:e.id===n[0]?.id,isOldest:e.id===n[n.length-1]?.id,onClose:t},e.id))})}function C({publishEvent:e,isLatest:t,isOldest:i,onClose:m}){let h,p=(0,x.Oc)(),f=p?(0,d.t)("figmake.publish_modal.publish_history_dropdown.published_app"):(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.published_site"),R=p?(0,d.t)("figmake.toolbar.publish_modal.publish_history_dropdown.unpublished_app"):(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.unpublished_site"),N=()=>{if("unpublish"!==e.action&&e.siteBundle?.fileVersion?.label)return e.siteBundle.fileVersion.label;switch(e.action){case"publish_new_bundle":return i?f:(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.published_changes");case"publish_preexisting_bundle":return(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.republished_previous_version");case"unpublish":return R;default:return console.error(`Unknown publish event action: ${e.action}`),null}},C=(0,n.wA)(),w=(0,y.Um)(),D=s.useRef(null),j=`site-publish-history-dropdown-${e.id}`,k=w?.type===j,M=(0,S.tS)(),{onUpdateBundle:P}=(0,A.MT)({fileKey:M??""}),F=(0,O.JW)(M);if((0,A.$D)({fileKey:M??""}),!N()||!M)return null;let U=[];"unpublish"!==e.action&&(0,c.getFeatureFlags)().sites_named_versions&&U.push((0,a.jsx)(g.c$,{onClick:()=>{let{label:t,description:i,id:a}=e.siteBundle?.fileVersion??{};a&&C((0,T.to)({type:I.y,data:{label:t??void 0,description:i??void 0,savepointID:a,hideShowFullVersionHistoryCTA:!0}}))},children:(0,a.jsx)("span",{"data-testid":"name-this-version-button",children:(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.name_this_version")})},0)),"unpublish"!==e.action&&!t&&e.siteBundle?.id&&U.push((0,a.jsx)(g.c$,{onClick:()=>void((0,u.sx)("sites_publish_history_republish_clicked",{fileKey:M,siteBundleId:e.siteBundle?.id,productType:p?"figmake":"sites"}),P(e),m()),children:(0,a.jsx)("span",{"data-testid":"republish-button",children:(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.republish")})},1));let G=U.length>0;return h=t?L.timelineLineFirst:i?L.timelineLineLast:L.timelineLine,(0,a.jsxs)("div",{...{className:"x1n2onr6"},children:[(0,a.jsx)("div",{..._.xk(h)}),(0,a.jsxs)("div",{...{className:"x78zum5 x1nhvcw1 x1qjc9v5 x1jnr06f x1n2onr6 x12nagc"},"data-testid":"publish-event-row",children:[(0,a.jsx)("div",{...{className:"x78zum5 xdt5ytf x1nhvcw1 x5yr21d xkh2ocl x1vjfegm"},children:(0,a.jsx)("div",{...{className:"x78zum5 x6s0dn4 xl56j7k xezl2tj xlrawln x167g77z x2lah0s x1d36bvo x1v8gsql x1gslohp"},children:(0,a.jsx)(r.z,{})})}),(0,a.jsxs)("div",{...{className:"x78zum5 x1qughib x19y5rnk xt0e3qv x163pfp xmzs88n x1iorvi4 xjkvuk6 xh8yej3 xv2f06h"},children:[(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1jnr06f"},children:[(0,a.jsxs)("div",{...{className:"x78zum5 x1nhvcw1 x6s0dn4 xbcm6b9"},children:[(0,a.jsx)("div",{...{className:"x1j6dyjg x6xwguf x1akne3o"},children:N()}),"\xb7",(0,a.jsx)("div",{...{className:"x1j6dyjg x1n0bwc9"},children:t?(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.latest"):(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.published_date",{publishedDate:e.createdAt})})]}),(0,a.jsx)("div",{...{className:"x1j6dyjg x1n0bwc9"},children:"unpublish"!==e.action&&e.siteBundle?.fileVersion?.description?e.siteBundle.fileVersion.description:t?(0,d.t)("sites.toolbar.publish_modal.publish_history_dropdown.from_date",{publishedDate:e.createdAt}):null}),(0,a.jsxs)("div",{...{className:"x78zum5 x6s0dn4 x1jnr06f"},children:[(0,a.jsx)(E.H8,{size:E.Pf.SMALL,user:e.actor||{handle:" "}}),(0,a.jsx)("span",{children:e.actor?.handle})]})]}),k&&D.current&&(0,a.jsx)(v.Jz,{options:U,hideDropdown:()=>{C(b.oB())},targetRect:D.current.getBoundingClientRect(),lean:"left"}),G&&(0,a.jsx)(o.E,{ref:D,...{className:"x1717udv xvy4d1p xxk0z11 x1epfdc xwbv1nw"},"aria-label":(0,d.t)("sites.toolbar.publish_modal.version_operations",{publishedDate:e.createdAt,user:e.actor?.handle??(0,d.t)("sites.toolbar.publish_modal.unknown_user")}),onClick:e=>{C(b.j7({type:j,data:{targetRect:e.currentTarget.getBoundingClientRect()}}))},"data-testid":"more-button",disabled:F.isLoading||F.isPublishing,children:(0,a.jsx)(l.J,{})})]})]})]})}let L={timelineLine:{kVAEAm:"x10l6tqk",kWkggS:"x1v8gsql",kzqmXN:"x1i1rx1s",koQZXg:"x1tpqehw",keTefX:null,k71WvV:null,kGO01o:"xjkvuk6",kY2c9j:"x1ja2u2z",kZKoxP:"x5yr21d",$$css:!0},timelineLineFirst:{kVAEAm:"x10l6tqk",kWkggS:"x1v8gsql",kzqmXN:"x1i1rx1s",koQZXg:"x1tpqehw",keTefX:null,k71WvV:null,keoZOQ:"x1xmf6yo",kY2c9j:"x1ja2u2z",kZKoxP:"x5yr21d",$$css:!0},timelineLineLast:{kVAEAm:"x10l6tqk",kWkggS:"x1v8gsql",kzqmXN:"x1i1rx1s",koQZXg:"x1tpqehw",keTefX:null,k71WvV:null,kY2c9j:"x1ja2u2z",kZKoxP:"x1kpxq89",$$css:!0}}},954445(e,t,i){i.d(t,{j:()=>p});var a=i(239976),s=i(105652),n=i(742675),o=i(65038),r=i(417675),l=i(270450),d=i(759231),c=i(263618),_=i(413868),u=i(522721),m=i(224638);function h(e){let{selectedResponsiveSetGuids:t}=e,i=(0,d.md)(_.Yj),{blockingErrorsByGuid:s,warningsByGuid:h,accessibilityErrorsByGuid:p}=(0,_.DS)(i),g=new Set(t);g.add(u.CS);let f=Array.from(g).reduce((e,t)=>e+(s[t]?.length??0),0),E=Array.from(g).reduce((e,t)=>e+(h[t]?.length??0),0),b=Array.from(g).reduce((e,t)=>e+(p[t]?.length??0),0),T=f>0,y=E>0,S=b>0,R=!T&&!y&&!S,v=(0,l.getFeatureFlags)().sites_publish_blocking_lints,I=T?"errors":y?"warnings":"accessibility",[x,A,O]=n.t.useTabs({errors:T,warnings:y,accessibility:S},{defaultActive:I}),N=0===f,C=0===E,L=0===b;return(0,a.jsx)(a.Fragment,{children:R?(0,a.jsx)(m.tE,{title:(0,r.t)("sites.toolbar.publish_modal.no_issues.title"),description:(0,r.t)("sites.toolbar.publish_modal.no_issues.description")}):(0,a.jsx)(a.Fragment,{children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{padding:8},children:(0,a.jsxs)(n.t.TabStrip,{manager:O,children:[T&&(0,a.jsx)(n.t.Tab,{...x.errors,children:(0,a.jsxs)("div",{className:c.s.flex.itemsCenter.gap4.$,children:[(0,r.tx)("sites.toolbar.publish_modal.errors_tab"),(0,a.jsx)(o.E,{variant:"dangerFilled",children:f})]})}),y&&(0,a.jsx)(n.t.Tab,{...x.warnings,children:(0,a.jsxs)("div",{className:c.s.flex.itemsCenter.gap4.$,children:[(0,r.tx)("sites.toolbar.publish_modal.warnings_tab"),(0,a.jsx)(o.E,{variant:"warningFilled",children:E})]})}),S&&(0,a.jsx)(n.t.Tab,{...x.accessibility,children:(0,a.jsxs)("div",{className:c.s.flex.itemsCenter.gap4.$,children:[(0,r.tx)("sites.toolbar.publish_modal.accessibility_tab"),(0,a.jsx)(o.E,{children:b})]})})]})}),(0,a.jsx)("div",{className:c.s.h1.wFull.colorBgTertiary.$}),T&&(0,a.jsx)(n.t.TabPanel,{...A.errors,children:N?(0,a.jsx)(m.tE,{title:(0,r.t)("sites.toolbar.publish_modal.no_issues.title"),description:(0,r.t)("sites.toolbar.publish_modal.no_issues.description")}):(0,a.jsx)(m.F8,{lintingResults:s,onlyShowWebpageGuids:Array.from(t),recordingKey:"sites-publish-modal-errors"})}),y&&(0,a.jsx)(n.t.TabPanel,{...A.warnings,children:C?(0,a.jsx)(m.tE,{title:(0,r.t)("sites.toolbar.publish_modal.no_issues.title"),description:(0,r.t)("sites.toolbar.publish_modal.no_issues.description")}):(0,a.jsx)(m.F8,{lintingResults:h,onlyShowWebpageGuids:Array.from(t),recordingKey:"sites-publish-modal-warnings"})}),S&&(0,a.jsx)(n.t.TabPanel,{...A.accessibility,children:L?(0,a.jsx)(m.tE,{title:(0,r.t)("sites.toolbar.publish_modal.no_issues.title"),description:(0,r.t)("sites.toolbar.publish_modal.no_issues.description")}):(0,a.jsx)(m.F8,{lintingResults:p,onlyShowWebpageGuids:Array.from(t),recordingKey:"sites-publish-modal-accessibility"})})]}):(0,a.jsx)(m.F8,{lintingResults:i,onlyShowWebpageGuids:Array.from(t),recordingKey:"sites-publish-modal-all"})})})}function p(e){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(m.j$,{}),children:(0,a.jsx)(h,{selectedResponsiveSetGuids:e.selectedResponsiveSetGuids})})}},486016(e,t,i){i.d(t,{Y2:()=>g});var a=i(239976),s=i(899543),n=i(297746),o=i(359731),r=i(417675),l=i(270450),d=i(759231);i(323264);var c=i(208916),_=i(867206),u=i(738337),m=i(663745);let h="/legal/creator-agreement/",p="https://www.figma.com/product-specific-terms/";function g({isPublishing:e,isUpdating:t}){let i=null;return(e?i=(0,a.jsx)(f,{}):t||(i=(0,a.jsxs)("div",{children:[(0,a.jsx)(b,{}),(0,a.jsx)(E,{})]})),i)?(0,a.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xod5an3 x1n0bwc9","data-testid":"publishing-subtext",children:i}):null}function f(){return(0,r.tx)("sites.toolbar.publish_modal.publish_in_progress_description")}function E(){let e=(0,d.md)(m.H),t=(0,u.Oc)(),i=(0,_.No)(),s=(0,_.iW)(i).unwrapOr(!0);return t&&e&&(0,l.getFeatureFlags)().cmty_make_publishing?s?(0,r.tx)("sites.toolbar.publish_modal.community_publish_disclaimer",{creator_agreement:(0,a.jsx)(c.CY,{href:h,target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.creator_agreement")})}):(0,r.tx)("sites.toolbar.publish_modal.community_publish_disclaimer_with_web",{creator_agreement:(0,a.jsx)(c.CY,{href:h,target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.creator_agreement")}),beta_terms:(0,a.jsx)(c.CY,{href:p,target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.beta_terms")})}):(0,r.tx)("sites.toolbar.publish_modal.terms_agreement",{figmas_beta_terms:(0,a.jsx)(c.CY,{href:p,target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.beta_terms")}),acceptable_use_policy:(0,a.jsx)(c.CY,{href:"https://www.figma.com/legal/aup/",target:"_blank",trusted:!0,children:(0,r.tx)("sites.toolbar.publish_modal.acceptable_use_policy")})})}function b(){return(0,u.Oc)()&&0!==(n.t8O?.getLocalTextStyleFontInfo()||[]).filter(e=>e.source!==o.jXp.GOOGLE).length?(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1jnr06f"},children:[(0,a.jsx)(s.B,{style:{"--color-icon":"var(--color-icon-secondary)"}}),(0,a.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xod5an3 x1n0bwc9"},children:(0,r.tx)("sites.toolbar.publish_modal.make_fonts_warning")})]}):null}},213454(e,t,i){i.d(t,{C:()=>l});var a=i(239976),s=i(961016),n=i(417675),o=i(263618),r=i(642255);function l({isSitePublished:e}){return(0,a.jsx)(r.l,{bannerType:e?r.x.DANGER:r.x.SECONDARY,children:(0,a.jsxs)("p",{className:o.s.pt4.flex.itemsCenter.gap8.fontMedium.$,children:[(0,a.jsx)(s.M,{style:{minWidth:"24px"}}),(0,n.tx)("sites.toolbar.publish_modal.publish_disabled_incident")]})})}},950043(e,t,i){i.d(t,{T:()=>y});var a=i(239976),s=i(336435),n=i(731112),o=i(417675);i(323264);var r=i(124144),l=i(824203),d=i(365146),c=i(306512),_=i(389020),u=i(64045),m=i(654360),h=i(869563),p=i(814304),g=i(338301),f=i(196178),E=i(766866),b=i(494187);function T({hubFileId:e}){let[t]=(0,d.IT)((0,p.Z)({apiResourceType:"file",id:e})),i=t.data?.creator.name||t.data?.creator.handle,s=t.data?(0,m.K2)(t.data):"";return"errors"===t.status?null:(0,a.jsx)("div",{className:"show_love_modal--rowContainer--BJZ5t",children:"loaded"===t.status&&t.data&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"show_love_modal--leftColumn--hcWen",children:[(0,a.jsx)(_.e,{size:16,entity:t.data.creator}),(0,a.jsx)("div",{children:(0,a.jsxs)("a",{href:(0,h.Sv)(t.data)?(0,u.VJ)({resource:t.data}):(0,u._t)({resource:t.data}),target:"_blank",className:"show_love_modal--resourceLink--wtalN",tabIndex:0,children:[(0,a.jsx)("span",{className:"show_love_modal--resourceName--ZhCAJ",children:s}),(0,a.jsx)("span",{className:"show_love_modal--creatorName--EMIc1",children:(0,o.tx)("community.figma_make.show_love.attribution_row",{author:i})})]})})]}),(0,a.jsx)("div",{className:"show_love_modal--rightColumn--zbmUL",children:(0,a.jsx)(r.fu,{name:g.e0.FIGMA_MAKE_COMMUNITY_ATTRIBUTION,children:(0,a.jsx)(f.Q,{resource:t.data,viewContext:"Figma Make Community Attribution",removeButtonBorder:!0})})})]})})}function y(){let e=(0,E.YP)({}),t=(0,n.G)(),i=(0,b.yj)(e),r=i.map(({hubFileId:e})=>(0,p.Z)({apiResourceType:"file",id:e})),_=(0,d.En)(r);if(0===i.length||_.some(e=>"loading"===e.status)||_.every(e=>"errors"===e.status))return null;let u="dark"===t.color;return(0,a.jsxs)(s.Wk,{...{className:"x1w7iyvz xdz8niu xa3vuyk x10e4vud"},children:[(0,a.jsxs)("div",{className:"show_love_modal--header--H18lG",children:[(0,a.jsx)("div",{className:"show_love_modal--imgContainer---TT7R",children:(0,a.jsx)(c.oW,{src:(0,l.staticAssetWithUploadsPath)(u?"8c5f36e7686970472553e5da4650c78cb52673b0":"5181875ecee4c670077941a2e262b305b425f77b")})}),(0,a.jsx)("div",{className:"show_love_modal--headerText--HUq01",children:(0,o.t)("community.figma_make.show_love.header")})]}),i.map(e=>(0,a.jsx)(T,{hubFileId:e.hubFileId},e.hubFileId))]})}},25044(e,t,i){i.d(t,{F:()=>ey});var a=i(239976),s=i(105652),n=i(645186),o=i(470683),r=i(751239),l=i(344992),d=i(464933),c=i(874023),_=i(751543),u=i(308741),m=i(417675),h=i(270450),p=i(759231);i(323264);var g=i(92866),f=i(925778),E=i(208916),b=i(263618),T=i(679313),y=i(654360),S=i(165117),R=i(341369),v=i(892480),I=i(689999),x=i(307580),A=i(44346),O=i(338349),N=i(371191),C=i(945013),L=i(44811),w=i(416131),D=i(380086),j=i(930501),k=i(867206),M=i(860563),P=i(279078),F=i(850691),U=i(458314),G=i(759947),B=i(738337),V=i(663745),X=i(642255),H=i(270307),z=i(577005),W=i.n(z),K=i(824203),$=i(306512),q=i(401822),Y=i(679786),Z=i(738600),Q=i(425578),J=i(474686),ee=i(692455),et=i(967041);function ei({name:e,authorName:t,imageUrl:i,isLoading:s=!1,handleThumbnailChange:n}){return s||!i?(0,a.jsxs)("div",{...{className:"x35muul x185x1x2 x1yjdb4r x330v8y xf7z5ut x3nfvp2 xdt5ytf x1cy8zhl xsik4n6 x67bb7w"},children:[(0,a.jsx)("div",{className:"xh8yej3 x1xjupan x176lpz5 x192jxwq x1iyjqo2 xs83m0k x1t1x2f9 x2lwn1j"}),(0,a.jsx)("div",{className:"x78zum5 xdt5ytf x1cy8zhl x1ed6fcf x1ta3ar0"})]}):(0,a.jsxs)("div",{...{className:"x35muul x185x1x2 x1yjdb4r x330v8y xf7z5ut x3nfvp2 xdt5ytf x1cy8zhl xsik4n6 x67bb7w"},children:[(0,a.jsx)("div",{...{className:"xb3r6kr x192jxwq x176lpz5 xh8yej3 x8nyqqu x1iyjqo2 xs83m0k x1t1x2f9 x2lwn1j"},children:(0,a.jsx)(q.v,{size:"small",defaultImageUrl:i,onThumbnailChange:n})}),(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1cy8zhl x1ed6fcf"},children:[e&&(0,a.jsx)("div",{className:"xb3r6kr x1akne3o xlyipyv x122x9cr x6ijxsv x1j61x8r xk50ysn x1emllf5 x1tabuse xuxw1ft",children:e}),t&&(0,a.jsx)("div",{...{className:"xb3r6kr x1n0bwc9 xlyipyv x122x9cr x3ek0n1 x1j61x8r x10p5zqr x4ei82o x1117g4y xuxw1ft"},children:(0,m.t)("community.publishing.by_author",{authorName:t})})]})]})}function ea({fileKey:e,setCommunityPublishingState:t}){let{data:i}=et.M4.useFile(e),o=(0,L.Pc)(),r=(0,Y.DP)(),l=function(e){let t=(0,n.d4)(t=>(0,Z.Rv)(e?.team_id??null,t,null,e?.parent_org_id??null),H.c2),{status:i,allowedAuthors:a}=(0,Z.d0)(e?.team_id??null,null,e?.parent_org_id??null),o=(0,ee.u8)({oldValue:t,oldValueReady:!0,newValue:a,newValueReady:"loaded"===i,label:J.A.UseAuthorNameForPreview.CommunityMakeCollectionPreview,enableFullRead:(0,Q.UZ)(Q.CF.GROUP_5),enableShadowRead:(0,Q.hc)(Q.CF.GROUP_5)}),r=(0,n.d4)(e=>e.authedActiveCommunityProfile??void 0);return s.useMemo(()=>{if(W()(o))return null;let e=(0,Z.Tn)(r);if(e&&o.some(t=>(0,Z.f7)(t,e)))return(0,Z.j4)(e)?.name??null;let t=o.find(Z.jr);if(t)return(0,Z.j4)(t)?.name??null;let i=o.find(Z.MO);if(i)return(0,Z.j4)(i)?.name??null;let a=o.find(Z.Z7);return a?(0,Z.j4)(a)?.name??null:null},[o,r])}(i??void 0),[d,c]=s.useState(""),[_,u]=s.useState(null),[h,p]=s.useState(!0),g=s.useCallback(e=>{t(t=>({...t,customThumbnailMedium:e}))},[t]);return(s.useEffect(()=>{i&&o&&(c(i?.name||""),(0,I.DM)(i,o).then(e=>{u(e?.url??null),p(!1)}))},[i,o]),o&&i)?(0,a.jsxs)("div",{...{className:"x19y5rnk xi4r6k5 x1vamu9a xkh2ocl x78zum5 xdt5ytf x7hzu26 x1n2onr6 xi48r6d"},children:[(0,a.jsx)("div",{...{className:"x10l6tqk x13vifvy xu96u03 x3m8u43 x1ey2m1c x1ja2u2z x47corl"},"aria-hidden":!0,children:(0,a.jsx)($.oW,{...{className:"xh8yej3 x5yr21d xl1xv1r x1lliihq x12oqio5"},src:"dark"===r?(0,K.staticAssetWithUploadsPath)("4fe99e99b6a48341b63d11ce5bc04027aad155fc"):(0,K.staticAssetWithUploadsPath)("ac076abed86197d3d44d544606669829ab45bd47"),alt:(0,m.t)("sites.toolbar.publish_modal.make_collection_label")})}),(0,a.jsx)("div",{...{className:"x10l6tqk x1wpqvuw x1uk3ckw xvxbajc x1iawlzt x1vjfegm x47corl"},children:(0,a.jsx)(ei,{name:d,authorName:l,imageUrl:_,isLoading:h,handleThumbnailChange:g})})]}):null}var es=i(286251),en=i(271702);function eo({existingHubFile:e,onThumbnailChange:t}){let i=(0,y.lT)(e)?(0,m.t)("sites.toolbar.publish_modal.blocked_community_status"):(0,y.AC)(e)?(0,m.t)("sites.toolbar.publish_modal.in_review_community_status"):(0,m.t)("sites.toolbar.publish_modal.published_community_status"),s=!(0,y.lT)(e)&&!(0,y.AC)(e);return(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1pulhmw"},children:[(0,a.jsxs)("div",{...{className:"xf7z5ut x1mxnbhz x1yjdb4r x1vqtdw0 x78zum5 xdt5ytf x1nfngrj"},children:[(0,a.jsx)(q.v,{size:"large",existingHubFile:e,onThumbnailChange:s?t:void 0}),(0,a.jsxs)("div",{...{className:"x78zum5 x1qughib x6s0dn4 xh8yej3"},children:[(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1iyjqo2 xs83m0k x1t1x2f9"},children:[(0,a.jsx)("div",{...{className:"x1w7y96w x1akne3o x78zum5 xb3r6kr xuxw1ft xlyipyv x152haby"},children:(0,en.oA)(e)}),(0,a.jsx)("div",{...{className:"x1w7y96w x1n0bwc9 x78zum5 xb3r6kr xuxw1ft xlyipyv x152haby"},children:(0,m.t)("community.publishing.by_author",{authorName:e.publisher.name})})]}),(0,a.jsx)("div",{...{className:"x78zum5 x6s0dn4 x2lah0s xv2w18j"},children:(0,a.jsx)(es.F,{...{0:{className:"x1rg5ohu x8rdmch xctkrei x19y5rnk x17akokd x1qxcl5b xno9bf3 x1mt81i5 x12fzf0q"},1:{className:"x1rg5ohu x8rdmch xctkrei x19y5rnk x17akokd x1qxcl5b xno9bf3 xcr9a89 x1quhyk7"}}[0|!!s],children:i})})]})]}),(0,a.jsx)(er,{existingHubFile:e})]})}function er({existingHubFile:e}){return(0,y.lT)(e)?(0,a.jsxs)("div",{...{className:"x1n0bwc9 x17akokd x1qxcl5b xno9bf3"},children:[(0,m.t)("sites.toolbar.publish_modal.blocked_community_status_description")," "]}):(0,y.AC)(e)?(0,a.jsxs)("div",{...{className:"x1n0bwc9 x17akokd x1qxcl5b xno9bf3"},children:[(0,m.t)("sites.toolbar.publish_modal.in_review_community_status_description")," "]}):null}var el=i(942356),ed=i(700690),ec=i(171447),e_=i(200902),eu=i(543678),em=i(117360),eh=i(343696),ep=i(195930),eg=i(499722);function ef(e){let{setCommunityPublishingState:t,fileKey:i}=e,{data:n}=et.M4.useFile(i),o=n?.name,[r,l]=(0,s.useState)([]),[d,c]=(0,s.useState)(!1),_=(0,eg.Ay)(),[{data:u,status:h}]=(0,et.IT)((0,em.Zp)({categorySlug:ec.LJ.make})),p=(0,s.useMemo)(()=>(u?.tags??[]).sort((e,t)=>(0,ed.Yd)(e.i18n_meta?.text,e.text).localeCompare((0,ed.Yd)(t.i18n_meta?.text,t.text))),[u]),[g,f]=(0,s.useState)(!1),E="loading"===h||g,[b,T]=(0,s.useState)([]);(0,s.useEffect)(()=>{t(e=>({...e,tagsV2:r}))},[r,t]);let y=(0,s.useMemo)(()=>b.map(e=>{let t=p.find(t=>t.text===e.tag);return t||null}).filter(e=>null!==e),[p,b]),S=(0,s.useMemo)(()=>p.filter(e=>!y.some(t=>t.text===e.text)),[y,p]);(0,s.useEffect)(()=>{(async()=>{if(p.length&&o&&!g&&!b.length){f(!0);let e=(await ep.Ay.community.suggestResourceTags({resourceType:"Figma Make template",title:o??"",description:"",tagOptions:p.map(e=>e.text)},_)).tagSuggestions.filter(e=>p.some(t=>t.text===e.tag)).sort((e,t)=>t.confidence-e.confidence),t=e.filter(e=>e.confidence>.7).map(e=>p.find(t=>t.text===e.tag)).filter(e=>void 0!==e);T(e),l(t),f(!1)}})()},[_,o,g,b,p]);let R=(0,s.useCallback)(e=>{r.find(t=>(0,eu.s)(t,e))?l(r.filter(t=>!(0,eu.s)(t,e))):l([...r,e])},[r]),v=(0,s.useRef)(null);return 0===p.length&&"loading"!==h?null:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh x7hzu26 x1ef8nbk"},children:[(0,m.t)("community.publishing.select_up_to_n_tags_error",{maxTagsPerResource:5}),!g&&b.length>0&&(0,a.jsx)(a.Fragment,{children:" ("+(0,m.t)("ai.n_selected",{n:r.length})+")"})]}),(0,a.jsxs)("div",{...{className:"x78zum5 x1a02dak x17d4w8g"},children:[E&&(0,a.jsx)(a.Fragment,{children:Array.from({length:3}).map((e,t)=>(0,a.jsx)("div",{className:"xp5n9r8 xxk0z11 x19y5rnk x1v8gsql"},t))}),!E&&(0,a.jsx)(a.Fragment,{children:(d?[...y,...S]:y).map(e=>{let t=!!r.find(t=>(0,eu.s)(t,e)),i=(0,ed.Yd)(e.i18n_meta?.text,e.text);return(0,a.jsx)(e_.o2,{tag:e,isDisabled:!t&&r.length>=eh.jI,isSelected:t,toggleTag:R,firstNonDisabledCheckboxRef:v,translatedTag:i,useSecondaryStyles:!0},e.text)})}),!E&&(0,a.jsx)(el.$n,{variant:"secondary",onClick:()=>{c(!d)},children:(0,a.jsx)("span",{...{className:"x1n0bwc9"},children:d?(0,m.t)("community.detail_view.show_less"):(0,m.t)("community.shelves.show_more")})})]})]})}function eE({isFirst:e=!1,name:t,authorName:i,imageUrl:s,isLoading:n=!1}){return!e||n?(0,a.jsxs)("div",{...{className:"x1yjdb4r x19y5rnk x1mh6rdz x1sh0mly x78zum5 xdt5ytf xg2d0mh x193iq5w xeuugli"},children:[(0,a.jsx)("div",{className:"xb3r6kr x192jxwq x176lpz5 xh8yej3 xn6wvy2"}),(0,a.jsx)("div",{className:"x78zum5 xdt5ytf x195vfkc xe0p6wg"})]}):(0,a.jsxs)("div",{...{className:"x1yjdb4r x19y5rnk x1mh6rdz x1sh0mly x78zum5 xdt5ytf xg2d0mh x193iq5w xeuugli"},children:[(0,a.jsx)("div",{...{className:"xb3r6kr x192jxwq x176lpz5 xh8yej3 xn6wvy2"},children:s&&(0,a.jsx)("img",{...{className:"xh8yej3 x5yr21d x193iq5w xeuugli xl1xv1r x1lliihq x2lah0s"},src:s,loading:"lazy",alt:(0,m.t)("community.publishing.thumbnail_image"),draggable:!1})}),(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x195vfkc xe0p6wg x15hkz2h"},children:[t&&(0,a.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1akne3o xb3r6kr xlyipyv xuxw1ft",children:t}),i&&(0,a.jsx)("div",{...{className:"x4oah1p xewu7z0 x2ua9qx x1dnis8n xawads1 x1n0bwc9 xb3r6kr xlyipyv xuxw1ft"},children:(0,m.t)("community.publishing.by_author",{authorName:i})})]})]})}function eb({fileKey:e}){let{data:t}=et.M4.useFile(e),i=(0,L.Pc)(),o=function(e){let t=(0,n.d4)(t=>(0,Z.Rv)(e?.team_id??null,t,null,e?.parent_org_id??null),H.c2),{status:i,allowedAuthors:a}=(0,Z.d0)(e?.team_id??null,null,e?.parent_org_id??null),o=(0,ee.u8)({oldValue:t,oldValueReady:!0,newValue:a,newValueReady:"loaded"===i,label:J.A.UseAuthorNameForPreview.SitesPublishCommunityPreviewTile,enableFullRead:(0,Q.UZ)(Q.CF.GROUP_5),enableShadowRead:(0,Q.hc)(Q.CF.GROUP_5)}),r=(0,n.d4)(e=>e.authedActiveCommunityProfile??void 0);return s.useMemo(()=>{if(W()(o))return null;let e=(0,Z.Tn)(r);if(e&&o.some(t=>(0,Z.f7)(t,e)))return(0,Z.j4)(e)?.name??null;let t=o.find(Z.jr);if(t)return(0,Z.j4)(t)?.name??null;let i=o.find(Z.MO);if(i)return(0,Z.j4)(i)?.name??null;let a=o.find(Z.Z7);return a?(0,Z.j4)(a)?.name??null:null},[o,r])}(t??void 0),[r,l]=s.useState(""),[d,c]=s.useState(null),[_,u]=s.useState(!0);return(s.useEffect(()=>{t&&i&&(l(t?.name||""),(0,I.DM)(t,i).then(e=>{c(e?.url??null),u(!1)}))},[t,i]),i&&t)?(0,a.jsxs)("div",{...{className:"x1v8gsql x19y5rnk xi4r6k5 x18d9i69 xkh2ocl x78zum5 xdt5ytf x7hzu26"},children:[(0,a.jsx)("div",{...{className:"xxrns5j x1q8tae1 xh88oxj x1eab18d x1yyillh x3vvef7 xkdneqi"},children:(0,m.t)("sites.toolbar.publish_modal.make_collection_label")}),(0,a.jsxs)("div",{...{className:"xrvj5dj x1p9eum2 x1nfngrj xzp6m1v xb3r6kr"},children:[(0,a.jsx)(eE,{isFirst:!0,name:r,authorName:o,imageUrl:d,isLoading:_}),(0,a.jsx)(eE,{}),(0,a.jsx)(eE,{}),(0,a.jsx)(eE,{})]})]}):null}function eT({fileKey:e,setCommunityPublishingState:t}){let i=(0,n.wA)(),a=(0,B.Oc)(),o=(0,C.q5)(),r=(0,h.getFeatureFlags)().cmty_make_publishing??!1,l=(0,p.md)(V.H)??!1,d=function(){let[e]=(0,p.fp)(V.H),t=(0,k.S2)(),i=(0,k.YY)(t);return!!(0,B.Oc)()&&!!(0,h.getFeatureFlags)().cmty_make_publishing&&("loaded"!==i.status||i.data&&!e)}(),c=(0,p.md)(U.td)??!1,_=a&&l&&r&&c,{canPublishAsHubFile:u,reason:m}=(0,x.Of)("SitesPublishModalCommunityUpsell",o),g=a&&l&&r&&!1===u,f=o?.publishedHubFile??null,E=f?.publishingStatus===j.KB.APPROVED_PUBLIC,b=f?.isChatHistoryRemoved;(0,s.useEffect)(()=>{i((0,S.rH)({fileKey:e}))},[i,e]),(0,s.useEffect)(()=>{t(e=>({...e,isCommunityPublishingToggledOffForStarter:d,isCommunityPublishingDisabledForEmptyFigmakeFile:_,cannotPublishAsHubFileReason:m,isHubFileRestrictionBlockingCommunityPublish:g,isUpdatingCommunity:E,shouldShowChatHistory:e.shouldShowChatHistory??(b?.status==="loaded"?!b.data:null)}))},[t,d,_,m,g,E,b])}function ey({fileKey:e,setCommunityPublishingState:t,shouldShowChatHistory:i}){let s=(0,k.S2)(),o=(0,k.YY)(s).unwrapOr(!1),r=(0,T.FT)(),l=(0,n.d4)(t=>{let i=t.figFilePublishedAsHubFile[e];return i?t.hubFiles[i]:void 0});return(0,B.Oc)()&&(0,h.getFeatureFlags)().cmty_make_publishing?l&&(0,w.HF)(l)&&r?(0,a.jsx)(eS,{fileKey:e,existingHubFile:l,setCommunityPublishingState:t,shouldShowChatHistory:i}):(0,a.jsx)(ev,{fileKey:e,isCommunityPublishingEnabledByDefault:o,setCommunityPublishingState:t,shouldShowChatHistory:i}):null}function eS({fileKey:e,existingHubFile:t,setCommunityPublishingState:i,shouldShowChatHistory:n}){eT({fileKey:e,setCommunityPublishingState:i});let[,o]=(0,p.fp)(V.H),r=(0,y.AC)(t)||(0,y.lT)(t);(0,s.useEffect)(()=>{r?o(!1):o(!0)},[t,o,r]);let l=s.useCallback(e=>{i(t=>({...t,customThumbnailMedium:e}))},[i]),d=n??(t?.is_chat_history_removed==null||!t.is_chat_history_removed);return r?(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1qjc9v5 x1nfngrj xkh2ocl x178xt8z x13fuv20 x16ufvko x7hzu26 x1ef8nbk xfb5sle xh1goz3 x1w4f5ud x1gcgh60 x1jwbysl"},children:[(0,a.jsx)(eI,{}),(0,a.jsx)(eo,{existingHubFile:t})]}):(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1qjc9v5 x1nfngrj xkh2ocl x178xt8z x13fuv20 x16ufvko x7hzu26 x1ef8nbk xfb5sle xh1goz3 x1w4f5ud x1gcgh60 x1jwbysl"},children:[(0,a.jsx)(eR,{existingHubFile:t}),(0,a.jsx)(eo,{existingHubFile:t,onThumbnailChange:l}),(0,a.jsx)(eA,{setCommunityPublishingState:i,isChecked:d})]})}function eR({existingHubFile:e}){let t=(0,n.wA)(),i=(0,C.q5)(),l=(0,L.Pc)(),{getTriggerProps:d,manager:c}=o.b(),u=(0,s.useCallback)(()=>{i&&l&&(t(v.Ce()),t((0,R.t)({fileKey:i.key,entryPoint:F.k2.EDITOR,canvasThumbnailPromise:(0,I.DM)(i,l)})))},[i,l,t]),h=(0,s.useCallback)(()=>{if(e?.id){let t=(0,D.X$)(e.id);f.Ay.redirect(t,"_blank")}},[e]);return(0,a.jsx)("div",{...{className:"x78zum5 xdt5ytf x1nfngrj x1iyjqo2 xs83m0k x1t1x2f9 xh8yej3 xkh2ocl"},children:(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 x1iyjqo2 xs83m0k x1t1x2f9 x1nfngrj xkh2ocl"},children:[(0,a.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,m.tx)("sites.toolbar.publish_modal.live_on_figma_community")}),(0,a.jsxs)(o.bL,{manager:c,children:[(0,a.jsx)(r.K,{variant:"ghost","aria-label":(0,m.t)("sites.toolbar.publish_modal.live_on_figma_community"),...d(),children:(0,a.jsx)(_.P,{})}),(0,a.jsxs)(o.mc,{children:[(0,a.jsx)(o.q7,{onClick:u,children:(0,m.tx)("sites.toolbar.publish_modal.update_community_page")}),(0,a.jsx)(o.q7,{onClick:h,children:(0,m.tx)("community.permissions_modal_publish_tab.footer.view_community_page")})]})]})]})})}function ev({fileKey:e,isCommunityPublishingEnabledByDefault:t,setCommunityPublishingState:i,shouldShowChatHistory:n}){eT({fileKey:e,setCommunityPublishingState:i});let[o,r]=(0,p.fp)(V.H),[l,d]=(0,p.fp)(V.B),c=(0,T.FT)(),_=(0,G.Ae)();(0,s.useEffect)(()=>{l||(r(t),d(!0))},[t,l,r,d]),(0,s.useEffect)(()=>{_&&r(!1)},[_,r]);let g=(0,h.getFeatureFlags)().cmty_ai_tagging;return null===o?null:(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf x1qjc9v5 x1nfngrj xkh2ocl x178xt8z x13fuv20 x16ufvko x7hzu26 x1ef8nbk xfb5sle xh1goz3 x1w4f5ud x1gcgh60 x1jwbysl"},children:[_?(0,a.jsx)(eI,{}):(0,a.jsx)(ex,{}),(0,a.jsx)(eO,{}),_&&(0,a.jsx)(X.l,{bannerType:X.x.WARNING,children:(0,a.jsxs)("p",{className:b.s.pt4.flex.itemsCenter.gap8.fontMedium.$,children:[(0,a.jsx)(u.z,{style:{minWidth:"16px"}}),(0,m.t)("sites.toolbar.publish_modal.community_private_npm_disabled")]})}),o&&(0,a.jsxs)(a.Fragment,{children:[c?(0,a.jsx)(ea,{fileKey:e,setCommunityPublishingState:i}):(0,a.jsx)(eb,{fileKey:e}),g&&(0,a.jsx)(ef,{fileKey:e,setCommunityPublishingState:i}),(0,a.jsx)(eA,{setCommunityPublishingState:i,isChecked:n??!0})]})]})}function eI(){return(0,a.jsx)("button",{"data-testid":"community-toggle",...{className:"x78zum5 xdt5ytf x1nfngrj x1iyjqo2 xs83m0k x1t1x2f9 xh8yej3 xkh2ocl"},children:(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 x1iyjqo2 xs83m0k x1t1x2f9 x1nfngrj xkh2ocl"},children:[(0,a.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,m.t)("sites.toolbar.publish_modal.allow_others_to_remix_on_community")}),(0,a.jsx)(l.v,{checked:!1,disabled:!0})]})})}function ex(){let[e,t]=(0,p.fp)(V.H),i=(0,s.useId)(),n=(0,s.useCallback)(e=>{e?.stopPropagation?.(),t(e=>!e)},[t]);return(0,a.jsx)("button",{"data-testid":"community-toggle",onClick:n,...{className:"x78zum5 xdt5ytf x1nfngrj x1iyjqo2 xs83m0k x1t1x2f9 xh8yej3 xkh2ocl"},children:(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 x1iyjqo2 xs83m0k x1t1x2f9 x1nfngrj xkh2ocl"},children:[(0,a.jsx)("div",{...{className:"xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh"},children:(0,m.t)("sites.toolbar.publish_modal.allow_others_to_remix_on_community")}),(0,a.jsx)(l.v,{id:i,checked:e??!1})]})})}function eA({setCommunityPublishingState:e,isChecked:t}){let i=(0,s.useCallback)(()=>{e(e=>({...e,shouldShowChatHistory:!e.shouldShowChatHistory}))},[e]);return(0,h.getFeatureFlags)().cmty_make_publishing_chat_history_toggle?(0,a.jsxs)("div",{...{className:"x78zum5 xdt5ytf xg2d0mh x1iyjqo2 xs83m0k x1t1x2f9 xh8yej3 xkh2ocl x7hzu26 x1ah0xmj"},children:[(0,a.jsx)("div",{...{className:"x78zum5 x1q0g3np x6s0dn4 x1nfngrj"},children:(0,a.jsx)(d.S,{checked:t,label:(0,a.jsx)(c.J,{children:(0,m.t)("sites.toolbar.publish_modal.show_chat_history")}),onChange:i,...{0:{},1:{className:"x1rkom68"}}[0|!!t]})}),(0,a.jsx)("div",{...{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x1n0bwc9 xdpxx8g"},children:(0,m.t)("sites.toolbar.publish_modal.show_chat_history.description")})]}):null}function eO(){let[e]=(0,p.fp)(V.H),t=(0,M.ol)(),i=A.h.useTrackingContext({trigger:P.b.FIGMAKE_PUBLISH_SITE}),s=(0,k.S2)(),n=(0,k.YY)(s),o=(0,O.y)(t?.id||"",N.C.MAKE_PUBLISH_WITHOUT_COMMUNITY_UPSELL);return e||!n.data?null:(0,a.jsx)("div",{children:(0,m.tx)("sites.toolbar.publish_modal.allow_others_to_remix_on_community.description",{upgradePlanLink:(0,a.jsx)(E.Us,{className:b.s.noWrap.cursorDefault.$,onClick:o,trackingProperties:{trackingDescriptor:g.c.PROFESSIONAL_PLAN,...i},trusted:!0,children:(0,m.tx)("sites.toolbar.publish_modal.allow_others_to_remix_on_community.upgrade_plan_link")})})})}},556357(e,t,i){i.d(t,{K:()=>K});var a=i(239976),s=i(425006),n=i(524924),o=i(417675),r=i(270450),l=i(224542),d=i.n(l),c=i(32186),_=i(938328),u=i(263618),m=i(704895),h=i(925272),p=i(105652),g=i(65038),f=i(759231);i(323264);var E=i(478740),b=i(413868),T=i(522721),y=i(170569);function S({label:e,content:t,action:i,forceShortContentStyle:s}){return(0,a.jsxs)("div",{className:u.s.flex.justifyBetween.itemsCenter.minH24.$,children:[(0,a.jsxs)("div",{className:u.s.flex.itemsCenter.$,children:[(0,a.jsx)("div",{className:y.Dm,children:(0,a.jsx)("span",{className:u.s.colorTextSecondary.$,children:e})}),(0,a.jsx)("div",{className:i||s?y.GK:y.WR,children:t})]}),i&&(0,a.jsx)("div",{className:u.s.maxW32.$,children:i})]})}function R(e){let{selectedResponsiveSetGuids:t,onViewErrors:i}=e,l=(0,f.md)((0,r.getFeatureFlags)().sites_publish_blocking_lints?b.zI:b.Yj),{blockingErrorsByGuid:c,regularErrorsByGuid:_}=(0,b.$0)(l),m=new Set(t);m.add(T.CS);let h=Array.from(m).reduce((e,t)=>e+(c[t]?.length??0),0),p=h+Array.from(m).reduce((e,t)=>e+(_[t]?.length??0),0);return(0,a.jsx)("div",{"data-testid":"site-review-issues-row",className:u.s.py4.$,children:(0,a.jsx)(S,{label:(0,o.t)("sites.toolbar.publish_modal.issues_label"),content:p>0?(0,a.jsx)("div",{className:u.s.flex.justifyBetween.itemsCenter.overflowHidden.$,children:(0,a.jsx)(s.E,{className:d()(u.s.wFull.flex.justifyBetween.py4.bRadius5.$),onClick:i,children:(0,a.jsx)(g.E,{variant:h>0?"dangerFilled":"warningFilled",children:h>0?(0,o.tx)("sites.toolbar.publish_modal.num_issues_need_attention",{numIssues:h}):(0,o.tx)("sites.toolbar.publish_modal.num_issues_to_review",{numIssues:p})})})}):(0,a.jsx)("span",{children:(0,o.tx)("sites.lint.no-issues")}),action:p>0?(0,a.jsx)(s.E,{"aria-label":(0,o.t)("sites.toolbar.publish_modal.review_issues_aria"),className:d()(u.s.wFull.flex.justifyBetween.bRadius5.$,y.vo),onClick:i,children:(0,a.jsx)(n.a,{style:{minWidth:"fit-content"}})}):null})})}function v(){return(0,a.jsx)("div",{className:u.s.py4.$,children:(0,a.jsx)(S,{label:(0,o.t)("sites.toolbar.publish_modal.issues_label"),content:(0,a.jsxs)("div",{...{className:"x78zum5 x1q0g3np"},children:[(0,a.jsx)(E.k,{size:"sm"}),(0,a.jsx)("span",{...{className:"x1iog12x x1n0bwc9"},children:(0,o.tx)("sites.lint.looking-for-issues")})]})})})}function I(e){return(0,a.jsx)(p.Suspense,{fallback:(0,a.jsx)(v,{}),children:(0,a.jsx)(R,{selectedResponsiveSetGuids:e.selectedResponsiveSetGuids,onViewErrors:e.onViewErrors})})}var x=i(645186),A=i(359111),O=i(770589),N=i(751239),C=i(899543),L=i(316833),w=i(341299),D=i(569931),j=i(932984),k=i(717758),M=i(738337);function P({fileKey:e}){let t=(0,x.wA)(),i=(0,M.Oc)(),s=(0,j._t)(e),n=A.iv({placement:"top"}),r=s?(0,a.jsx)(O.N,{href:(0,j.uw)(s),newTab:!0,children:(0,a.jsx)("span",{className:u.s.overflowHidden.ellipsis.colorTextBrand.$,children:(0,j.RT)(s)})}):(0,a.jsx)("div",{className:u.s.flex.itemsStart.gap4.$,children:(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,a.jsx)("span",{className:u.s.overflowHidden.ellipsis.colorTextSecondary.$,children:`example.${(0,k.nC)()}`}),(0,a.jsx)(A.Uj,{"data-testid":"info-icon","aria-label":(0,o.t)("sites.toolbar.publish_modal.publish_your_site_to_get_your_figma_site_subdomain",{domain:(0,k.nC)()}),...n.getTriggerProps(),children:(0,a.jsx)(C.B,{})}),(0,a.jsx)(A.mc,{manager:n,children:(0,a.jsx)(A.UC,{"data-testid":"info-icon-content",children:(0,o.t)("sites.toolbar.publish_modal.publish_your_site_to_get_your_figma_site_subdomain",{domain:(0,k.nC)()})})})]})}),l=s?(0,a.jsx)(N.K,{onClick:()=>{t(w.lW({stringToCopy:(0,j.uw)(s),ignoreLineBreaks:!1}))},"aria-label":(0,o.t)("sites.toolbar.publish_modal.copy_label_to_clipboard",{label:(0,o.t)("sites.toolbar.publish_modal.domain_header")}),"data-tooltip":(0,o.t)("sites.toolbar.publish_modal.copy_to_clipboard"),"data-tooltip-type":D.Ib.TEXT,"data-tooltip-show-immediately":"true",children:(0,a.jsx)(L.h,{})}):void 0;return(0,a.jsx)(S,{label:i?(0,o.t)("figmake.toolbar.publish_modal.url_header"):(0,o.t)("sites.toolbar.publish_modal.site_url"),content:r,action:l})}var F=i(861793),U=i(296039),G=i(945013),B=i(306874),V=i(708430),X=i(829012);function H({}){let e=(0,G.q5)(),t=e?.key,i=e?.org?.name,r=(0,X.y2)(),{accessLevel:l,isLoading:d}=(0,V.nJ)(e),_=(0,U.Rs)((0,B.Vny)({fileKey:t||""}),{enabled:!0}),u=p.useMemo(()=>!!("loaded"===_.status&&_.data?.siteMount?.pwdConfig?.id),[_]),m=p.useCallback(()=>{r(),setTimeout(()=>{window.dispatchEvent(new CustomEvent("scrollToSiteAccessSection"))},300),(0,c.sx)("sites_open_site_access_settings",{source:"publish_modal_who_can_view"})},[r]);return t&&i&&!d?(0,a.jsx)("div",{"data-testid":"site-who-can-view-row",...{className:"x1gskr33 x1ihwiht"},children:(0,a.jsx)(S,{label:(0,o.t)("sites.toolbar.publish_modal.who_can_view_label"),content:(0,a.jsxs)("div",{...{className:"x78zum5 x1nhvcw1 x6s0dn4 xg2d0mh xb3r6kr xeuugli"},children:[(0,a.jsx)("span",{...{className:"xb3r6kr xlyipyv xuxw1ft xeuugli xs83m0k"},children:(e=>{switch(e){case V.hx.ORG:return(0,o.tx)("sites.toolbar.publish_modal.visibility_org",{orgName:i});case V.hx.ANYONE:default:return(0,o.tx)("sites.toolbar.publish_modal.visibility_public")}})(l)}),u&&(0,a.jsx)(F.P,{"data-testid":"password-protected-icon"})]}),action:(0,a.jsx)(s.E,{"aria-label":(0,o.t)("sites.toolbar.publish_modal.change_visibility_aria"),...{className:"xh8yej3 x78zum5 x1qughib x19y5rnk xv2f06h"},onClick:m,children:(0,a.jsx)(n.a,{className:"x1pshirs"})})})}):null}var z=i(833060);function W({isFigmake:e}){let t=e?(0,o.t)("figmake.publish_modal.site_title_label"):(0,o.t)("sites.metadata.controls.title_site.label");return(0,a.jsx)("div",{"data-testid":"site-title-row",className:u.s.py4.$,children:(0,a.jsx)(S,{label:t,content:(0,a.jsx)(h.qE,{}),forceShortContentStyle:!0})})}function K({fileKey:e,isFigmake:t,isSitePublished:i,selectedResponsiveSetGuids:l,lastSuccessfulPublishAt:h,publishedBy:p,hasPublishEvents:g,setPublishModalView:f}){let E=(0,r.getFeatureFlags)().sts_ppp&&!t;return(0,a.jsxs)("div",{className:u.s.flex.flexColumn.py4.$,children:[(0,a.jsx)(W,{isFigmake:t}),(0,a.jsx)("div",{"data-testid":"site-domain-row",className:u.s.py4.$,children:(0,a.jsx)(P,{fileKey:e})}),(0,a.jsx)("div",{"data-testid":"site-status-row",className:u.s.py4.$,children:(0,a.jsx)(S,{label:(0,o.t)("sites.toolbar.publish_modal.status_header"),content:(0,a.jsx)("div",{className:u.s.flex.itemsCenter.h24.$,children:(0,a.jsx)(z.x,{isPublished:i,dataTestId:"sitesPublishStatusBadge"})})})}),E&&(0,a.jsx)("div",{"data-testid":"site-pages-row",className:u.s.py4.$,children:(0,a.jsx)(S,{label:(0,o.t)("sites.toolbar.publish_modal.pages_label"),content:(0,a.jsx)("div",{className:u.s.flex.justifyBetween.itemsCenter.overflowHidden.$,children:(0,a.jsx)(s.E,{className:d()(u.s.wFull.flex.justifyBetween.py4.bRadius5.$),onClick:()=>f("page-selection"),children:(0,o.tx)("sites.toolbar.publish_modal.num_pages",{numPages:l.size})})}),action:(0,a.jsx)(s.E,{"aria-label":(0,o.t)("sites.toolbar.publish_modal.select_pages_to_publish"),className:d()(u.s.wFull.flex.justifyBetween.bRadius5.$,y.vo),onClick:()=>f("page-selection"),children:(0,a.jsx)(n.a,{style:{minWidth:"fit-content"}})})})}),!t&&(0,a.jsx)(I,{selectedResponsiveSetGuids:l,onViewErrors:()=>{f("review-issues"),(0,c.sx)("sites_open_lint_modal",{source:"publish_modal"})}}),h&&(0,a.jsx)("div",{"data-testid":"site-last-published-row",className:u.s.py4.$,children:(0,a.jsx)(S,{label:(0,o.t)("sites.toolbar.publish_modal.last_published_header"),content:(0,a.jsxs)("div",{className:u.s.flex.itemsCenter.$,children:[(0,a.jsx)(_.h1,{date:h,capitalize:!0}),p&&(0,a.jsxs)("span",{className:u.s.flex.justifyCenter.itemsCenter.ml4.$,children:[` \xb7 `,(0,a.jsxs)("div",{className:u.s.flex.justifyCenter.itemsCenter.$,children:[(0,a.jsx)("div",{className:u.s.flex.itemsCenter.justifyCenter.h24.w24.$,children:(0,a.jsx)(m.H8,{size:m.Pf.SMALL,user:p||{handle:" "}})}),(0,a.jsx)("span",{className:y.er,children:p.handle})]})]})]}),action:(0,r.getFeatureFlags)().sts_revert_publish&&g?(0,a.jsx)(s.E,{"aria-label":(0,o.t)("sites.toolbar.publish_modal.publish_history"),className:d()(u.s.wFull.flex.justifyBetween.bRadius5.$,y.vo),onClick:()=>{f("publish-history"),(0,c.sx)("sites_publish_history_opened",{productType:t?"figmake":"sites"})},children:(0,a.jsx)(n.a,{style:{minWidth:"fit-content"}})}):null})}),(0,a.jsx)(H,{})]})}},833060(e,t,i){i.d(t,{x:()=>r});var a=i(239976),s=i(286251),n=i(417675),o=i(263618);function r({isPublished:e,dataTestId:t}){return(0,a.jsx)(s.F,{className:o.s.inlineBlock.px4.bRadius5.textBodyMedium.if(e,o.s.colorBgSelected.colorTextBrand,o.s.colorBgSecondary.colorText).$,"data-testid":t,children:e?(0,n.tx)("sites.metadata.controls.publish_status.published"):(0,n.tx)("sites.metadata.controls.publish_status.not_published")})}},54600(e,t,i){i.d(t,{m:()=>b});var a=i(239976),s=i(105652),n=i(645186),o=i(417675),r=i(124144),l=i(359365),d=i(64110),c=i(354584),_=i(981040),u=i(841312),m=i(44811),h=i(930501),p=i(967041),g=i(515641),f=i(338301),E=i(789549);let b=(0,c.Ju)(function({figFileKey:e,entryPoint:t,shouldShowChatHistory:i,customThumbnailMedium:c,tagsV2:b}){let T=(0,m.iZ)(),y=(0,u.sZ)(),{status:S,data:R}=p.M4.useFile(e),v=(0,E.$S)({fileKey:e,file:R??null}),I=s.useMemo(()=>R?"loaded"===v.status&&v.data.file?(0,_.Jj)(v.data.file):(0,_.bY)(R):void 0,[R,v]),x=(0,n.d4)(t=>{let i=t.figFilePublishedAsHubFile[e];return i?t.hubFiles[i]:void 0});return"loading"===S||"loading"===v.status?null:I?(0,a.jsx)(r.fu,{name:f.e0.COMMUNITY_HUB_FILE_PUBLISH_MODAL_V2,properties:{userId:T?.id,orgId:y?.id,resourceType:g.vt.HUB_FILE,resourceId:x?.id,fileKey:e,editorType:h._Y.FIGMAKE,entryPoint:t},children:(0,a.jsx)(d.S,{figFile:I,existingHubFile:x,createNewVersionOnSubmit:!0,shouldShowChatHistory:i,customThumbnailMedium:c,tagsV2:b})}):(0,a.jsx)(l.r,{title:(0,o.t)("community.publishing.publish_your_file_to_community")})})},551423(e,t,i){i.d(t,{h:()=>r});var a=i(239976),s=i(961016),n=i(417675),o=i(642255);function r({numUnpublishingPages:e}){return(0,a.jsx)(o.l,{bannerType:o.x.WARNING,icon:(0,a.jsx)(s.M,{}),inLine:!0,children:(0,a.jsx)("p",{children:(0,n.t)("sites.toolbar.publish_modal.pages_will_unpublish_with_the_next_update",{numPages:e})})})}},522855(e,t,i){i.d(t,{K:()=>r});var a=i(148849);let s=a.z.enum(["lightbox","spin","typewriter","scramble","drag","mouseParallax"]),n=a.z.enum(["motion","mouse","scrolling"]),o=a.z.object({name:a.z.string(),icon:s.optional(),category:n.optional(),nodeTypes:a.z.array(a.z.string()).optional(),apiVersion:a.z.number()}).omit({apiVersion:!0});function r(e){let t=o.safeParse(e);if(!t.success){let{fieldErrors:e}=t.error.flatten(),i=Object.entries(e).filter(([e,t])=>t?.length).map(([e,t])=>`${e}: ${t.join(", ")}`);throw Error(i.length>0?`Interaction configuration is invalid:
  - ${i.join("\n  - ")}`:"Interaction configuration is missing.")}}},112896(e,t,i){function a(e){return function(e){let t={};for(let i in e){let a=e[i],s=i.substring(0,i.lastIndexOf("#"));s&&a&&(t[s]="value"in a?a.value:a.defaultValue)}return t}(e.canHaveBackingCodeComponent?e.componentProperties():e.isState?e.parentNode.componentPropertyDefinitions():e.componentPropertyDefinitions())}function s(e){return Object.entries(e.isCodeInstance?e.componentProperties():e.isState?e.parentNode.componentPropertyDefinitions():e.componentPropertyDefinitions()).filter(([e,t])=>"INSTANCE_SWAP"===t.type).reduce((e,[t,i])=>{let a=t.substring(0,t.lastIndexOf("#"));return{...e,[a]:"value"in i?i.value:i.defaultValue}},{})}i.d(t,{K8:()=>s,jT:()=>a})},273508(e,t,i){i.d(t,{T:()=>n,f:()=>o});var a=i(759231),s=i(622179);let n=(0,s.Wh)(()=>(0,a.eU)(!1)),o=(0,s.Wh)(()=>(0,a.eU)(!1))},803665(e,t,i){i(417675),i(677394),i(798882)},20928(e,t,i){i(239976),i(105652),i(417675),i(323264),i(803665)},47132(e,t,i){i.d(t,{h:()=>o});var a=i(759231),s=i(737516),n=i(360987);let o=new class{clearSlideThemeStylePreview(e){a.zl.set(s.q0,t=>{let i={...t};for(let t of e)delete i[t];return i})}syncSlideThemeAtom(e,t){(0,s.i1)(e).syncFromFullscreen({id:e,data:t}),(0,n.X_)(e)&&(s.TN.syncFromFullscreen(i=>t?i.includes(e)?i:[...i,e]:i.filter(t=>t!==e)),s.Dq.syncFromFullscreen(i=>{if(t){if(!(e in i)||i[e]!==t.name)return{...i,[e]:t.name}}else{let{[e]:t,...a}=i;return a}return i}))}chainShuffle(e){let t=0,i=[];for(let t=1;t<e.length;t++)i.push(t);for(;i.length>0;){let a=Math.floor(Math.random()*i.length),s=i[a];i.splice(a,1);let n=e[s];e[s]=e[t],e[t]=n,t=s}}computeThemeSwapColorVariableMapping(e,t){let i=Array.from(e.keys()),a=Array.from(t.keys());this.chainShuffle(a);let s=new Map;for(let t=0;t<e.size;t++){let e=i[t],n=a[t%a.length];e&&n&&s.set(e,n)}return s}}},737516(e,t,i){i.d(t,{Dh:()=>d,Dq:()=>r,E_:()=>_,TN:()=>o,i1:()=>l,q0:()=>c});var a=i(759231),s=i(622179),n=i(655500);let o=(0,n.hR)([],{changeFileBehavior:n.hW.RESET_VALUE_ON_FILE_CHANGE}),r=(0,n.hR)({},{changeFileBehavior:n.hW.RESET_VALUE_ON_FILE_CHANGE}),l=(0,a.Iz)(e=>(0,n.hR)({id:e,data:null},{changeFileBehavior:n.hW.RESET_VALUE_ON_FILE_CHANGE}));function d(e){let t=l(e);return a.zl.get(t).data}let c=(0,s.Wh)(()=>(0,a.M2)((0,a.eU)({}))),_=(0,s.Wh)(()=>(0,a.eU)(null))},429830(e,t,i){var a,s,n,o,r,l;i.d(t,{Et:()=>n,G3:()=>s,_N:()=>a}),(o=a||(a={})).MAKE_CHAT="make_chat",o.MCP="mcp",o.SITES_CODE_LAYER="sites_code_layer",o.REMOTE_MCP="remote_mcp",o.HEADLESS_WORKBENCH="headless_workbench",o.UNKNOWN="unknown",(r=s||(s={})).START="start",r.SERIALIZE_TO_HTML="serialize_to_html",r.TRANSFORM_IMAGE_ASSETS="transform_image_assets",r.SVG_BLOB_TO_ELEMENTS="svg_blob_to_elements",r.BUILD_COMPONENTS="build_components",r.ASSEMBLE_REACT_CODE="assemble_react_code",r.REPLACE_PLACEHOLDERS_WITH_INSTANCES="replace_placeholders_with_instances",r.OPTIMIZE_CODE="optimize_code",r.FORMAT_REACT_TSX="format_react_tsx",r.VALIDATE_REACT_CODE="validate_react_code",r.END_SUCCESS="end_success",r.END_FAILURE="end_failure",(l=n||(n={})).HAS_INSTANCE_SCALE_FACTOR="has_instance_scale_factor",l.INSTANCE_SWAPS_DISABLED="instance_swaps_are_disabled",l.UNSUPPORTED_OVERRIDES="unsupported_overrides"},900290(e,t,i){i.d(t,{G$:()=>p,HM:()=>g,Mj:()=>f,PM:()=>h,Yv:()=>u,mK:()=>m,pv:()=>_});var a=i(239976),s=i(105652),n=i(805242),o=i(270751),r=i(517356),l=i(50535);let d=new Set,c=(0,s.createContext)(r.A?document.body:null);function _(){return Array.from(d)}function u(){return(0,s.useContext)(c)}function m(){let e=u();if(null==e)throw Error("Attempted to use PersistentPopupOutlet before it was rendered. If you need to use this hook before the PersistentPopupOutletProvider has rendered, use `usePersistentPopupOutletOrNull` instead.");return e}function h({children:e}){let t=u();return t?(0,n.createPortal)(e,t):null}function p({children:e}){let[t,i]=(0,s.useState)(null);return(0,a.jsxs)(c.Provider,{value:t,children:[e,(0,a.jsx)("div",{className:l.D,ref:i})]})}function g({children:e,container:t}){let[i,n]=(0,s.useState)(null);return(0,s.useLayoutEffect)(()=>{let e="string"==typeof t?document.querySelector(t):t;e instanceof HTMLElement&&n(e)},[t]),(0,a.jsx)(c.Provider,{value:i,children:e})}function f(e){let t=(0,s.useRef)(null);return(0,s.useCallback)(i=>{(0,o.c)(e,i),null==i?d.delete(t.current):d.add(i),t.current=i},[e])}h.displayName="PersistentPopupOutlet",p.displayName="PersistentPopupOutletProvider",g.displayName="CustomPersistentPopupOutletProvider"},771740(e,t,i){i.d(t,{Q:()=>n});var a=i(105652),s=i(239976);let n=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M8.9 6h-.02c-.403 0-.735 0-1.006.022-.28.023-.54.072-.782.196a2 2 0 0 0-.874.874c-.124.243-.173.501-.196.782C6 8.144 6 8.477 6 8.88v.62a.5.5 0 0 0 1 0v-.6c0-.428 0-.72.019-.944.018-.22.05-.332.09-.41a1 1 0 0 1 .437-.437c.078-.04.19-.072.41-.09C8.18 7 8.472 7 8.9 7h.6a.5.5 0 0 0 0-1zm6.2 0h.02c.403 0 .735 0 1.006.022.281.023.54.072.782.196a2 2 0 0 1 .874.874c.124.243.173.501.196.782.022.27.022.603.022 1.005V9.5a.5.5 0 0 1-1 0v-.6c0-.428 0-.72-.019-.944-.018-.22-.05-.332-.09-.41a1 1 0 0 0-.437-.437c-.078-.04-.19-.072-.41-.09A13 13 0 0 0 15.1 7h-.6a.5.5 0 0 1 0-1zm.02 12h-.62a.5.5 0 0 1 0-1h.6c.428 0 .72 0 .944-.019.22-.018.332-.05.41-.09a1 1 0 0 0 .437-.437c.04-.078.072-.19.09-.41.019-.225.019-.516.019-.944v-.6a.5.5 0 0 1 1 0v.62c0 .403 0 .735-.022 1.006-.023.281-.072.54-.196.782a2 2 0 0 1-.874.874c-.243.124-.501.173-.782.196-.27.022-.603.022-1.005.022M8.9 18h-.02c-.403 0-.735 0-1.006-.022-.281-.023-.54-.072-.782-.196a2 2 0 0 1-.874-.874c-.124-.243-.173-.501-.196-.782A13 13 0 0 1 6 15.12v-.62a.5.5 0 0 1 1 0v.6c0 .428 0 .72.019.944.018.22.05.332.09.41a1 1 0 0 0 .437.437c.078.04.19.072.41.09.225.019.516.019.944.019h.6a.5.5 0 0 1 0 1z",clipRule:"evenodd"})})})},941835(e,t,i){i.d(t,{Q:()=>n});var a=i(105652),s=i(239976);let n=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M13.646 8.146a.5.5 0 0 0 0 .708L16.793 12l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0m-3.292 0a.5.5 0 0 0-.708 0l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L7.207 12l3.147-3.146a.5.5 0 0 0 0-.708",clipRule:"evenodd"})})})},205426(e,t,i){i.d(t,{r:()=>n});var a=i(105652),s=i(239976);let n=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M6.5 5a.5.5 0 0 1 .5.5v13a.5.5 0 0 1-1 0v-13a.5.5 0 0 1 .5-.5M17 6a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1H8.5a.5.5 0 0 1 0-1H17V7H8.5a.5.5 0 0 1 0-1z"})})})},1539(e,t,i){i.d(t,{L:()=>n});var a=i(105652),s=i(239976);let n=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M11.404 5.196a1 1 0 0 1 1.265.06l5 4.5A1 1 0 0 1 18 10.5V17a1 1 0 0 1-1 1h-3a1 1 0 0 1-1-1v-4h-2v4a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1v-6.5a1 1 0 0 1 .331-.743l5-4.5zM7 10.5V17h3v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4h3v-6.5L12 6z"})})})},853096(e,t,i){i.d(t,{N:()=>n});var a=i(105652),s=i(239976);let n=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12 9a2 2 0 0 1 2 2v.27a2 2 0 0 1 2.886 1.07A2 2 0 0 1 20 14v.999l-.002.066.003.229c.006.54.025 1.435-.285 2.346-.326.956-.995 1.887-2.251 2.546a7.12 7.12 0 0 1-4.43.726c-1.31-.206-2.475-.762-3.176-1.463-.764-.765-1.935-1.907-2.761-2.72a2 2 0 0 1 2.804-2.852l.098.096V11a2 2 0 0 1 2-2m0 1a1 1 0 0 0-1 1v4.008a.598.598 0 0 1-.943.415l-.069-.059-.787-.773a1 1 0 0 0-1.414.011l-.068.078a1 1 0 0 0 .08 1.338c.82.807 2 1.956 2.768 2.724 1.005 1.004 3.642 1.875 6.187.68l.246-.121c1.78-.934 1.987-2.444 2.002-3.548l-.001-.446-.003-.24L19 15v-1a1 1 0 0 0-2 0v.48a.5.5 0 0 1-.517.5l-.098-.013a.5.5 0 0 1-.385-.488V13a1 1 0 0 0-2 0v1.375a.5.5 0 0 1-.517.5l-.098-.013a.5.5 0 0 1-.385-.487V11a1 1 0 0 0-1-1m0-7a8 8 0 0 1 7.919 6.854.5.5 0 0 1-.99.142 7.002 7.002 0 1 0-13.687 2.835.5.5 0 0 1-.966.26A8 8 0 0 1 12 3m0 3a5 5 0 0 1 4.538 2.9.5.5 0 1 1-.907.42A4 4 0 0 0 8 11a.5.5 0 0 1-1 0 5 5 0 0 1 5-5"})})})},559579(e,t,i){i.d(t,{p:()=>n});var a=i(105652),s=i(239976);let n=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M12.598 5.01a.5.5 0 0 1 .255.136l4 4A.5.5 0 0 1 16.5 10h-4a.5.5 0 0 1-.5-.5V6H8.5a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 .5-.5v-6a.5.5 0 0 1 1 0v6a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 7 17.5v-11A1.5 1.5 0 0 1 8.5 5h4zM13 9h2.293L13 6.707z"})})})},837040(e,t,i){i.d(t,{x:()=>n});var a=i(105652),s=i(239976);let n=(0,a.memo)(function(e){return(0,s.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24L",children:(0,s.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M3 9c0 1.521.566 2.91 1.5 3.968a6 6 0 0 0 4 2.011.47.47 0 0 0 .5-.479.536.536 0 0 0-.49-.524H8.5a5 5 0 0 1-3.218-1.632A5 5 0 1 1 13.975 8.5l.001.008.013.073A.536.536 0 0 0 14.5 9a.47.47 0 0 0 .48-.5 6 6 0 0 0-2.012-4A6 6 0 0 0 3 9m9 2h7a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-7a1 1 0 0 1 1-1m-2 1a2 2 0 0 1 2-2h7a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2z",clipRule:"evenodd"})})})},537104(e,t,i){i.d(t,{q:()=>o});var a=i(325461),s=i(295870);let n=new class{register(e){this.actions.has(e.json_name)?(0,a.N7)(s.FigmaTeam.FULLSCREEN_PLATFORM,Error(`Action with json_name "${e.json_name}" is already registered.`)):this.actions.set(e.json_name,e)}registerAll(e){for(let t of e)this.register(t)}get(e){return this.actions.get(e)??null}getAll(){return this.actions}clear_TEST_ONLY(){this.actions.clear()}constructor(){!function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(this,"actions",new Map)}};function o(){return n}},717227(e,t,i){i.d(t,{G:()=>a});let a=Symbol("CURRENT_DOCUMENT")},374838(e,t,i){i.d(t,{G:()=>r});var a=i(270450),s=i(306957),n=i(466082);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r{async exportVideo(e,t){if(!(0,a.getFeatureFlags)().panama)throw Error("Export failed");let o=new AbortController;this._eventEmitter?.trigger("started",{nodeId:e,abortController:o});try{if(!this._videoExporter){let{VideoExporter:e}=await Promise.all([i.e("6440"),i.e("7364"),i.e("6686"),i.e("1494")]).then(i.bind(i,784279));this._videoExporter=new e}let a=(0,n.UN)(),r=a.get(e);r&&await (0,s.Y)?.(r,[],(t,i)=>{this._eventEmitter?.trigger("imageLoading",{nodeId:e,loadedImages:t,totalImages:i})});let l=await this._videoExporter.exportVideo({nodeId:e,sceneGraph:a,resolveVideoUrls:this._videoUrlResolver,resolveGifData:this._gifDataResolver,enableAudio:!0,...t,signal:o.signal,onProgress:t=>{this._eventEmitter?.trigger("progress",{nodeId:e,percent:100*t})}}),d=new Uint8Array(l);return this._eventEmitter?.trigger("complete",{nodeId:e,buffer:d}),d}catch(t){if(t instanceof Error&&"AbortError"===t.name)throw this._eventEmitter?.trigger("cancelled",{nodeId:e}),t;throw this._eventEmitter?.trigger("error",{nodeId:e,error:t instanceof Error?t:Error(String(t))}),t}}constructor(e={}){o(this,"_videoExporter",null),o(this,"_eventEmitter",void 0),o(this,"_videoUrlResolver",void 0),o(this,"_gifDataResolver",void 0),this._eventEmitter=e.eventEmitter,this._videoUrlResolver=e.videoUrlResolver,this._gifDataResolver=e.gifDataResolver}}},384297(e,t,i){i.d(t,{E:()=>s});var a=i(393012);class s{fontResourceStatusChanged(e,t,i){(0,a.dF)(e,t,i)}}},990172(e,t,i){i.d(t,{G:()=>g,w:()=>c});var a=i(449979),s=i(104626),n=i(207474),o=i(297746),r=i(631126),l=i(613930),d=i(147244);function c(e){return class extends(0,r.fB)(e){get idForPluginApi(){return this.styleKeyForPublish?(0,d.nM)({key:this.styleKeyForPublish,version:this.isLocalStyle?(0,n.IA)(""):this.getStyleVersion()}):""}get styleAssetId(){return s.PK.fromBindingsObj(this.styleId)}get styleId(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.styleId(this.sceneGraph.nodeContext)}get consumers(){return this.setGlobalNodeID(),o.CUU?.getStyleConsumers()??[]}getStyleVersion(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getStyleVersion(this.sceneGraph.nodeContext)}get styleKey(){let e=this.assetKey;return e===n.sg.INVALID?null:e}get styleKeyForPublish(){let e=this.assetKeyForPublish;return e===n.sg.INVALID?null:e}get isLocalStyle(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getIsLocalStyle(this.sceneGraph.nodeContext)}get styleVersionHash(){this.setGlobalNodeID();let e=this.bindings.NodeTsApi.getStyleVersionHash(this.sceneGraph.nodeContext);return e===n.IA.INVALID?null:e}get overriddenInheritedFillStyles(){this.setGlobalNodeID();let e=this.bindings.NodeTsApi.getOverriddenInheritedFillStyles(this.sceneGraph.nodeContext)??{};for(let t in e)e[t]?.fills&&(e[t].fills=(0,a.sR)((0,l.dG)("fillPaints",e[t].fills),"Figma Internal Error: fillPaints not found"));return e}get inheritedFillStyle(){return _(this,"inheritFillStyleKey")}set inheritedFillStyle(e){m(this,"inheritFillStyleKey",e)}get inheritedFillStyleOrMixed(){return u(this,"inheritFillStyleKey")}get inheritedFillStyleForStroke(){return _(this,"inheritFillStyleKeyForStroke")}set inheritedFillStyleForStroke(e){m(this,"inheritFillStyleKeyForStroke",e)}get inheritedEffectStyle(){return _(this,"inheritEffectStyleKey")}set inheritedEffectStyle(e){m(this,"inheritEffectStyleKey",e)}get inheritedTextStyle(){return _(this,"inheritTextStyleKey")}set inheritedTextStyle(e){m(this,"inheritTextStyleKey",e)}get inheritedTextStyleOrMixed(){return u(this,"inheritTextStyleKey")}get inheritedGridStyle(){return _(this,"inheritGridStyleKey")}set inheritedGridStyle(e){m(this,"inheritGridStyleKey",e)}getRangeInheritedFillStyle(e,t){return h(this,e,t,"inheritFillStyleKey")}setRangeInheritedFillStyle(e,t,i){p(this,e,t,"inheritFillStyleKey",i)}getRangeInheritedTextStyle(e,t){return h(this,e,t,"inheritTextStyleKey")}setRangeInheritedTextStyle(e,t,i){p(this,e,t,"inheritTextStyleKey",i)}}}function _(e,t){e.setGlobalNodeID();let i=e.bindings.NodeTsApi.getInheritedStyle(t);return i&&(0,d.$P)(i)?i:null}function u(e,t){e.setGlobalNodeID();let i=e.bindings.NodeTsApi.getRangeInheritedStyle(0,-1,t,e.sceneGraph.nodeContext)??null;return"mixed"===i?"mixed":(0,d.$P)(i)?i:null}function m(e,t,i){if(i&&!(0,d.$P)(i))throw Error(`Invalid style key ${i.key} and version ${i.version}`);let a=i??{key:n.n3.INVALID,version:n.IA.INVALID};e.setGlobalNodeID();let s=o.CUU?.setRangeInheritedStyle(0,-1,t,a.key,a.version,e.sceneGraph.nodeContext);if(s)throw Error(`Cannot set style successfully: ${s}`)}function h(e,t,i,a){e.setGlobalNodeID();let s=e.bindings.NodeTsApi.getRangeInheritedStyle(t,i,a,e.sceneGraph.nodeContext);return"mixed"===s||(0,d.$P)(s)?s:null}function p(e,t,i,a,s){if(s&&!(0,d.$P)(s))throw Error(`Invalid style key ${s.key} and version ${s.version}`);let r=s??{key:n.n3.INVALID,version:n.IA.INVALID};e.setGlobalNodeID();let l=o.CUU?.setRangeInheritedStyle(t,i,a,r.key,r.version,e.sceneGraph.nodeContext)??"SceneNodeCpp is null";if(l)throw Error(`Cannot set style successfully: ${l}`)}function g(e){return"NONE"!==e.styleType}},518277(e,t,i){i.d(t,{B:()=>o,v:()=>r});var a=i(104626),s=i(297746),n=i(631126);function o(e){return class extends(0,n.iC)(e){get variableID(){this.setGlobalNodeID();let e=a.sD.fromString(this.bindings.NodeTsApi.getVariableID(this.sceneGraph.nodeContext));if(!e)throw Error("Invalid variable id");return e}get variableCodeSyntax(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getVariableCodeSyntax(this.sceneGraph.nodeContext)}get variableCollectionId(){this.setGlobalNodeID();let e=a.gr.fromString(this.bindings.NodeTsApi.getVariableSetID(this.sceneGraph.nodeContext));if(!e)throw Error("Invalid variable collection id");return e}get variableKey(){let e=this.assetKey;return null===e?null:e}get variableKeyForPublish(){let e=this.assetKeyForPublish;return null===e?null:e}setVariableKeyForTest(e){this.setAssetKeyForTest(e)}get variableResolvedType(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getVariableResolvedType(this.sceneGraph.nodeContext)}set variableScopes(e){this.setGlobalNodeID(),this.bindings.NodeTsApi.setVariableScopes(e,this.sceneGraph.nodeContext)}get variableScopes(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getVariableScopes(this.sceneGraph.nodeContext)}setVariableCodeSyntax(e,t){this.setGlobalNodeID(),this.bindings.NodeTsApi.setVariableCodeSyntax(e,t,this.sceneGraph.nodeContext)}removeVariableCodeSyntax(e){this.setGlobalNodeID(),this.bindings.NodeTsApi.removeVariableCodeSyntax(e,this.sceneGraph.nodeContext)}get boundVariables(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getBoundVariables(this.sceneGraph.nodeContext)}get inferredVariables(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getInferredVariables(this.sceneGraph.nodeContext)}get availableInferredVariables(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getAvailableInferredVariables(this.sceneGraph.nodeContext)}setBoundVariable(e,t){this.setGlobalNodeID();let{errorMsg:i}=this.bindings.NodeTsApi.setBoundVariable(e,t,this.sceneGraph.nodeContext);if(i)throw Error(i)}get boundVariablesForStyle(){return this.setGlobalNodeID(),this.bindings.NodeTsApi.getBoundVariablesForStyle(this.sceneGraph.nodeContext)}resolveVariable(e){return this.setGlobalNodeID(),s.CUU?.resolveVariable(e)??null}getVariableResolvedValue(e){return this.setGlobalNodeID(),s.CUU?.getVariableResolvedValue(e)??null}}}function r(e){return"VARIABLE"===e.type}},393012(e,t,i){i.d(t,{$2:()=>h,EV:()=>p,FP:()=>g,VC:()=>_,dF:()=>c,uW:()=>m,vt:()=>E,ye:()=>f});var a=i(297746),s=i(359731);let n=new Map,o=new Map;function r({family:e,style:t}){let i=s.vXe?.getRenamedFontOrNull({family:e,style:t})??null;return{family:i?.family??e,style:i?.style??t}}function l(e,t,i){let a=r({family:e,style:t}),s=n.get(a.family);void 0===s&&(s=new Map,n.set(a.family,s));let o=s.get(a.style);void 0===o&&(o=[],s.set(a.style,o)),o.push(i)}function d(e,t,i){let a=r({family:e,style:t}),s=n.get(a.family);if(void 0!==s){let e=s.get(a.style);if(void 0!==e){let t=e.indexOf(i);-1!==t&&e.splice(t,1)}}}function c(e,t,i){let s=n.get(e);if(void 0!==s){let e=s.get(t);if(void 0!==e)for(let t of e.slice())t(i)}let r=o.get(e);void 0===r&&(r=new Map,o.set(e,r)),i===a.bk.LOADING?r.set(t,a.bk.LOADING):r.delete(t)}function _(e,t){return new Promise((i,n)=>{s.vXe&&s.vXe.fontIsLoaded(e,t)&&i();let o=s=>{s===a.bk.LOADED?(d(e,t,o),i()):s===a.bk.FAILED&&(d(e,t,o),n(Error(`Failed to load font: ${e} ${t}`)))};l(e,t,o)})}function u(e,{family:t,style:i}){return new Promise((s,n)=>{if(void 0===a.hwI)return void n(Error("FontManualLoader is not initialized"));let o=a.hwI.loadFont(e,t,i);if(o===a.bk.LOADED)return void s();if(o===a.bk.LOADING){let e=o=>{o===a.bk.LOADED?(d(t,i,e),s()):o===a.bk.FAILED&&(d(t,i,e),n(Error(`Failed to load font: ${t} ${i}`)))};l(t,i,e);return}n(Error(`Failed to load font: ${t} ${i}`))})}async function m(e){await u(a.rLd.PLUGIN,e)}function h(){a.hwI?.clearLoadedFonts(a.rLd.NON_PLUGIN)}async function p(e){await u(a.rLd.NON_PLUGIN,e)}async function g(){let e=o.entries();await Promise.allSettled(Array.from(e).map(async([e,t])=>{let i=t.keys();await Promise.allSettled(Array.from(i).map(async t=>{await _(e,t)}))}))}function f(e,t,i,s=null){return a.hwI?.getClosestFontName(e,t,i,s)??null}function E(e,t){return a.hwI?.getFontName(e,t)??null}},915036(e,t,i){i.d(t,{FZ:()=>g.F,oA:()=>a.oA,Hj:()=>d.H,Iz:()=>f,eU:()=>s.eU,tx:()=>a.tx,yu:()=>_.y,zl:()=>n.z,S_:()=>m.S,t_:()=>a.t_,Rq:()=>a.Rq,Mt:()=>l,xP:()=>p.x,p6:()=>o.p6,tP:()=>o.tP,Ut:()=>a.Ut,Zb:()=>c.Z,LJ:()=>h.L,um:()=>a.um,mg:()=>a.mg,M2:()=>u.M});var a=i(30709),s=i(346439),n=i(627916),o=i(135159);let r=Symbol();function l(e){let t=(0,a.oA)(e,(...e)=>e.length?e[0]:r),i=i=>i(t)===r?i(e):i(t);return"write"in e?(0,s.eU)(i,e.write):(0,s.eU)(i)}var d=i(949096),c=i(694190),_=i(468659),u=i(333777),m=i(336354),h=i(152266),p=i(841005),g=i(642145);function f(e,t){let i=(0,a.Iz)(e,t);return i.removeAll=()=>{i.setShouldRemove(()=>!0),i.setShouldRemove(null)},i}},883408(e,t,i){i.d(t,{Jk:()=>c});var a=i(295870),s=i(798070),n=i(291061),o=i(139865),r=i(640943);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let d=new WeakMap;class c extends o.b{static getInstance(){return this._instance}onTimerEvent(e){this.trigger(n.DN,e)}addAction(e,t,i,a,s){!s?.forceEnable&&!c.isObservabilityClientEnabled||(i!==n.$b.DEBUG||c.isUserDebugSessionActive())&&c.datadogRum?.addAction(`${e} [${t}]`,{...a,level:i,team:t})}addTiming(e,t,i){!c.isObservabilityClientEnabled||(i!==n.$b.DEBUG||c.isUserDebugSessionActive())&&(this.onTimerEvent({name:e,duration:t}),c.datadogRum?.addTiming(e,t))}addError(e,t,i){c.isObservabilityClientEnabled&&c.datadogRum?.addError(e,{...i,team:t})}logVital(e,{level:t,startTime:i,duration:a,description:o,context:r,dontLogToDevtools:l}){var d,_;if(c.enableDevToolsTracing&&!l)try{let t=i-performance.timeOrigin;performance.measure(e,{start:t,duration:a,detail:r})}catch{}if(!c.isObservabilityClientEnabled||t===n.$b.DEBUG&&!c.isUserDebugSessionActive())return;d=i,_=e,d<performance.timeOrigin&&console.warn(`[${_}] You appear to be logging a relative timestamp and not an epoch timestamp. Try adding performance.timeOrigin to the timestamp.`);let u=s.Z.getInstance().wasBackgrounded(i,a),m=s.Z.getInstance().wasOffline(i,a);this.trigger(n.DN,{name:e,duration:a}),c.datadogRum?.addDurationVital(e,{startTime:i,duration:a,description:o,context:{...r,wasBackgrounded:u,wasOffline:m}})}measureCallbackAsVital(e,t){this.startVital(e);let i=t();return this.stopVital(e),i}async measureCallbackAsyncAsVital(e,t){this.startVital(e);let i=await t();return this.stopVital(e),i}createVital(e,{level:t,description:i,context:a,trackFps:s}){return new u(e,{level:t,description:i,context:a,trackFps:s})}startVital(e,{level:t,description:i,context:a}={level:n.$b.INFO}){!c.isObservabilityClientEnabled||(t!==n.$b.DEBUG||c.isUserDebugSessionActive())&&c.datadogRum?.startDurationVital(e,{description:i,context:a})}stopVital(e,{level:t,context:i}={level:n.$b.INFO}){!c.isObservabilityClientEnabled||(t!==n.$b.DEBUG||c.isUserDebugSessionActive())&&c.datadogRum?.stopDurationVital(e,{context:i})}startVitalForDebugging(e,{description:t,context:i}={}){this.startVital(e,{level:n.$b.DEBUG,description:t,context:i})}stopVitalForDebugging(e,{context:t}={}){this.stopVital(e,{level:n.$b.DEBUG,context:t})}setGlobalContext(e,t){c.isObservabilityClientEnabled&&c.datadogRum?.setGlobalContextProperty(e,t)}setViewContext(e,t){c.isObservabilityClientEnabled&&c.datadogRum?.setViewContextProperty(e,t)}setViewTag(e,t){c.setSentryTag(e,t),this.setViewContext(e,t)}setGlobalTag(e,t){c.setSentryTag(e,t),this.setGlobalContext(e,t)}startUserFlow({name:e,team:t,priority:i,trackFps:a,context:s,eventOptions:o,taskRunner:r}){return new _({name:e,team:t,priority:i??n.bx.P2,trackFps:a,context:s,taskRunner:r,eventOptions:o})}trackFeatureFlagInView(e,t){return t=!!t,c.isFeatureFlagTrackingEnabled&&(this.trackedFeatureFlags.has(e)||this.trackedFeatureFlags.size<100)&&(this.trackedFeatureFlags.add(e),c.datadogRum?.addFeatureFlagEvaluation(e,t)),t}static registerActiveVital(e){this.isVitalsTaggingEnabled&&this._activeVitalsTracker.register(e)}static unregisterActiveVital(e){this.isVitalsTaggingEnabled&&this._activeVitalsTracker.unregister(e)}static getActiveVitals(){return this.isVitalsTaggingEnabled?this._activeVitalsTracker.getActiveVitals():[]}constructor(){super("ObservabilityClient"),l(this,"logLevel",n.$b.INFO),l(this,"trackedFeatureFlags",new Set)}}l(c,"_instance",new c),l(c,"_activeVitalsTracker",new r.S),l(c,"datadogRum",void 0),l(c,"isObservabilityClientEnabled",!1),l(c,"isFeatureFlagTrackingEnabled",!1),l(c,"enableDevToolsTracing",!1),l(c,"isVitalsTaggingEnabled",!1),l(c,"definedAnalyticsHandler",void 0),l(c,"trackEvent",()=>{}),l(c,"isUserDebugSessionActive",()=>!1),l(c,"setSentryTag",()=>{});let _=class{startDuration(e,t={}){let i=new u(`${this.name}.${e}`,{level:t.level??n.$b.INFO,description:t.description,context:this.context,trackFps:t.trackFps??!1,onStop:t=>{this.context[e]=t},taskRunnerStatsTracker:this.taskRunner&&t.trackTaskRunnerStats?new m(this.taskRunner):void 0});return i.start(),i}measureDuration(e,t,i){let a=this.startDuration(e,{level:i?.level??n.$b.INFO,description:i?.description,trackTaskRunnerStats:i?.trackTaskRunnerStats});try{return t(a)}finally{a.stop()}}async measureDurationAsync(e,t,i){let a=this.startDuration(e,i);try{return await t(a)}finally{a.stop()}}addAction(e,t,i){c.getInstance().addAction(`${this.name}.${e}`,this.context.team,t,{...this.context,...i})}measureTimer(e,t){let i=performance.now();try{return t()}finally{let t=performance.now()-i;this.context[e]=t,c.getInstance().addTiming(`${this.name}.${e}`,t,n.$b.INFO)}}async measureTimerAsync(e,t){let i=performance.now();try{return await t()}finally{let t=performance.now()-i;this.context[e]=t,c.getInstance().addTiming(`${this.name}.${e}`,t,n.$b.INFO)}}createVital(e,{level:t,description:i,context:a,trackFps:s}){return new u(e,{level:t,description:i,context:{...this.context,...a},trackFps:s})}addContext(e){Object.assign(this.context,e),this.internalDuration.addContext(e)}getContext(){return this.context}end(){!this.ended&&c.isObservabilityClientEnabled&&(this.ended=!0,this.internalDuration.addContext(this.context),this.internalDuration.stop())}trackEvent(e,t,i){c.trackEvent?.(e,{...this.context,...t},{...this.eventOptions,...i})}trackDefinedEvent(e,t={}){c.definedAnalyticsHandler?.trackDefinedEvent(e,{...this.context,...t})}constructor({name:e,team:t,priority:i,trackFps:a,context:s,eventOptions:o,taskRunner:r}){l(this,"name",void 0),l(this,"context",{}),l(this,"ended",!1),l(this,"internalDuration",void 0),l(this,"eventOptions",void 0),l(this,"taskRunner",void 0),this.name=e,this.context={...s,flowName:e,team:t,priority:i},this.eventOptions=o,this.taskRunner=r,this.internalDuration=new u(`${this.name}`,{level:n.$b.INFO,team:t,trackFps:a??!0,context:this.context}),this.internalDuration.start()}};class u{getName(){return this.name}getTeam(){return this.team}startFrameRateMonitoring(){if(!c.isObservabilityClientEnabled||null!==this.fpsMonitorId)return;d.set(this,[]);let e=performance.now(),t=()=>{let i=performance.now(),a=i-e,s=this.getFrameTimeData();s&&s.push(a),e=i;let n=i-this.startTime;!this.stopped&&n<this.fpsCollectionDurationMs?this.fpsMonitorId=requestAnimationFrame(t):this.stopped||this.stopFpsMonitoring()};this.fpsMonitorId=requestAnimationFrame(t)}stopFpsMonitoring(){if(null!==this.fpsMonitorId){cancelAnimationFrame(this.fpsMonitorId),this.fpsMonitorId=null;let e=function(e){if(!e?.length||e.length<3)return{count:e?.length??0};e.sort((e,t)=>e-t);let t=e.reduce((e,t)=>e+t,0)/e.length,i=e.map(e=>{let i=e-t;return i*i}),a=Math.sqrt(i.reduce((e,t)=>e+t,0)/i.length),s=Math.floor(.9*e.length),n=Math.floor(.95*e.length),o=Math.floor(.99*e.length),r=Math.floor(.999*e.length),l=e.filter(e=>e>30).length/e.length,d=e.filter(e=>e>30).reduce((e,t)=>e+t,0),c=e.filter(e=>e>50).length/e.length,_=e.filter(e=>e>50).reduce((e,t)=>e+t,0),u=e[0]??0,m=e[e.length-1]??0,h=e[Math.floor(.5*e.length)]??0,p=e[s]??m,g=e[n]??m,f=e[o]??m,E=e[r]??m,b=e.slice(o).reduce((e,t)=>e+t,0)/(e.length-o),T=e.slice(r).reduce((e,t)=>e+t,0)/(e.length-r);return{count:e.length,avg:t,min:u,max:m,median:h,p90:p,p95:g,p99:f,p999:E,stddev:a,inferredFps:1e3/t,percentAbove30ms:l,durationAbove30ms:d,percentAbove50ms:c,durationAbove50ms:_,onePercentLowAverage:b,zeroPointOnePercentLowAverage:T}}(this.getFrameTimeData()?.slice(1));this.addContext({frameTimeStats:e})}}getFrameTimeData(){return d.get(this)}start(){!c.isObservabilityClientEnabled||(this.started?c.getInstance().addError(Error(`DurationVital ${this.name} already started`),a.FigmaTeam.UNOWNED):(this.level!==n.$b.DEBUG||c.isUserDebugSessionActive())&&(this.startTime=performance.now(),this.started=!0,c.registerActiveVital(this),this.trackFps&&this.startFrameRateMonitoring(),this.taskRunnerStatsTracker&&this.taskRunnerStatsTracker.start()))}stop(){if(!c.isObservabilityClientEnabled)return;if(this.stopped||!this.started)return void c.getInstance().addError(Error(`DurationVital ${this.name} ${this.stopped?"already stopped":"stopped but never started"}`),this.team);if(this.level===n.$b.DEBUG&&!c.isUserDebugSessionActive())return;this.stopFpsMonitoring(),this.taskRunnerStatsTracker&&this.addContext(this.taskRunnerStatsTracker.stop()),c.unregisterActiveVital(this);let e=performance.now()-this.startTime,t=this.startTime+performance.timeOrigin,i=s.Z.getInstance().wasBackgrounded(this.startTime,e),a=s.Z.getInstance().wasOffline(this.startTime,e);c.getInstance().logVital(this.name,{level:this.level,startTime:t,duration:e,description:this.description,context:{...this.context,wasBackgrounded:i,wasOffline:a}}),this.onStop?.(e,this.context?.frameTimeStats),this.stopped=!0}addContext(e){this.context={...this.context,...e}}constructor(e,{level:t,description:i,team:s,context:n,trackFps:o=!1,fpsCollectionDurationMs:r=18e4,onStop:d,taskRunnerStatsTracker:c}){l(this,"name",void 0),l(this,"description",void 0),l(this,"context",void 0),l(this,"level",void 0),l(this,"started",!1),l(this,"stopped",!1),l(this,"startTime",0),l(this,"fpsMonitorId",null),l(this,"team",void 0),l(this,"trackFps",void 0),l(this,"fpsCollectionDurationMs",void 0),l(this,"taskRunnerStatsTracker",void 0),l(this,"onStop",void 0),this.name=e,this.description=i,this.level=t,this.trackFps=o,this.team=s??a.FigmaTeam.UNOWNED,this.context={...n},this.fpsCollectionDurationMs=Math.min(r,18e4),this.taskRunnerStatsTracker=c,this.onStop=d}}class m{start(){this.startSnapShot=this.taskRunner.getSnapshot()}stop(){if(!this.startSnapShot)return{yieldTimeTotalMs:0,yieldTimeAverageMs:0};let e=this.taskRunner.getSnapshot(),t=e.yieldCount-this.startSnapShot.yieldCount,i=e.yieldTimeTotalMs-this.startSnapShot.yieldTimeTotalMs;return{yieldTimeTotalMs:i,yieldTimeAverageMs:t>0?i/t:0}}constructor(e){l(this,"startSnapShot",null),l(this,"taskRunner",void 0),this.taskRunner=e}}},943694(e,t,i){i.d(t,{g:()=>r});var a=i(297746),s=i(466082),n=i(895807),o=i(25378);async function r({node:e,tailwind:t,jsxDev:i,shadcn:r,noWrapper:l,bundleFlags:d,clientDependencies:c}){if(!e.isAlive||!a.glU)return null;let _=e.codeFileFullPath,u=(0,n.og)(_),m=(0,o.N)().asTransferableEntries(),h=(0,s.UN)().getLocalCodeLibraryOrNull()?.codeLibraryFormat??0,p=d?.codeObjectType||e.backingCodeComponent?.codeObjectType;return{...await c.bundleCode({entrypointsOrIdentifierToFileName:[_],filesystem:{objectPath:u,entries:m},tailwind:t,minify:!1,shadcn:r,jsxDev:i,noWrapper:l,bundleFlags:d,codeLibraryFormat:h,codeObjectType:p}),objectPath:u,entries:m,codeBuildId:c.generateUniqueId()}}},713503(e,t,i){i.d(t,{J8:()=>n,iP:()=>s,tF:()=>a});let a="google-gemini-3-pro",s="google-gemini-3-flash",n="caramel"},407449(e,t,i){i.d(t,{X:()=>d,Z:()=>l});var a=i(496059),s=i(350016),n=i(572827),o=i(398158);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l{async uploadBlobs(e,t,i){try{let s=i.map(({content:e})=>e instanceof Uint8Array?(0,n.Et)(e):(0,n.yS)(e)),r=Object.fromEntries(s.map((e,t)=>[e,i[t]])),l=await this.apiClient.initUploads({fileKey:e,threadId:t,contentSha1s:s});if(200!==l.status||void 0===l.data)throw new a.T(`initUploads failed: ${l.status} - ${l.cause}`);let d=[],c=[];for(let e of s){let t=l.data.uploadPackages[e]?.contentKey;if(!t)throw new a.T(`Content key not found for contentSha1: ${e}`);let i=l.data.uploadPackages[e]?.package;if(i){let t=r[e];c.push({contentSha1:e,uploadContent:t,uploadPackage:i})}d.push({contentKey:t,entityAlreadyExisted:null==i})}let _=(await Promise.all(c.map(({contentSha1:e,uploadContent:t,uploadPackage:i})=>{let{fields:s,uploadUrl:n}=i,{content:r,contentType:l}=t;if(void 0===r)throw new a.T(`Content not found for contentSha1: ${e}`);return(0,o.hl)({presignedData:{fields:s,uploadUrl:n},content:r,contentSha1:e,contentType:l})}))).filter(e=>!e.success);if(_.length>0)throw new a.T(`S3 upload(s) failed:
- ${_.map(e=>e.error).join("\n- ")}`);let u=c.map(({uploadPackage:e})=>e.commitKey);return u.length>0&&await this.commitUploadsWithRetry(e,u),{success:!0,resultItems:d}}catch(e){return{success:!1,error:`uploadBlobs failed: ${e instanceof Error?e.message:String(e)}`}}}async uploadJsonBlobs(e,t,i){let a=i.map(e=>({content:JSON.stringify(e),contentType:"application/json"}));return await this.uploadBlobs(e,t,a)}async listBlobs(e,t){let i=await this.apiClient.listBlobs({fileKey:e,threadId:t});if(200!==i.status||void 0===i.data)throw new a.T(`listBlobs failed: ${i.status} - ${i.cause}`);return i.data.contentBlobs}async fetchBlob(e,t,i){let s=(await this.listBlobs(e,t))[i];if(!s)throw new a.T(`Blob not found for contentKey: ${i}`);let n=await fetch(s);if(!n.ok)throw new a.T(`Failed to fetch blob: ${n.status} - ${n.statusText}`);return n.blob()}async commitUploadsWithRetry(e,t){let i,n=t;if(await (0,s.backOff)(async()=>{let t=await this.apiClient.commitUploads({fileKey:e,commitKeys:n});if(200!==t.status||void 0===t.data)throw i=new a.T(`commitUploads failed: ${t.status} - ${t.cause}`);i=t.data;let s=Object.entries(t.data.commitKeyToResult).filter(([e,t])=>!t.success).map(([e])=>e);if(s.length>0)throw n=s,new a.T(`commitUploads had ${s.length} failures; retrying subset`)},o.wH),!i||i instanceof a.T)throw new a.T(i?i.message:"commitUploads failed");let r=Object.entries(i.commitKeyToResult).filter(([e,t])=>!t.success).map(([e,t])=>e);if(r.length>0)throw new a.T(`commitUploads failed for some commit keys: ${r.join(", ")}`)}constructor(e){r(this,"apiClient",void 0),this.apiClient=e}}class d{clearCacheIfFileKeyChanged(e){this.currFileKey!==e&&(this.cache.clear(),this.log("Cleared blobstore cache because file key changed",{fileKey:e}),this.currFileKey=e)}async fetchBlobs({fileKey:e,threadId:t,contentKeys:i}){let s=new Map,n=new Set;for(let e of i)this.cache.has(e)?s.set(e,this.cache.get(e)):n.add(e);if(0===n.size)return s;let o=await this.blobstoreHelper.listBlobs(e,t),r=new Set,l=[];for(let e of n){let t=o[e];t?l.push({contentKey:e,blobUrl:t}):r.add(e)}r.size>0&&this.reportError(new a.T("Some blobs were not found in blobstore"),{missingBlobKeys:JSON.stringify(Array.from(r)),fileKey:e,threadId:t});let d=await Promise.all(l.map(async({contentKey:e,blobUrl:t})=>{let{blob:i,error:a}=await this.fetchBlobUrl(t);return{contentKey:e,blob:i,error:a}})),c=[];for(let{contentKey:e,blob:t,error:i}of d)if(t){let i=await t.arrayBuffer();this.cache.set(e,i),s.set(e,i)}else c.push({contentKey:e,error:i});return c.length>0&&this.reportError(new a.T("Failed to fetch some blobs from blobstore"),{failedBlobs:JSON.stringify(c),fileKey:e,threadId:t}),this.log(`Fetched ${s.size} blobs from blobstore`,{fileKey:e,threadId:t}),s}constructor(e,t,i,a){r(this,"blobstoreHelper",void 0),r(this,"reportError",void 0),r(this,"fetchBlobUrl",void 0),r(this,"log",void 0),r(this,"cache",void 0),r(this,"currFileKey",void 0),this.blobstoreHelper=e,this.reportError=t,this.fetchBlobUrl=i,this.log=a,this.cache=new Map}}},496059(e,t,i){i.d(t,{T:()=>a,f:()=>s});class a extends Error{constructor(e){super(`[make-chat-sdk] ${e}`),this.name="ChatSdkError"}}class s extends Error{constructor(e){super(`[assistant-chat-sdk] ${e}`),this.name="AssistantChatSdkError"}}},959499(e,t,i){i.d(t,{e:()=>n});var a=i(60021);let s=Symbol("unset");function n(e,t,i=200,o=!1){let r=s,l=(0,a.s)(()=>{r!==s&&(e(r),r=s)},i,o),d=function(e){r=r===s?e:t(r,e),l()};return d.cancel=()=>{l.cancel(),r=s},d.flush=()=>{l.flush(),r=s},d}},678286(e,t,i){i.d(t,{J:()=>n});var a=i(417675),s=i(148849);function n(e,t){let i=t,s=o.safeParse(e);s.success&&(i??=s.data.data.message);let n=r.safeParse(e);if(!n.success)return i;let l=(0,a.YD)(n.data.data.i18n.id,n.data.data.i18n.params);return""===l?i:l}let o=s.z.object({data:s.z.object({message:s.z.string()})}).passthrough(),r=s.z.object({data:s.z.object({i18n:s.z.object({id:s.z.string(),params:s.z.object({}).passthrough()})})}).passthrough()},759231(e,t,i){i.d(t,{AY:()=>l.AY,An:()=>d.A,E2:()=>c.l,E3:()=>c.E,FZ:()=>r.FZ,Hj:()=>r.Hj,Iz:()=>r.Iz,LJ:()=>r.LJ,M2:()=>r.M2,Mt:()=>r.Mt,Pj:()=>s.Pj,Rq:()=>r.Rq,S_:()=>r.S_,Ut:()=>r.Ut,Xr:()=>s.Xr,Zb:()=>r.Zb,eU:()=>r.eU,fp:()=>u,mC:()=>m,md:()=>_,mg:()=>r.mg,oA:()=>r.oA,p6:()=>r.p6,tP:()=>r.tP,t_:()=>r.t_,tx:()=>r.tx,um:()=>r.um,xP:()=>r.xP,yu:()=>r.yu,zl:()=>r.zl});var a=i(105652),s=i(961039),n=i(346439),o=i(673351),r=i(915036),l=i(933421),d=i(602170),c=i(75990);function _(e,t){let i=(0,s.Pj)(),[[n,r,l],d]=(0,a.useReducer)(t=>{let a=i.get(e);return Object.is(t[0],a)&&t[1]===i&&t[2]===e?t:[a,i,e]},void 0,()=>[i.get(e),i,e]),c=i.get(e);(r!==i||l!==e)&&(d(),c=i.get(e));let _=t?.deferToFrame??!1;return(0,a.useEffect)(()=>{let t,a=i.sub(e,()=>{_?(void 0!==t&&cancelAnimationFrame(t),t=requestAnimationFrame(d)):d()});return d(),()=>{void 0!==t&&cancelAnimationFrame(t),a()}},[i,e,_]),(0,a.useDebugValue)(c),c instanceof Promise?(0,o.Y)(c):c}function u(e,t){return[_(e,t),(0,s.Xr)(e)]}function m(e,t){let i=(0,a.useMemo)(()=>(0,n.eU)(e),[e]);return _(t||i)}},424128(e,t,i){i.d(t,{Ay:()=>s,SV:()=>n,cZ:()=>o});var a=i(105652);function s(...e){return t=>{e.forEach(e=>{o(e,t)})}}function n(...e){return a.useMemo(()=>s(...e),e)}function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}}}]);

//# debugId=cf5490ba-2b1c-5ec3-8929-38db3f8ab38e

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/11c9e6bf883f8df7ee1ef019f0c19458ca0cafe8/1229-02050c33e1149265.min.js.map