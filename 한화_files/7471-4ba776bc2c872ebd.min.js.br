"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="3201c27f-499a-504b-a35f-f92892046659")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["7471"],{261701(e,t,r){r.d(t,{N:()=>n,b:()=>a});let a=12,n=10},500147(e,t,r){r.d(t,{z:()=>n});var a,n=1464==r.j?((a=n||{}).HOMEPAGE="homepage",a.CATEGORY="category",a.PROFILE="profile",a.PLUGINS="plugins",a.RESOURCE_LANDING_PAGE="resource_landing_page",a.SUGGESTED_EXTENSIONS="suggested_extensions",a.RESOURCE_HUB="resource_hub",a.COOPER_TEMPLATE_PICKER="cooper_template_picker",a.SITES_TEMPLATE_PICKER="sites_template_picker",a.EDITOR_COMMUNITY_VIEW="editor_community_view",a.MAKE_TEMPLATE_PICKER="make_template_picker",a.MAKE_EMPTY_STATE="make_empty_state",a.SEARCH_PAGE="search_page",a.SEARCH_DROPDOWN="search_dropdown",a.FILE_BROWSER_SEARCH_PAGE="file_browser_search_page",a):null},332648(e,t,r){r.d(t,{M:()=>A,U:()=>y});var a,n,o,s,i=r(249532),l=r(3384),u=r(571547),c=Object.create,_=Object.defineProperty,d=Object.getOwnPropertyDescriptor,p=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),E=e=>{throw TypeError(e)},m=(e,t)=>_(e,"name",{value:t,configurable:!0}),T=["class","method","getter","setter","accessor","field","value","get","set"],f=e=>void 0!==e&&"function"!=typeof e?E("Function expected"):e,g=(e,t,r,a,n)=>({kind:T[e],name:t,metadata:a,addInitializer:e=>r._?E("Already initialized"):n.push(f(e||null))}),A=((a=A||{}).FIGJAM_TEMPLATES="figjam-templates",a.PLUGINS="plugins",a.WIDGETS="widgets",a.SLIDE_TEMPLATES="slide-templates",a.LIBRARIES="libraries",a.COOPER_TEMPLATES="buzz-templates",a.FIGMAKE_TEMPLATES="figmake-templates",a.RECENTLY_ADDED_TEMPLATES="recently-added-templates",a);n=[l.Ac];class y extends(s=l.nS){}(y=((e,t,r,a,n,o)=>{let s,i,l;var u,c,d,E,A=0,y=T[5],I=false,h=e[A]||(e[A]=[]),L=0;m(n,r);for(var S=a.length-1;S>=0;S--)E=g(0,r,d={},e[3],h),c=(0,a[S])(n,E),d._=1,f(c)&&(n=c);return s=n,i=p("metadata"),l=e[3],i in s?_(s,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[i]=l,L&&_(n,r,L),n})(o=[,,,c(s?.[p("metadata")]??null)],0,"InternalResourcesRoute",n,y)).displayName="InternalResourcesRoute",y.path=(0,l.aV)(u.VR,"/internal/:resourceTypeSlug/:scopeOrTeamId(org|[0-9]+)?"),y.serializeParams=e=>({...(0,u.FZ)(e),resourceTypeSlug:e.resourceTypeSlug,scopeOrTeamId:e.forOrg?"org":e.forTeamId}),y.deserializeParams=e=>{let t=(0,i.S)(e.resourceTypeSlug,A);if(void 0===t)throw Error(`InternalResourceHubRoute: Invalid resource type slug ${e.resourceTypeSlug}`);return{resourceTypeSlug:t,..."org"===e.scopeOrTeamId?{forOrg:!0,forTeamId:void 0}:{forOrg:!1,forTeamId:e.scopeOrTeamId},...(0,u.CS)(e)}},y.parseQueryString=e=>({...(0,u.p7)(e)}),((e,t,r,a)=>{for(var n=0,o=e[0],s=o&&o.length;n<s;n++)o[n].call(r)})(o,0,y)},86952(e,t,r){r.d(t,{D9:()=>u,IR:()=>_,Mt:()=>l,N5:()=>p,RG:()=>s,WW:()=>n,XF:()=>m,di:()=>E,fZ:()=>c,nR:()=>i,p3:()=>d,qA:()=>o});var a=r(552807);let n="agreed_to_cooper_modal",o="cooper_locked_template_insert_event",s="seen_cooper_internal_template_banner",i="seen_cooper_internal_template_creation_banner",l="Copying 3 or more non-instance assets",u="cooper_publish_templates_target_key",c="dismiss_buzz_plugin_callout",_="buzz_inline_toolbar_target_key",d="buzz_grid_sav_toggle_target_key",p="buzz_export_assets_target_key",E="buzz_design_mode_target_key";function m(){return!!(0,a.f)(n)}},748170(e,t,r){r.d(t,{V:()=>d,z:()=>p});var a=r(295870);if(1464==r.j)var n=r(22291);var o=r(184634),s=r(869563),i=r(500147),l=r(329254),u=r(967041),c=r(88869),_=r(847706);let d=u.M4.Query({fetch:async e=>(await _.$W.getResources({...e,caller:i.z.COOPER_TEMPLATE_PICKER})).data.meta.results});function p(e){let t=new Set,r=e.filter(e=>(0,s.Sv)(e)&&(0,s.LE)(e)).map(e=>{let t=e.content.component_v2;if(!t){let t=Error("component_v2 is missing on buzz template asset with content");(0,o.$D)(a.FigmaTeam.COMMUNITY,t,{extra:{asset:e}});return}return t._component_v2_record}).filter(e=>void 0!==e);r.forEach(e=>{t.add((0,n.l)(e.library_key))});let i=(0,l.bj)(Array.from(t)),u=i.data,_=new Map;return u.forEach(e=>{(0,c.ZA)(e)&&_.set((0,n.l)(e.library_key),e)}),{isLoading:"loading"===i.status,libraryKeyToPublishedLibrary:_,components:r}}},544184(e,t,r){r.d(t,{Gu:()=>ea,Ij:()=>eM,M1:()=>eT,Nd:()=>ep,Nn:()=>ec,R7:()=>eO,TE:()=>en,Th:()=>er,VU:()=>es,XH:()=>em,_M:()=>eE,a2:()=>eI,aZ:()=>eu,eU:()=>eh,fp:()=>ed,g5:()=>el,gF:()=>ey,jv:()=>ef,o6:()=>eL,pI:()=>ei,pK:()=>et,v3:()=>eo,wD:()=>ev,yC:()=>eR,zW:()=>e_});var a,n=r(105652),o=r(645186),s=r(446232),i=r(705633);if(1464==r.j)var l=r(449979);var u=r(297746),c=r(16233),_=r(798913);if(1464==r.j)var d=r(933330);if(1464==r.j)var p=r(2227);var E=r(466082),m=r(417675),T=r(759231);if(1464==r.j)var f=r(955394);var g=r(365146),A=r(23226),y=r(146377),I=r(504923),h=r(679313),L=r(869563),S=r(903834);if(1464==r.j)var P=r(500147);var M=r(263255);if(1464==r.j)var R=r(486907);if(1464==r.j)var v=r(86952);if(1464==r.j)var O=r(615606);if(1464==r.j)var b=r(937561);if(1464==r.j)var C=r(694426);var N=r(487073),w=r(231417),G=r(732636),F=r(687397),D=r(510244),k=r(115055),z=r(257394),Z=r(194579),U=r(583400);if(1464==r.j)var V=r(290256);var j=r(680281),K=r(945013);if(1464==r.j)var x=r(930501);var B=r(306874),W=r(28583),Y=r(867206);if(1464==r.j)var H=r(395453);var Q=r(271416);if(1464==r.j)var q=r(748170);if(1464==r.j)var X=r(417262);function J(e){let t=new Map,r=new Map;return e.forEach(e=>{let r=e.containing_frame?.containingStateGroup?.nodeId;r&&$(t,r,e)}),e.forEach(e=>{if(e.containing_frame?.containingStateGroup?.nodeId)return;let a=e.containing_frame?.nodeId||e.containing_frame?.pageId,n=e.containing_frame?.name||e.containing_frame?.pageName,o=e.containing_frame?.sortPosition??null;a&&n&&($(t,a,e),r.set(a,{name:n,node_id:a,sort_position:o}))}),{groupingMap:t,containingFrameMap:r}}function $(e,t,r){let a=e.get(t);a?a.push(r):e.set(t,[r])}function ee(e,t){return[...e.entries()].map(([e,r])=>{let a=t.get(e)||[];return{name:r.name,node_id:r.node_id,sort_position:r.sort_position,components:a,thumbnail_url:a[0]?.thumbnail_url}})}function et(){return 0===(0,C.fN)().length}function er(){let e=(0,j.eY)(),t=(0,C.nt)();if(0===t.length)return null;let r=t[0];if(r){let t=e.get(r);if(t){let r=t.symbolId;if(r)return e.get(r)?.sourceLibraryKey}}return null}var ea=1464==r.j?((a=ea||{}).NEW_FILE_MODAL="NEW_FILE_MODAL",a.LEFT_RAIL="LEFT_RAIL",a):null;let en=n.createContext(null);function eo(){let e=n.useContext(en);if(!e)throw Error("useCooperTemplateViewType must be used within a CooperTemplateViewTypeContext");return e}function es(){return"LEFT_RAIL"===eo()}function ei(){let e=(0,w.U)(),t=(0,o.d4)(e=>e.search.sessionId),[r,a]=(0,T.fp)(O.ce),[s,i]=(0,T.fp)(O.EC),[l,u]=(0,T.fp)(O.xB),[c,_]=(0,T.fp)(O.Fs),d=r.trim(),[p]=(0,f.A)(d,200),E=eo(),m=(0,F.Gi)(),{teamTemplates:A,requestLoadMore:y,status:I}=(0,F.qY)(p,x._Y.COOPER,"NEW_FILE_MODAL"===E?16:10),h=(0,Y.X$)("useCooperTemplatesSearch"),L=(0,Y.EV)(h).unwrapOr(!1),P=(0,D.j)(),R=ev(),v=m?.type==="team"&&L,b=m?.type==="org"?m.entity.id:void 0,C=v?m.entity.id:void 0,[{data:N,status:G}]=(0,g.IT)((0,q.V)({query:p,sort_by:S.e.Search.POPULAR,resource_type:[M.vt.COOPER_TEMPLATE_ASSET],org_id:b,team_id:C,include_content:!0}),{enabled:P&&!!(b||C)&&!!p}),[{data:k,status:z}]=(0,g.IT)((0,q.V)({query:p,sort_by:S.e.Search.POPULAR,resource_type:[M.vt.COOPER_TEMPLATE_ASSET],include_content:!0,include_category_slug:!0,include_tags:!0}),{enabled:!!p});return n.useEffect(()=>{d!==p?(i(!0),u(!0),_(!0)):(i("loading"===I),u("loading"===G),_("loading"===z))},[d,p,G,z,I,i,u,_]),s||l||c||e("template_picker_search_query_result",{query:d,searchSessionId:t,productType:"cooper",orgId:b,teamId:C,templateFileResults:A.length,internalAssetResults:N?.length??0,communityAssetResults:k?.length??0,entrypoint:E}),{searchQuery:r,trimmedSearchQuery:d,setSearchQuery:a,templateResults:A,internalAssetResults:"loaded"===G?N:[],communityAssetResults:"loaded"!==z||R?[]:k,requestLoadMore:y}}function el(e){let t=(0,h.SI)(),r=(0,T.Xr)(O.Tw),a=(0,X.Z)("cooper_template_picker_dismissed"),s=(0,o.d4)(e=>e.search.sessionId),i=(0,o.wA)();return n.useCallback(()=>{a({source:e}),s&&i(I.ky()),t?r(!1):_.l7.user("Create blank template",()=>{let e=u.Z64.CUSTOM,t=u.fZl?.getCooperTemplateTypeSize(e);if(!t)return void console.error("No size found for Cooper template type",e);let a=u.IPu?.createBlankChildAtCoord(0,0,t,"start_from_scratch",!0,e);a&&(Z.Y5.triggerAction("enter-focus-view"),c.GT?.panToNode(a,!1)),r(!1)})},[r,a,e,s,i,t])}function eu(){let e=(0,T.Xr)(O.Tw),t=(0,T.Xr)(O.Hk),r=(0,K.tS)();return(0,n.useCallback)(()=>{r&&(t(!0),e(!1),c.u7?.cooperFocusView().exitFocusedNodeView(),c.u7?.cooperFocusView().zoomToGrid(0))},[e,r,t])}function ec({library:e,selectedTemplateIds:t}){let r=(0,T.Xr)(O.Tw),a=(0,K.tS)(),s=(0,o.wA)(),i=function(e){let[t]=(0,g.IT)((0,z.u)(e),{enabled:!0});return(0,n.useMemo)(()=>{if("loading"===t.status)return{status:"loading",data:[]};let e=t.data?.components||[],r=t.data?.state_groups||[],{groupingMap:a,containingFrameMap:n}=J(e);return{status:"loaded",data:[...r.map(e=>({name:e.name,node_id:e.node_id,components:a.get(e.node_id)||[],thumbnail_url:a.get(e.node_id)?.[0]?.thumbnail_url,sort_position:a.get(e.node_id)?.[0]?.sort_position??null})),...ee(n,a)]}},[t.data,t.status])}(e.library_key),l=i.data;return(0,n.useCallback)(()=>{if(!a||"loaded"!==i.status)return;let n=t?l.map(e=>({...e,components:e.components.filter(e=>t.has(e.node_id))})).filter(e=>e.components.length>0):l;0!==n.length&&(!function(e,t,r){let a=e.sort(b.go).map(e=>({...e,components:e.components.sort(b.go)})).filter(e=>e.components.length>0);if(0===a.length)return;let n=(u.Ez5?.canvasGrid().canvasGridArray.getCopy()??[]).length>0?(u.Ez5?.canvasGrid().getLastChildCoord()?.row??0)+1:0,o=!0,s=new Set;a.forEach((e,a)=>{let i=n+a,l=e.name;e.components.forEach((e,a)=>{let n=ed({getGridCoord:()=>({row:i,col:a}),libraryKey:t,detatchInstances:!1,selectAfterInsert:o});r((0,N.FU)({item:e,canvasPosition:new d.Mi,percentageOffset:new d.Mi,insertAsChildOfCanvas:!0,insertionCallback:(e,t,r)=>{if(n(e,t,r),!s.has(i)&&e.length>0){s.add(i);let t=(0,E.UN)().get(e[0]),r=t?.parentNode;r?.isCanvasGridRow&&_.l7.system("template-insertion-set-row-name",()=>{r.name=l,r.setHasBeenManuallyRenamed(!0)})}},isClick:!1,selectAfterInsert:!1,sourceForTracking:"cooper-add-all-templates"})),o=!1})})}(n,e.library_key,s),r(!1))},[r,a,s,l,i.status,e.library_key,t])}function e_({libraryKey:e,templates:t}){let r=(0,T.Xr)(O.Tw),a=(0,K.tS)(),s=(0,o.wA)();return(0,n.useCallback)(()=>{if(!a||0===t.length)return;let n=(u.Ez5?.canvasGrid().canvasGridArray.getCopy()??[]).length>0?(u.Ez5?.canvasGrid().getLastChildCoord()?.row??0)+1:0,o=!0;t.forEach((t,r)=>{let a=ed({getGridCoord:()=>({row:n,col:r}),libraryKey:e,selectAfterInsert:o});s((0,N.FU)({item:t,canvasPosition:new d.Mi,percentageOffset:new d.Mi,insertAsChildOfCanvas:!0,insertionCallback:a,isClick:!0,selectAfterInsert:!1,sourceForTracking:"cooper-insert-templates"})),o=!1}),r(!1)},[a,t,e,s,r])}function ed({getGridCoord:e,detatchInstances:t=!1,selectAfterInsert:r=!0}){return(a,n,o)=>{if(0===a.length)return;if(t){let e=_.l7.user("cooper-detach-instances",()=>u.glU?.detachInstances(a,!1,u.h6N.NEVER));if(!e||0===e.length)return;a=e}let s=a.map(e=>(0,E.UN)().get(e)).filter(l.Vq),i=a[0],d=u.IPu?.getNodeToReplace();if(d)u.Ez5?.canvasGrid().replaceChildInGrid(i,d);else{let{row:t,col:r}=e(!o&&n?n:{x:-1/0,y:-1/0}),a=u.Ez5?.canvasGrid();a?.insertChildAtCoord(i,t,r,"cooper-add-template-panel")}if(r){let e=(0,E.UN)().get(i);e&&u.Egt?.replaceSelection([e.guid],!0),1===s.length&&s[0]?(s[0].isInstance&&(0,y.YQ)({id:v.qA}),c.u7?.cooperFocusView().isFocusedNodeViewEnabled()?c.u7?.cooperFocusView().focusSelectedNodeInFocusedNodeView(!0):setTimeout(()=>{c.u7?.cooperFocusView().panToSelectedNodeIfOutsideViewport(.6)},0)):console.warn("Expected exactly one node to be inserted, but found",s.length)}(0,Q.$z)(),U.sq(i,!0)}}function ep(e){let[t,r]=(0,T.fp)(O.L1),a=t[e]??0,o=(0,n.useRef)(null);return{scrollPosition:a,scrollRef:o,onScroll:(0,n.useCallback)((t,a)=>{r(e,t)},[r,e]),resetScrollTop:(0,n.useCallback)(e=>{for(let t in O.mF){let a=O.mF[t];e.includes(a)||r(a,0)}},[r])}}function eE(e){let t=B.iQA.Query({libraryKey:e}),[r]=(0,g.IT)(t,{enabled:!0});return(0,n.useMemo)(()=>{if("loading"===r.status)return{status:"loading",data:{templates:[]}};let t=(0,s.unwrap)(r.data?.libraryKeyToFile?.file);if(!t||!e)return{status:"loaded",data:{templates:[]}};let a=t.libraryHierarchyPaths.flatMap(e=>e.components),n=t.libraryHierarchyPaths.flatMap(e=>e.stateGroups),o=[...a.map(t=>(0,W.Qp)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}}))].sort(b.go),i=[...n.map(t=>{let r=(0,W.SS)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}}),a=[],n=[];return t.states&&"data"in t.states&&Array.isArray(t.states.data)?n=t.states.data:Array.isArray(t.states)&&(n=t.states),Array.isArray(n)&&n.forEach(t=>{a.push((0,W.Qp)(t,{type:"team",file:{key:"",teamId:null,name:"",libraryKey:e}}))}),a.sort(b.go),r.states=a,r})],{groupingMap:l,containingFrameMap:u}=J(o);return{status:"loaded",data:{templates:[...i.map(e=>{let t=Array.isArray(e.states)?e.states?.map(e=>({...e,type:H.P.COMPONENT})):[];return{name:e.name,node_id:e.node_id,components:t,thumbnail_url:t[0]?.thumbnail_url,sort_position:t[0]?.containing_frame?.sortPosition??null}}),...ee(u,l)],template_name:t.template?.name,publisher_name:t.template?.publishedByUserNullable?.name,description:t.template?.description}}},[r.data,r.status,e])}function em(){let e=(0,n.useMemo)(()=>e=>{let t=e.mirror.selectionProperties.cooperTemplateData;if((0,V.gl)(t))return V.oV;if(!t)return u.Z64.CUSTOM;let r=t.type||"CUSTOM";return u.Z64[r]},[]);return(0,o.d4)(e)}function eT(){let e=em(),t=eS();return n.useMemo(()=>{if((0,V.gl)(e)||!t)return null;for(let t of u.fZl?.getAllExceptCustomTemplateGroups()||[]){let r=t.types.find(t=>t.type===e);if(r)return r.name}return null},[e,t])}function ef(e){return n.useMemo(()=>{if(!e)return null;for(let t of u.fZl?.getAllExceptCustomTemplateGroups()||[]){let r=t.types.find(t=>t.type===e);if(r)return r.name}return null},[e])}function eg(){let{getDynamicConfig:e}=(0,A.bY)("cooper_asset_type_to_category_and_tag_map");return e().get("asset_type_map",{})}function eA(e,t){let r={category_slug:void 0,tags_text:void 0,tags_slug:void 0};if(!e||(0,V.gl)(e))return r;try{return t[u.Z64[e]]||r}catch(e){return console.error("Error getting asset type fields:",e),r}}function ey(e){let t=eg();return n.useMemo(()=>eA(e,t),[e,t])}function eI(){let e=em(),t=eS(),r=eg();return n.useMemo(()=>eA(t?e:null,r),[e,r,t])}function eh(){let e=(0,R.LU)();return n.useCallback(()=>{_.l7.user("Duplicate as blank buzz asset",()=>{let t=null,r=u.Ez5?.getInsertGridCoord({x:-1/0,y:-1/0});r?(t=(0,p.fn)((0,p.sH)(e))?u.IPu?.duplicateAsBlankBuzzAsset(e,r.row,r.col,"duplicate_as_blank_buzz_asset"):u.IPu?.createBlankChildAtCoord(r.row,r.col,new d.Mi(1080,1080),"duplicate_as_blank_buzz_asset",!0,u.Z64.INSTA_POST_SQUARE)??null,c.u7?.cooperFocusView().isFocusedNodeViewEnabled()&&t&&c.u7?.cooperFocusView().focusNodeInFocusedNodeView(t,!0)):console.error("No insert grid coordinate found for duplicating buzz asset",r)})},[e])}function eL(e){let[t,r]=n.useState(!1);return n.useEffect(()=>{let t=()=>{e.current&&r(e.current.scrollWidth>e.current.clientWidth||e.current.scrollHeight>e.current.clientHeight)},a=requestAnimationFrame(t),n=new ResizeObserver(t);return e.current&&n.observe(e.current),()=>{cancelAnimationFrame(a),n.disconnect()}},[e]),t}function eS(){return 1===(0,o.d4)(e=>e.mirror.selectionProperties.numSelected||0)}let eP=()=>({[u.Z64.BANNER_STANDARD]:(0,m.t)("cooper.templates.banner_standard_pretty"),[u.Z64.BANNER_ULTRAWIDE]:(0,m.t)("cooper.templates.banner_ultrawide_pretty"),[u.Z64.BANNER_WIDE]:(0,m.t)("cooper.templates.banner_wide_pretty"),[u.Z64.CARD_HORIZONTAL]:(0,m.t)("cooper.templates.card_horizontal_pretty"),[u.Z64.CARD_VERTICAL]:(0,m.t)("cooper.templates.card_vertical_pretty"),[u.Z64.FACEBOOK_AD_PORTRAIT]:(0,m.t)("cooper.templates.facebook_ad_portrait_pretty"),[u.Z64.FACEBOOK_AD_SQUARE]:(0,m.t)("cooper.templates.facebook_ad_square_pretty"),[u.Z64.INSTA_POST_PORTRAIT]:(0,m.t)("cooper.templates.instagram_post_portrait_pretty"),[u.Z64.INSTA_POST_SQUARE]:(0,m.t)("cooper.templates.instagram_post_square_pretty"),[u.Z64.LINKEDIN_AD_LANDSCAPE]:(0,m.t)("cooper.templates.linked_in_ad_landscape_pretty"),[u.Z64.LINKEDIN_AD_SQUARE]:(0,m.t)("cooper.templates.linked_in_ad_square_pretty"),[u.Z64.LINKEDIN_AD_VERTICAL]:(0,m.t)("cooper.templates.linked_in_ad_vertical_pretty"),[u.Z64.LINKEDIN_POST_LANDSCAPE]:(0,m.t)("cooper.templates.linked_in_post_landscape_pretty"),[u.Z64.LINKEDIN_POST_PORTRAIT]:(0,m.t)("cooper.templates.linked_in_post_portrait_pretty"),[u.Z64.LINKEDIN_POST_SQUARE]:(0,m.t)("cooper.templates.linked_in_post_square_pretty"),[u.Z64.NAME_TAG_LANDSCAPE]:(0,m.t)("cooper.templates.name_tag_landscape_pretty"),[u.Z64.NAME_TAG_PORTRAIT]:(0,m.t)("cooper.templates.name_tag_portrait_pretty"),[u.Z64.PRINT_US_LETTER]:(0,m.t)("cooper.templates.print_us_letter_pretty")});function eM(e,{usePrettyName:t}){let r=(0,n.useMemo)(eP,[]),a=(0,n.useMemo)(()=>(u.fZl?.getAllExceptCustomTemplateGroups()||[]).flatMap(e=>e.types),[]),o=eg(),s=(0,n.useCallback)(e=>e?t?r[e.type]??e.name:e.name:null,[r,t]);return(0,n.useMemo)(()=>{let t=new Map;for(let r of e){if(!r||!r.component)continue;let{component:e,categorySlug:n,tags:i}=r,l=e.id;if(!l)continue;let c=null,_={width:e.min_node_width,height:e.min_node_height};if(_.width&&_.height){let e=a.filter(e=>e.dimension.x===_.width&&e.dimension.y===_.height);if(1===e.length)c=s(e[0])??null;else if(e.length>1){let t=null;if(n)for(let r of e){let e=u.Z64[r.type];if(!e)continue;let a=o[e];if(a&&a.category_slug===n){let e=!i||0===Object.keys(i).length;if(!e&&i){let t=Object.keys(i)[0];if(t){let r=i[t];r&&a.tags_slug?.includes(r)&&(e=!0)}}if(e){t=s(r);break}}}c=t??s(e[0])??null}}t.set(l,c)}return t},[e,a,o,s])}function eR({plan:e}){let{type:t,key:{parentId:r}}=e,a=(0,Y.X$)("useCooperYourTemplates"),n=(0,Y.EV)(a).unwrapOr(!1),o=t===x.OL.ORG&&r?r:void 0,s=n&&r?r:void 0,{resources:i,loading:l}=(0,k.yH)({resourceTypes:[M.vt.COOPER_TEMPLATE_FILE],limit:3,orgId:o,teamId:s,caller:P.z.COOPER_TEMPLATE_PICKER,sortBy:S.e.Browse.PUBLISHED_AT,selfPublished:!0,includeContent:!0,enableQuery:!!(o||s)});return{yourTemplates:!l&&i?i.map(e=>(0,L.Ky)(e)).filter(Boolean):[],isLoading:l}}function ev(){let e=(0,G.a9)(),t=(0,Y.F3)({parentId:e?.org_id||"",type:x.OL.ORG});return!!i.v.getFeatureGate("buzz_disable_first_party_templates_toggle")&&t.data?.buzzDisableFirstPartyTemplates?.status===s.OptionalStatus.Loaded&&t.data?.buzzDisableFirstPartyTemplates?.data===!0}function eO(){let[e,t]=(0,T.fp)(O.xm),r=n.useRef(e);r.current=e;let a=ev();return n.useEffect(()=>{r.current?.type===O.mF.ALL&&a&&t({type:O.mF.ORG})},[a,t,r]),[e,t]}},937561(e,t,r){if(r.d(t,{AO:()=>d,Kq:()=>p,YS:()=>c,go:()=>m,r5:()=>E}),1464==r.j)var a=r(449979);var n=r(297746),o=r(16233),s=r(798913),i=r(844619),l=r(869563);if(1464==r.j)var u=r(699008);let c=3,_=[n.Z64.FACEBOOK_AD_PORTRAIT,n.Z64.INSTA_POST_PORTRAIT,n.Z64.LINKEDIN_POST_PORTRAIT,n.Z64.LINKEDIN_POST_LANDSCAPE,n.Z64.LINKEDIN_AD_SQUARE,n.Z64.LINKEDIN_AD_VERTICAL,n.Z64.GOOGLE_MOBILE_BANNER_AD,n.Z64.GOOGLE_SKYSCRAPER_AD,n.Z64.PRINT_US_LETTER,n.Z64.POSTER,n.Z64.BANNER_STANDARD,n.Z64.BANNER_WIDE,n.Z64.BANNER_ULTRAWIDE,n.Z64.NAME_TAG_PORTRAIT,n.Z64.NAME_TAG_LANDSCAPE,n.Z64.INSTA_REEL_COVER,n.Z64.ZOOM_BACKGROUND,n.Z64.TIKTOK_POST];function d({dimensions:e,assets:t}){if(!t||0===t.length)return t;let{width:r,height:a}=e,n=[[504,360],[360,504],[612,792],[648,864],[576,288],[576,192],[576,144],[144,216],[216,144]],o=[{w:2100,h:1500},{w:1500,h:2100},{w:2550,h:3300},{w:2700,h:3600},{w:2400,h:1200},{w:2400,h:800},{w:2400,h:600},{w:600,h:900},{w:900,h:600}];for(let e=0;e<n.length;e++){let s=n[e];if(s&&r===s[0]&&a===s[1]){let n=o[e];return t.filter(e=>{if(!(0,l.Sv)(e))return!1;let t=p(e);return!!t&&(t.width===r&&t.height===a||t.width===n?.w&&t.height===n?.h)})}}return t.filter(e=>{if(!(0,l.Sv)(e))return!1;let t=p(e);return!!t&&t.width===r&&t.height===a})}function p(e){if(!(0,l.Sv)(e))return;let t=e.content.component_v2?.min_node_width,r=e.content.component_v2?.min_node_height;return t&&r?{width:t,height:r}:void 0}function E({templateType:e,closeTemplatePicker:t,shouldInsertFrame:r,shouldEnterGridView:a,setDimensionsSubmenuOpen:i,setActiveTab:l,setCooperTemplateShouldUseAssetType:c}){s.l7.user("Create blank template",()=>{let s=n.fZl?.getCooperTemplateTypeSize(e),d=n.Ez5?.getInsertGridCoord({x:-1/0,y:-1/0});if(!s||!d)return void console.error("Failed fetch size and/or location for new template",s,d);let p=n.IPu?.createBlankChildAtCoord(d.row,d.col,s,"start_from_scratch",!r,e);p&&(a?(o.u7?.cooperFocusView().exitFocusedNodeView(),o.GT?.panToNode(p,!1),n.Egt?.replaceSelection([p],!1)):o.u7?.cooperFocusView().isFocusedNodeViewEnabled()?o.u7?.cooperFocusView().focusNodeInFocusedNodeView(p,!0):(setTimeout(()=>{o.u7?.cooperFocusView().panToNodeIfOutsideViewport(p,.6)},0),n.Egt?.replaceSelection([p],!1))),e===n.Z64.CUSTOM&&i(!0),e!==n.Z64.CUSTOM&&l&&c&&(l(u.x.TEMPLATES),_.includes(e)||c(!0)),t()})}function m(e,t){return(0,a.Vq)(e.sort_position)&&(0,a.Vq)(t.sort_position)?-(0,i.Ez)(e.sort_position,t.sort_position):e.name.localeCompare(t.name)}},417262(e,t,r){r.d(t,{Z:()=>o});var a=r(105652),n=r(231417);function o(e){let t=(0,n.U)();return(0,a.useCallback)(r=>{t(e,{...r})},[e,t])}},115055(e,t,r){r.d(t,{GO:()=>T,UX:()=>g,Uy:()=>I,pj:()=>y,wO:()=>m,yH:()=>E});var a=r(295870),n=r(365146),o=r(184634);if(1464==r.j)var s=r(261701);var i=r(903834);if(1464==r.j)var l=r(500147);var u=r(263255);if(1464==r.j)var c=r(919462);if(1464==r.j)var _=r(930501);var d=r(509231),p=r(699117);function E({limit:e=s.N,resourceTypes:t,teamId:r,orgId:l,caller:u,includeContent:c=!1,enableQuery:_=!0,sortBy:d=i.e.Browse.ALL_TIME,selfPublished:E}){let[{data:m,status:T,hasNextPage:f,isFetchingNextPage:g},{fetchNextPage:A}]=(0,n.IT)(p.a.InternalResourcesPaginatedQuery({resourceType:t,orgId:l,teamId:r,caller:u,pageSize:e,includeContent:c,sortBy:d,selfPublished:E}),{enabled:_&&(!!r||!!l)});return!_||r||l?{resources:m??[],loading:"loading"===T,hasNextPage:f??!1,isFetchingNextPage:g,fetchNextPage:A}:((0,o.$D)(a.FigmaTeam.COMMUNITY,Error("useInternalResources: teamId and orgId cannot both be undefined"),{extra:{resourceTypes:t,caller:u}}),{resources:[],loading:!1,hasNextPage:!1,isFetchingNextPage:!1,fetchNextPage:()=>{}})}function m({limit:e=s.N,orgId:t,caller:r,includeContent:a=!1}){return E({limit:e,resourceTypes:[u.vt.PLUGIN],teamId:void 0,orgId:t,caller:r,includeContent:a,enableQuery:!!t,sortBy:i.e.Browse.ALL_TIME})}function T({orgId:e,teamId:t,resourceType:r,planTier:a,sortBy:n,isTemplatesPublishingDisabledForOrg:o}){return E({resourceTypes:[r],limit:c.u8,orgId:e,teamId:t,caller:l.z.RESOURCE_HUB,includeContent:!0,enableQuery:(0,d.Pe)(a,r,o),sortBy:n})}function f({planTier:e,teamId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a,resourceType:o}){return(0,n.IT)(p.a.InternalResourcesPaginatedQuery({resourceType:[o],teamId:t,caller:l.z.RESOURCE_HUB,pageSize:a+1,includeContent:!0}),{enabled:!!t&&(0,d.Pe)(e,o,r)})}function g({planTier:e,teamId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a}){let[{data:n,status:o}]=f({planTier:e,resourceType:u.vt.COOPER_TEMPLATE_FILE,teamId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a}),[{data:s,status:i}]=f({planTier:e,resourceType:u.vt.FIGJAM_TEMPLATE,teamId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a}),[{data:l,status:c}]=f({planTier:e,resourceType:u.vt.SLIDE_TEMPLATE,teamId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a}),[{data:d,status:p}]=f({planTier:e,resourceType:u.vt.FIGMAKE_TEMPLATE,teamId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a});return{[_._Y.COOPER]:{templates:n??[],isLoading:"loading"===o,hasMoreTemplates:(n?.length??0)>0},[_._Y.WHITEBOARD]:{templates:s??[],isLoading:"loading"===i,hasMoreTemplates:(s?.length??0)>0},[_._Y.SLIDES]:{templates:l??[],isLoading:"loading"===c,hasMoreTemplates:(l?.length??0)>0},[_._Y.FIGMAKE]:{templates:d??[],isLoading:"loading"===p,hasMoreTemplates:(d?.length??0)>0}}}function A({planTier:e,orgId:t,resourceType:r,isTemplatesPublishingDisabledForOrg:a,numTemplates:o}){return(0,n.IT)(p.a.getResourcesByTeamPaginatedQuery({orgId:t,resourceType:[r],pageSize:o+1,includeContent:!0}),{enabled:!!t&&(0,d.Pe)(e,r,a)})}function y({planTier:e,orgId:t,isTemplatesPublishingDisabledForOrg:r,numTemplates:a}){let[{data:n,status:o}]=A({planTier:e,orgId:t,resourceType:u.vt.COOPER_TEMPLATE_FILE,isTemplatesPublishingDisabledForOrg:r,numTemplates:a}),s=n?.flatMap(e=>e.resources)??[],[{data:i,status:l}]=A({planTier:e,orgId:t,resourceType:u.vt.FIGJAM_TEMPLATE,isTemplatesPublishingDisabledForOrg:r,numTemplates:a}),c=i?.flatMap(e=>e.resources)??[],[{data:d,status:p}]=A({planTier:e,orgId:t,resourceType:u.vt.SLIDE_TEMPLATE,isTemplatesPublishingDisabledForOrg:r,numTemplates:a}),E=d?.flatMap(e=>e.resources)??[],[{data:m,status:T}]=A({planTier:e,orgId:t,resourceType:u.vt.FIGMAKE_TEMPLATE,isTemplatesPublishingDisabledForOrg:r,numTemplates:a}),f=m?.flatMap(e=>e.resources)??[];return{[_._Y.COOPER]:{templates:s,isLoading:"loading"===o,hasMoreTemplates:s.length>a},[_._Y.WHITEBOARD]:{templates:c,isLoading:"loading"===l,hasMoreTemplates:c.length>a},[_._Y.SLIDES]:{templates:E,isLoading:"loading"===p,hasMoreTemplates:E.length>a},[_._Y.FIGMAKE]:{templates:f,isLoading:"loading"===T,hasMoreTemplates:f.length>a}}}function I({orgId:e,resourceType:t}){let[{data:r,status:a,hasNextPage:o,isFetchingNextPage:s},{fetchNextPage:i}]=(0,n.IT)(p.a.getResourcesByTeamPaginatedQuery({orgId:e,resourceType:[t],numResourcesPerTeam:c.u8+1,includeContent:!0}),{enabled:!0});return{isLoading:"loading"===a,teamResourceGroups:r??[],requestLoadMore:()=>o&&!s&&i(),lastTeamId:r?.[r.length-1]?.team_id??null,noResults:r?.length===0}}},509231(e,t,r){if(r.d(t,{LQ:()=>A,M0:()=>I,Pe:()=>y,W6:()=>L,eH:()=>f,i_:()=>h,mj:()=>g}),1464==r.j)var a=r(836848);var n=r(417675);if(1464==r.j)var o=r(270450);var s=r(844330),i=r(824203),l=r(11533),u=r(263255),c=r(332648);if(1464==r.j)var _=r(919462);if(1464==r.j)var d=r(930501);var p=r(44811),E=r(202353),m=r(867206);function T(){let e=(0,p.iZ)(),t=(0,m.px)(),r=(0,m.S2)(),a=(0,i.isGovEnvironment)(),n=(0,m.sI)(t).unwrapOr(!1),o=(0,s.N)(`(max-width: ${_.YW}px)`),l=r.data?.type===d.OL.ORG?r.data?.key.parentId:void 0,u=e?.external_restricted_org_id,c=(0,E.nx)(e);return{planStatus:r.status,isGov:a,isMobile:o,isOrgGuest:n,isExternallyRestrictedOutsideOrg:c&&l!==u}}function f(){var e;return!(e=T()).isGov&&"loading"!==e.planStatus&&!e.isMobile&&!e.isOrgGuest&&!e.isExternallyRestrictedOutsideOrg}function g(){var e;return!(e=T()).isGov&&"loading"!==e.planStatus&&!e.isMobile&&!e.isExternallyRestrictedOutsideOrg}function A(e){return(e.data?.type===d.OL.ORG&&!!e.data.isResourceHubCmtyTabDisabled)??!1}function y(e,t,r){switch(e){case d.Ag.STUDENT:case d.Ag.PRO:{let e=new Set([u.vt.SLIDE_TEMPLATE,u.vt.COOPER_TEMPLATE_FILE,u.vt.COOPER_TEMPLATE_ASSET]);return((0,o.getFeatureFlags)().make_template_discovery||(0,o.getFeatureFlags)().make_template_discovery_plan_key)&&e.add(u.vt.FIGMAKE_TEMPLATE),e.has(t)}case d.Ag.ORG:case d.Ag.ENTERPRISE:{if(r)return new Set([u.vt.PLUGIN,u.vt.WIDGET]).has(t);let e=new Set([u.vt.PLUGIN,u.vt.WIDGET,u.vt.FIGJAM_TEMPLATE,u.vt.SLIDE_TEMPLATE,u.vt.COOPER_TEMPLATE_FILE,u.vt.COOPER_TEMPLATE_ASSET]);return((0,o.getFeatureFlags)().make_template_discovery||(0,o.getFeatureFlags)().make_template_discovery_plan_key)&&e.add(u.vt.FIGMAKE_TEMPLATE),e.has(t)}case d.Ag.STARTER:case null:return!1;default:return(0,a.S9)(e,!1)}}function I(e){switch(e){case l.tR.PLUGINS:return(0,n.t)("community.view_bar.plugins");case l.tR.WIDGETS:return(0,n.t)("community.view_bar.widgets");case l.tR.FILES:return(0,n.t)("community.saves.all_files");default:return}}function h(e){switch(e){case c.M.PLUGINS:return(0,n.t)("community.view_bar.plugins");case c.M.FIGJAM_TEMPLATES:return(0,n.t)("community.resource_hub.figjam_templates");case c.M.WIDGETS:return(0,n.t)("categories.widgets");case c.M.SLIDE_TEMPLATES:return(0,n.t)("categories.presentations");case c.M.LIBRARIES:return(0,n.t)("categories.libraries");case c.M.COOPER_TEMPLATES:return(0,n.t)("community.resource_hub.cooper_templates");case c.M.FIGMAKE_TEMPLATES:return(0,n.t)("community.resource_hub.figmake_templates");case c.M.RECENTLY_ADDED_TEMPLATES:return(0,n.t)("community.resource_hub.recently_added_templates");default:(0,a.xb)(e)}}function L(e){switch(e){case c.M.PLUGINS:return[u.vt.PLUGIN];case c.M.FIGJAM_TEMPLATES:return[u.vt.FIGJAM_TEMPLATE];case c.M.WIDGETS:return[u.vt.WIDGET];case c.M.SLIDE_TEMPLATES:return[u.vt.SLIDE_TEMPLATE];case c.M.COOPER_TEMPLATES:return[u.vt.COOPER_TEMPLATE_FILE];case c.M.FIGMAKE_TEMPLATES:return[u.vt.FIGMAKE_TEMPLATE];case c.M.RECENTLY_ADDED_TEMPLATES:return[u.vt.SLIDE_TEMPLATE,u.vt.COOPER_TEMPLATE_FILE,u.vt.FIGJAM_TEMPLATE,u.vt.FIGMAKE_TEMPLATE];case c.M.LIBRARIES:return[];default:(0,a.xb)(e)}}},737719(e,t,r){r.d(t,{vt:()=>l});var a=r(645186),n=r(930501),o=r(312010),s=r(867206),i=r(860563);function l(e){let t=(0,s.T5)("useIsTeamLockedDueToStarterLimits"),r=t.unwrapOr(null),l=r?.key.type===n.OL.TEAM?r?.key.parentId:void 0,u=(0,i.cD)(),c=(0,a.d4)(e=>!!u&&(0,o.oc)(u,e)),_=(0,s.EV)(t).unwrapOr(!1);return!!l&&(!l||l===e)&&!!c&&!_}}}]);

//# debugId=3201c27f-499a-504b-a35f-f92892046659

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/37dfb7301ef3d5992ac3cd00aa9b88979f2e8475/7471-4ba776bc2c872ebd.min.js.map