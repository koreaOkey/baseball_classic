"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7c5cdd3e-174a-5df2-a377-e1afa48d699b")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([["6781"],{519763(e,t,n){n.d(t,{$S:()=>l,Du:()=>w,F7:()=>o,GI:()=>y,In:()=>v,KK:()=>T,Lo:()=>h,MJ:()=>f,OM:()=>u,Qq:()=>C,SD:()=>N,UR:()=>a,VM:()=>s,WJ:()=>I,WO:()=>x,YD:()=>j,aW:()=>P,eX:()=>r,ex:()=>E,g2:()=>k,k8:()=>p,lo:()=>g,wC:()=>d,wb:()=>c,xH:()=>_,xS:()=>i,xe:()=>m,zl:()=>b});let i="thread_comment--threadHeaderLeft--dNoBl thread_comment--_threadHeader--pP93I",r="thread_comment--threadHeaderRight--Egc7h thread_comment--_threadHeader--pP93I",o="thread_comment--threadHeaderContainer--cKu2K",a="thread_comment--threadHeaderButton--r-u-n",s="thread_comment--threadHeaderButtonInactive--hsgu-",l="thread_comment--addReactionButton--OvgA8",c="thread_comment--threadContainer--wjhnx",d="thread_comment--threadContainerCommunityDetailsPage--9h9ch thread_comment--threadContainer--wjhnx",m="thread_comment--threadContainerAnimated--cWdy8 thread_comment--threadContainer--wjhnx",u="thread_comment--threadContainerInner--AIRF8",h="thread_comment--threadElement--DpA6Q thread_comment--_threadElement--HbreR text--fontPos11--rO47d text--_fontBase--VaHfk text--fontPos13--5OfL8 text--_fontBase--VaHfk",f="thread_comment--threadElementReplyContainer--r4q-0 thread_comment--threadElement--DpA6Q thread_comment--_threadElement--HbreR text--fontPos11--rO47d text--_fontBase--VaHfk text--fontPos13--5OfL8 text--_fontBase--VaHfk",p="thread_comment--threadSubelementNoMargin--GhE1-",g="thread_comment--indentedQuickReplyThreadSubelement--NPbKw thread_comment--threadSubelementNoMargin--GhE1-",_="thread_comment--quickReplyThreadSubelementNoMargin--BeYoJ thread_comment--threadSubelementNoMargin--GhE1-",y="thread_comment--indentedThreadSubelement--t-q5y thread_comment--threadSubelement--zCCIl thread_comment--threadSubelementNoMargin--GhE1-",k="thread_comment--rightJustified--Zksz3",b="thread_comment--leftJustified--baaoJ",v="thread_comment--quickReplyThreadElement--Sq5zx thread_comment--_threadElement--HbreR text--fontPos11--rO47d text--_fontBase--VaHfk text--fontPos11--rO47d text--_fontBase--VaHfk",w="thread_comment--authorAvatar--kbnMD",x="thread_comment--authorHandle--4K3or thread_comment--headerLabel--nlZCi",C="thread_comment--text--RosWu",j="thread_comment--grayLabel--Thn0V thread_comment--headerLabel--nlZCi",E="thread_comment--iconButtonSpace--fUKim",T="thread_comment--attachmentsContainer--PNIju",I="thread_comment--reactionsContainer--mj7uu",P="thread_comment--resolvedIcon--UMDYj",N="thread_comment--loadingAvatar--rOrpL comment_cluster_elements--loadingSpinner--LTwcP"},362866(e,t,n){n.d(t,{a:()=>f});var i=n(239976),r=n(645186),o=n(417675),a=n(774841),s=n(892480),l=n(58902),c=n(458600),d=n(175051),m=n(752101),u=n(519763),h=n(131464);function f(e){let t=(0,r.wA)(),{attachments:n}=e,f=i=>{t((0,s.to)({type:d.q,data:{attachments:n,selectedIdx:n.map(e=>e.thumbnailUrl).indexOf(i),onUpdateAltText:p,canEdit:e.canEdit},showModalsBeneath:!0}))},p=(t,i)=>{let r=n[i];return c.l.put(e.fileKey,r.id,t)};return(0,i.jsx)("div",{className:u.KK,children:n.slice(0,3).map((e,r)=>(0,i.jsx)("div",{className:h.Kn,children:(0,i.jsx)(m.MH,{thumbnailUrl:e.thumbnailUrl,altText:e.altText||(0,o.t)("comments.attachment_thumbnail_alt_text_default"),ariaLabel:e.altText||(0,o.t)("comments.attachment_thumbnail_label_indexed",{attachmentIndex:r+1,attachmentCount:n.length}),overlayText:n.length>3&&2===r?`+${n.length-3}`:void 0,onClick:f,onRightClick:n=>{n.preventDefault(),n.stopPropagation(),t(a.j7({type:l.DT,data:{id:"comment_attachment_context_menu",clientX:n.clientX,clientY:n.clientY,attachment:e}}))},dimensions:0===r&&1===n.length?e.metadata.dimensions:void 0})},e.id))})}},917541(e,t,n){function i(e){if("loaded"!==e.status)return!1;let t=e.data.file;return!!t&&("comments"in t||"mobileCommentThread"in t)}n.d(t,{I:()=>r,e:()=>i});class r{constructor(e,t,n){this.args=e,this.subscription=t,this.user=n,this.livegraphClient=null}get fileKey(){return this.args.fileKey}get loadedComments(){return i(this.subscription)?"comments"in this.subscription.data.file?this.subscription.data.file.comments:this.subscription.data.file.mobileCommentThread:[]}optimistically(e){if(!this.livegraphClient)return void setTimeout(()=>{throw Error("Unable to perform optimistic mutation to livegraph, no livegraph client")});if(!this.subscription)return void setTimeout(()=>{throw Error(`Unable to perform optimistic mutation to livegraph, no livegraph client ${JSON.stringify(this.args)}`)});if(!i(this.subscription)){let e=this.subscription;console.error("Unable to perform optimistic mutation to livegraph - partial subscription",JSON.stringify(this.args),JSON.stringify({loaded:"loaded"===e.status,status:e.status,file:"loaded"===e.status&&!!e.data.file,currentFileFollower:"loaded"===e.status&&!!e.data.file?.currentUserFileFollower,comments:"loaded"===e.status&&!!(e.data.file&&"comments"in e.data.file?e.data.file.comments:e.data.file?.mobileCommentThread)}));return}e(this.subscription.data,this.livegraphClient,this.user)}}},498133(e,t,n){n.d(t,{xI:()=>s,kJ:()=>a});var i=n(968368);let r=new class{constructor(){this.FileCommentPinImpl=(0,i.vh)()}setPin(e,t){return this.FileCommentPinImpl.validate(({xr:n})=>n.put(`/api/file/${e}/comments/${t}`,{comment_pin_action:"set_pin"}))}removePin(e,t){return this.FileCommentPinImpl.validate(({xr:n})=>n.put(`/api/file/${e}/comments/${t}`,{comment_pin_action:"remove_pin"}))}};var o=n(401907);function a(){var e=(0,o.wq)();if("loaded"!==e.status)return 0;let t=0;for(let n of e.data)n.commentPin&&t++;return t}class s{constructor(e){this.client=e}setPin(e){let t=r.setPin(this.client.fileKey,e);return this.client.optimistically(async(n,i,r)=>{let o=new Date,a=`${e}_${this.client.fileKey}`;await i.optimisticallyCreate({CommentPin:{[a]:{fileKey:n.file.id,fileCommentId:e,updatedAt:o,createdAt:o,userId:r.id}}},t)}),t}removePin(e,t){let n=r.removePin(this.client.fileKey,e);return this.client.optimistically(async(i,r)=>{if("loaded"!==this.client.subscription.status)throw Error("Unable to get pin for unloaded subscription");await r.optimisticallyDelete({CommentPin:{[t||`${e}_${this.client.fileKey}`]:null}},n)}),n}}},371925(e,t,n){n.d(t,{E:()=>d});var i=n(105652),r=n(701328),o=n.n(r),a=n(32186),s=n(404999),l=n(588415);let c=2036!=n.j?{PENDING_COMMENT:"comments.web.pending_comment",PENDING_FROM_LG_COMMENT:"comments.web.pending_from_lg_comment",PENDING_COMMENT_SLOW:"comments.web.pending_comment.slow"}:null;function d(e){let[t,n]=i.useState(new Set),[r,d]=i.useState(new Set),m=i.useRef(new Map),u=i.useRef(new Map),h=i.useRef(new Map),f=i.useCallback(()=>{(0,l.rI)(Array.from(m.current).map(([e,t])=>{let n=performance.now()-t.startTime;return{metric:c.PENDING_COMMENT,value:n/1e3,tags:{pending_comment_aborted:"true",backgrounded:t.backgrounded?"true":"false"}}}))},[]),p=i.useCallback(()=>{m.current&&m.current.forEach(e=>{e.backgrounded=!0})},[]);i.useEffect(()=>{for(let t of e)if(!t.isPendingFromSinatra&&t.uuid){let e=`comment_creation_${t.uuid}`,n=s.sn.get(e);if(n&&n.isRunning&&!n.isUnreliable){let t=s.sn.tryStop(e);t&&(0,a.sx)("comment_creation",{elapsedMs:t},{forwardToDatadog:!0})}}},[e]),i.useEffect(()=>{let t=new Set(e.filter(e=>e.isPendingFromSinatra).map(e=>e.id)),i=new Set(e.filter(e=>e.uuid&&e.isPendingFromLg).map(e=>e.uuid));t.forEach(e=>{if(m.current.has(e))return;m.current.set(e,{startTime:performance.now(),backgrounded:!1});let t=setTimeout(()=>{(0,l.Rh)(c.PENDING_COMMENT_SLOW,{})},3e4);h.current.set(e,t)}),i.forEach(e=>{u.current.has(e)||u.current.set(e,{startTime:performance.now(),backgrounded:!1})}),n(e=>o()(t,e)?e:t),d(e=>o()(i,e)?e:i)},[e]),i.useEffect(()=>{m.current.forEach((e,n)=>{if(!t.has(n)){let t=performance.now()-e.startTime;(0,l.S3)(c.PENDING_COMMENT,t/1e3,{backgrounded:e.backgrounded}),m.current.delete(n),h.current.has(n)&&(clearTimeout(h.current.get(n)),h.current.delete(n))}})},[t]),i.useEffect(()=>{u.current.forEach((e,t)=>{if(!r.has(t)){let n=performance.now()-e.startTime;(0,l.S3)(c.PENDING_FROM_LG_COMMENT,n/1e3,{backgrounded:e.backgrounded}),u.current.delete(t)}})},[r]),i.useEffect(()=>(window.addEventListener("beforeunload",f),()=>window.removeEventListener("beforeunload",f)),[f]),i.useEffect(()=>{let e=()=>{"hidden"===document.visibilityState&&p()};return window.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[p])}},659595(e,t,n){n.d(t,{Kb:()=>x,ny:()=>w});var i=n(239976),r=n(105652),o=n(425006),a=n(319192),s=n(417675),l=n(224542),c=n.n(l),d=n(269485),m=n(762593),u=n(318768);let h=[{id:"heavy_plus_sign",description:"plus sign"},{id:"+1",description:"thumbs up"},{id:"-1",description:"thumbs down"},{id:"eyes",description:"eyes"},{id:"heart_eyes",description:"heart eyes"},{id:"joy",description:"joy"},{id:"star2",description:"glowing star",hideInPicker:!0},{id:"fire",description:"fire"}].map(e=>{let t=u.dN.get(e.id),n=t?t?.skins[0].unified:"";return{...e,skin:null,colons:`:${e.id}:`,unified:n,native:String.fromCodePoint(parseInt(n,16))}});var f=n(569931);let p=(0,n(673478).ex)("emoji_reaction_tooltip",function(e){let{emojiUnicodeList:t,emojiShortcodeToUsers:n}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"emoji_reaction_tooltip--unicodeContainer--jeo3P",children:t.map(e=>(0,i.jsx)("span",{className:"emoji_reaction_tooltip--unicode--1Andu",children:e},e))}),n.map(([e,t])=>(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)("div",{className:"emoji_reaction_tooltip--users--JKhLy",children:t}),(0,i.jsx)("div",{className:"emoji_reaction_tooltip--shortcode--PC2dD",children:e})]},e))]})},e=>{let t={emojiUnicodeList:[],emojiShortcodeToUsers:[]},n=e.getAttribute("data-tooltip-data");return n&&(t={...t,...JSON.parse(n)}),t}),g="10px",_="reactions--reaction--tL2ND text--fontPos11--rO47d text--_fontBase--VaHfk";function y(e){return void 0!==e.numUsers}let k={};function b(e,t){let n=e.map(e=>e.handle).slice(0,t),i=e.length-t;return i>0&&n.push((0,m.td)(i,"other")),(0,m.Yx)(n)}h.forEach(e=>{k[`:${e.id}:`]=e});let v=r.forwardRef(function(e,t){let n=y(e.reaction)?e.reaction.numUsers:e.reaction.users.length,r=Object.keys(e.reaction.skinTonesToUsers).length,a=r>0?Object.keys(e.reaction.skinTonesToUsers):[""],l=a.map(t=>(0,d.UF)(`${e.reaction.emoji}${t}`)[0]),m={emojiUnicodeList:[],emojiShortcodeToUsers:[]};if(!y(e.reaction)){let t=[],n=[];if(r>0)a.forEach(i=>{let o=`${e.reaction.emoji}${i}`;t.push((0,d.UF)(o)[0].unicode);let a=b(e.reaction.skinTonesToUsers[i],Math.floor(40/r));n.push([o,a])});else{t.push((0,d.UF)(e.reaction.emoji)[0].unicode);let i=b(e.reaction.users,40);n.push([e.reaction.emoji,i])}m={emojiUnicodeList:t,emojiShortcodeToUsers:n}}return(0,i.jsxs)(o.E,{ref:t,"aria-label":e.reaction.selected?(0,s.t)("comments.reaction_selected_descriptive_aria_label_text",{num_users:n,icon:JSON.stringify(m.emojiUnicodeList)}):(0,s.t)("comments.reaction_unselected_descriptive_aria_label_text",{num_users:n,icon:JSON.stringify(m.emojiUnicodeList)}),"aria-pressed":e.reaction.selected,className:c()({"reactions--selectedReaction--eF--u reactions--reaction--tL2ND text--fontPos11--rO47d text--_fontBase--VaHfk":e.reaction.selected,[_]:!e.reaction.selected,"reactions--hiddenReaction--kxm4-":!e.visible}),"data-testid":`reaction-button-${e.reaction.emoji}`,"data-tooltip":p,"data-tooltip-data":JSON.stringify(m),"data-tooltip-max-width":200,"data-tooltip-type":f.Ib.SPECIAL,onClick:e.onClick,children:[l.map(e=>(0,i.jsx)("span",{className:"reactions--emojiUnicode--FOa5U",children:e.unicode},`${e.meta}`)),(0,i.jsx)("span",{className:"reactions--count--8h7cr",children:n})]})});function w(e){let t=e.styleClassName?e.styleClassName:"reactions--addReaction--5Nxiv";return(0,i.jsx)(o.E,{className:t,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,s.t)("comments.add_reaction"),onClick:e.onClick,"aria-label":(0,s.t)("comments.add_reaction"),"data-testid":"add-reaction-button","data-fullscreen-intercept":e["data-fullscreen-intercept"],children:(0,i.jsx)(a.A,{})})}function x(e){let{reactions:t,collapseOverflow:n,onClickExisting:o,children:a,prependToList:l}=e,d=r.useRef(null),m=r.useRef({}),[u,h]=r.useState(null),[f,p]=r.useState(!n);r.useLayoutEffect(()=>{if(!d.current)return;let{width:e}=d.current.getBoundingClientRect(),n=-parseInt(g)+parseInt("1px"),i=0;for(let r of t){let o=m.current[r.emoji];if(!o)return;if((n+=parseInt(g)+o.getBoundingClientRect().width)>e||i===t.length-1&&n+40+parseInt(g)>e)break;i+=1}h(i)},[t]);let y=null===u?null:t.length-u,k=t.map((t,n)=>{let r=o?e=>o(t,e):void 0;return(0,i.jsx)(v,{reaction:t,onClick:r,ref:e=>m.current[t.emoji]=e,visible:f||e.addedReaction||null===u||n<u},t.emoji)}),b=!(f||e.addedReaction)&&null!==y&&y>0;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:c()({"reactions--reactionList--xryKj":!0,"reactions--singleRow--I2wbQ":b,"reactions--maxDoubleRow--vOtiU":!(f||e.addedReaction)&&null===y}),ref:d,children:[...l??[],k,!b&&a]}),b&&(0,i.jsx)("div",{className:"reactions--showMoreBtn--ptxZW",children:(0,i.jsx)("button",{className:_,onClick:()=>{p(!0)},"data-testid":"show-more-reactions-button",children:(0,s.tx)("comments.num_hidden_more",{numHidden:y})})})]})}},79927(e,t,n){n.d(t,{I:()=>D});var i=n(239976),r=n(105652),o=n(645186),a=n(770589),s=n(225145),l=n(417675),c=n(270450),d=n(252403),m=n(32186),u=n(404999),h=n(938328),f=n(699715),p=n(253089),g=n(569931);function _(e){let t=function(e,t=(0,p.Gq)().getPrimaryLocale(!1)){return new Intl.DateTimeFormat(t,{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(f.A.utc(e).toDate())}(e.date,e.locale);return(0,i.jsx)("span",{"data-tooltip-type":g.Ib.TEXT,"data-tooltip":t,children:e.children})}var y=n(534655),k=n(362866),b=n(881201),v=n(352497),w=n(401907),x=n(948081),C=n(882838),j=n(659595),E=n(229291),T=n(223658),I=n(491755),P=n(878725),N=n(774841),S=n(950054),R=n(519763);let M=e=>e.stopPropagation(),A=(0,i.jsx)("div",{className:R.SD,"data-testid":"thread-comment-loading-avatar"});function O(e){let t=!e.hideReactions,n=e.comment,o=(0,w.AK)(n.id)>0,d=!!n.isPendingFromSinatra,f=!!n.isSaving,p=(0,c.getFeatureFlags)().comments_faster_saving_ux?f:d;r.useEffect(()=>{let{uuid:e}=n;if(e&&!p){let t=u.sn.get(`comment_reply_creation_${e}`);if(t&&t.isRunning&&!t.isUnreliable){let t=u.sn.tryStop(`comment_reply_creation_${e}`);t&&(0,m.sx)("comment_reply_creation",{elapsedMs:t},{forwardToDatadog:!0})}}},[n,p]);let g=(0,x.vn)(),y=!d&&(!e.hideOverflowMenu&&n.user_id===e.user?.id||g),v=(0,i.jsx)(E.Ro,{entity:n.user,size:24,className:R.Du});return(0,i.jsxs)("div",{className:`${e.isQuickReplyThreadView?R.In:R.Lo}`,children:[(0,i.jsxs)("div",{className:`${e.isQuickReplyThreadView?R.xH:R.k8}`,children:[(0,i.jsxs)("div",{className:R.zl,children:[p?A:e.communityAuthorLink?(0,i.jsx)(a.N,{href:e.communityAuthorLink.href,onClick:e.communityAuthorLink.onClick,children:v}):v,e.communityAuthorLink?(0,i.jsx)(s._,{href:e.communityAuthorLink.href,onClick:e.communityAuthorLink.onClick,style:{cursor:"pointer"},className:R.WO,children:(0,i.jsx)("h3",{dir:"auto",children:n.user.handle})}):(0,i.jsx)("h3",{className:R.WO,dir:"auto",children:n.user.handle}),p?(0,i.jsx)("div",{className:R.YD,children:(0,l.tx)("comments.in_a_moment")}):(0,i.jsx)("div",{className:R.YD,children:(0,i.jsx)(_,{date:n.created_at,children:(0,i.jsx)(h.h1,{capitalize:!0,date:n.created_at})})}),e.metaAddon]}),(0,i.jsx)("div",{className:R.g2,children:y&&(0,i.jsx)(I.V,{label:(0,l.t)("comments.comment_actions"),comment:n,recordingKey:"threadComment.commentActionsButton",possibleActions:e.overflowMenuActions,onDelete:e.onDelete})})]}),(0,i.jsxs)("div",{tabIndex:-1,ref:e.threadCommentRef,onMouseDown:M,className:`${e.isQuickReplyThreadView?R.lo:R.GI}`,"data-testid":"thread-comment-message",children:[(0,i.jsx)(b.HH,{commentId:n.id,messageMeta:n.message_meta,className:R.Qq,showEditedIndicator:e.showEditedIndicator}),t&&!o&&e.user&&(0,i.jsx)(L,{comment:e.comment,currentUser:e.user,isPendingComment:d,threadCommentRef:e.threadCommentRef}),!t&&(0,i.jsx)("div",{className:R.ex})]}),n.attachments&&(0,i.jsx)(k.a,{attachments:n.attachments,fileKey:e.comment.key,canEdit:e.comment.user_id===e.user?.id}),t&&o&&e.user&&(0,i.jsx)("div",{className:R.WJ,children:(0,i.jsx)(F,{comment:e.comment,currentUser:e.user,isPendingComment:d,isQuickReplyThreadView:e.isQuickReplyThreadView,threadCommentRef:e.threadCommentRef})})]})}function D(e){let t,n,{dispatch:a,comment:s,prevAuthor:c}=e,m=r.useRef(null);t=(0,o.d4)(e=>e.comments.editingComment),n=(0,d.ZC)(t),r.useEffect(()=>{t||n?.id!==s.id||m.current?.focus()},[t,n,s.id,m]);let u=r.useCallback(e=>{a(y.Df({id:s.id,key:s.key,messageMeta:e}))},[a,s]),h=r.useCallback(e=>{a(y.uy({id:s.id,key:s.key,attachmentId:e.id,attachment:e}))},[a,s]),f=r.useCallback(e=>{a(y.uy({id:s.id,key:s.key,attachmentId:e,attachment:null}))},[s.id,s.key,a]),p=r.useCallback(()=>{a(y.pD())},[a]),g=function(e){let t=(0,o.wA)(),n=r.useMemo(()=>e?{view:"communityHub",subView:"handle",handle:e}:void 0,[e]),i=(0,o.d4)(e=>n?(0,S.Np)(e,n):void 0),a=r.useMemo(()=>n?(0,P.Gc)(e=>{e.preventDefault(),t(N.sf(n))}):void 0,[n,t]);if(n&&i&&a)return{href:i,onClick:a}}(s.profile_handle),_=c!==s.user_id;if(!e.editingComment||e.editingComment.id!==s.id)return(0,i.jsx)(O,{comment:e.comment,communityAuthorLink:g,hideReactions:e.hideReactions,isQuickReplyThreadView:e.isQuickReplyThreadView,metaAddon:e.metaAddon,onDelete:e.onDelete,overflowMenuActions:e.overflowMenuActions,showEditedIndicator:e.showEditedIndicator,threadCommentRef:m,user:e.user});{let{messageMeta:t,attachmentUpdates:n}=e.editingComment,r=Object.values(n?.attachments??{}),o=[...new Set(e.thread.comments.map(e=>e.user.handle))];return(0,i.jsx)(T.K,{allowAttachments:!0,attachments:r,authorChanged:_,authorNames:o,createdAt:s.created_at,deleteAttachment:f,dispatch:e.dispatch,editingExistingComment:!0,editorOnClear:e.editorOnClear,editorOnInsert:e.editorOnInsert,editorRef:e.editorRef,editorType:e.editorType,fileKey:e.thread.key,hideEmojiPicker:e.hideEmojiPicker,hyperlinkLocation:e.hyperlinkLocation,isDisabled:!1,mentionables:e.mentionables,messageMeta:t,mountInputFocused:e.mountInputFocused,onCancel:p,onSubmit:()=>e.submitEdit(s,t,n),placeholderText:(0,l.t)("comments.comment_n"),recordingKey:C.Dw.edit,setHyperlinkEditorRef:e.setHyperlinkEditorRef,setHyperlinkLocation:e.setHyperlinkLocation,setIsEditorFocused:e.setIsEditorFocused,submitText:(0,l.t)("comments.save"),threadId:e.thread.id,threadPosition:e.threadPosition,typeahead:e.typeahead,updateAttachment:h,updateMessage:u,user:s.user,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition})}}function F(e){let t=(0,o.wA)(),[n,a]=r.useState(!1),{reactionsApi:s}=(0,v.I_)(),l=(0,w.Tv)(e.comment.id,e.currentUser.id),c=s?(n,i)=>{i.stopPropagation(),t(y.z$({reactionsApi:s,id:e.comment.id,emoji:n.emoji,quickReply:!!e.isQuickReplyThreadView})),e.threadCommentRef.current?.focus()}:void 0;return"loaded"!==l.status?null:(0,i.jsx)(j.Kb,{reactions:l.data.typed,collapseOverflow:!0,onClickExisting:c,addedReaction:n,children:(0,i.jsx)(L,{comment:e.comment,currentUser:e.currentUser,isPendingComment:e.isPendingComment,onAddedReaction:()=>{a(!0)},isQuickReplyThreadView:e.isQuickReplyThreadView,threadCommentRef:e.threadCommentRef})})}function L(e){let t=(0,o.wA)(),{reactionsApi:n}=(0,v.I_)(),a=(0,o.d4)(e=>e.comments.emojiPicker),s=r.useMemo(()=>!!a?.visible&&a.commentsId===e.comment.id,[e.comment.id,a]);if(e.isPendingComment||!n)return null;let l=i=>{c(),e.onAddedReaction&&e.onAddedReaction(),t(y.z$({reactionsApi:n,id:e.comment.id,emoji:i.shortcodes,quickReply:!!e.isQuickReplyThreadView})),e.threadCommentRef.current?.focus()},c=()=>{t(y.RI({visible:!1})),e.threadCommentRef.current?.focus()};return(0,i.jsx)("div",{style:s?{opacity:1}:{},className:R.$S,children:(0,i.jsx)(j.ny,{onClick:n=>{n.stopPropagation();let i=n.currentTarget.getBoundingClientRect();t(y.RI({visible:!0,targetRect:i,commentsId:e.comment.id,onPick:l,onCancel:c}))},selected:s,"data-fullscreen-intercept":!0})})}},223658(e,t,n){n.d(t,{K:()=>d});var i=n(239976),r=n(105652),o=n(417675),a=n(762593),s=n(704895),l=n(61113),c=n(682950);function d(e){let t=r.useCallback(()=>{e.replyContainerRef?.current&&e.replyContainerRef.current.scrollIntoView({block:"end",behavior:"smooth"})},[e.replyContainerRef]),n=(0,i.jsx)(l.C,{allowAttachments:e.allowAttachments,ariaLabel:e.authorNames?(0,o.t)("fullscreen.accessibility.reply_to_comment_with_authors",{username:(0,a.Yx)(e.authorNames)}):(0,o.t)("fullscreen.accessibility.reply_to_comment"),attachments:e.attachments,authorChanged:e.authorChanged,className:e.className,createdAt:e.createdAt,deleteAttachment:e.deleteAttachment,dispatch:e.dispatch,editingExistingComment:e.editingExistingComment,editorOnClear:e.editorOnClear,editorOnInsert:e.editorOnInsert,editorRef:e.editorRef,editorType:e.editorType,errorFallback:(0,i.jsx)(l.e,{type:"thread"}),fallback:null,fileKey:e.fileKey,hideEmojiPicker:e.hideEmojiPicker,hyperlinkLocation:e.hyperlinkLocation,isDisabled:e.isDisabled,isEmojiPickerDisabled:e.isEmojiPickerDisabled,maintainSelectionOnFocus:e.maintainSelectionOnFocus,mentionables:e.mentionables,messageMeta:e.messageMeta,mountInputFocused:e.mountInputFocused,onCancel:e.onCancel,onEditStart:e.onEditStart,onSubmit:e.onSubmit,placeholderText:e.placeholderText,recordingKey:e.recordingKey,scrollToBottom:e.replyContainerRef&&t,setHyperlinkEditorRef:e.setHyperlinkEditorRef,setHyperlinkLocation:e.setHyperlinkLocation,setIsEditorFocused:e.setIsEditorFocused,submitText:e.submitText,threadId:e.threadId,threadPosition:e.threadPosition,typeahead:e.typeahead,updateAttachment:e.updateAttachment,updateMessage:e.updateMessage,user:e.user,viewportPositionFromClientPosition:e.viewportPositionFromClientPosition});return(0,i.jsxs)("div",{className:c.MP,ref:e.replyContainerRef,children:[(0,i.jsx)("div",{className:c.i8,children:(0,i.jsx)(s.H8,{user:e.user||{}})}),n]})}},491755(e,t,n){n.d(t,{V:()=>V});var i=n(239976),r=n(105652),o=n(645186),a=n(836848),s=n(470683),l=n(796557),c=n(4245),d=n(417675),m=n(124144),u=n(534655),h=n(352497),f=n(948081),p=n(707246),g=n(92866),_=n(14308),y=n(53752),k=n(680281),b=n(501637),v=n(279965),w=n(336435),x=n(942356),C=n(429270),j=n(478741);n(323264);var E=n(32186),T=n(201509),I=n(552807),P=n(98226),N=n(32935),S=n(759231);let R=new Set(["make","change","update","align","move","replace","add","remove","try","use","create","adjust","fix","tweak","resize","simplify","center","group","reorder","reposition","stretch","shorten","duplicate","rework","refine","restyle","animate","clean up","can we","could you","maybe try","what if we","let's","would it make sense to","should we","what about","how about","another idea","alternative","perhaps","maybe we could","I wonder if","could this be","is there a way to","would it help if","do you think we should","can you","hmm","what if","why don't we","let's figure out","wonder if we","bigger","smaller","lighter","more consistent","less busy","heavier","more bold","bolder","clearer","more clear","softer","soften","more soft","sharp","sharper","cleaner","simpler","more contrast","less contrast","higher contrast","lower contrast","more consistent","more spacing","less spacing","more space","less space","tighter","denser","faster","slower","smoother","snappier","more readable","more legible","more aligned","less cluttered","more accessible","less accessible","hierarchy","spacing","consistency","padding","margin","grid","layout","alignment","balance","proportion","whitespace","white space","composition","frame","component","constraint","auto layout","column","section","flow","font","type","typography","weight","color","contrast","palette","accessibility","accessible","not accessible","consistency","consistent","inconsistent"]);var M=n(842051);function A(e){let t=(0,I.f)("seen_send_comment_to_make_upsell"),{contains:n,keyword:r}=function(e){let t=(0,S.md)(M.k);if(e.id!==t)return{contains:!1,keyword:null};let n=(function e(t){let n="";for(let i of t)i.t&&(n+=i.t+" "),i.children&&(n+=e(i.children));return n})(e.message_meta).toLowerCase();for(let e of R){let t=e.toLowerCase(),i=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(RegExp(`\\b${i}\\b`).test(n))return{contains:!0,keyword:t}}return{contains:!1,keyword:null}}(e.comment);return((0,j.h)(()=>{!t&&n&&(r&&E.az.trackDefinedEvent("activation.send_comments_to_make.keyword_triggered_from_comment",{keyword:r}),e.show())}),e.isShowing)?(0,i.jsx)(C.J,{brand:"seascape",children:(0,i.jsx)(v.bL,{variant:"strong",manager:e.manager,children:(0,i.jsx)(m.fu,{name:"Send Comment to Make Upsell Viewed",children:(0,i.jsxs)(w.vo,{...{className:"x1ncir08"},children:[(0,i.jsx)(v.Y9,{children:(0,i.jsx)(w.hE,{autofocus:!0,children:(0,d.t)("figma_make_growth.send_this_comment_to_make")})}),(0,i.jsx)(w.nB,{children:(0,d.t)("figma_make_growth.you_can_now_use_comments")}),(0,i.jsx)(v.wi,{children:(0,i.jsx)(w.jk,{children:(0,i.jsx)(C.J,{brand:"bake-filebrowser",mode:"dark",children:(0,i.jsx)(x.$n,{variant:"primary",onClick:()=>{e.onCtaClick(),e.complete()},children:(0,d.t)("figmake.send_comments_to_make.upsell.cta")})})})})]})})})}):null}var O=n(582367),D=n(465615),F=n(44811),L=n(908257),K=n(161117);function V(e){var t;let n,w,x,C,j=(0,h.I_)(),E=(0,o.wA)(),I=(0,F.iZ)(),S=(0,O.v)(),{onSendToMake:R}=(t=e.comment,n=(0,o.wA)(),w=(0,k.p8)("currentPage"),x=(0,o.d4)(e=>e.comments.activeThread?.id??null),C=(0,y.uB)(x,w),{onSendToMake:(0,r.useCallback)((e,i)=>{C&&((0,_.Cu)({trackingDescriptor:"ActiveThreadComment"===e?g.c.SEND_COMMENTS_TO_MAKE_OVERFLOW_MENU_CTA:g.c.SEND_COMMENTS_TO_MAKE_UPSELL_CTA}),(0,b.C)({type:"send-comments-to-make",entryPoint:e,newFileFrom:i,thread:C,comment:t,dispatch:n}))},[t,n,C])}),M=(0,f.vn)(),{manager:V,getTriggerProps:U}=s.b(),{getTriggerProps:$,...B}=function(){let{show:e,isShowing:t,complete:n}=(0,T.e)({overlay:N.Am9,priority:P.N.DEFAULT_MODAL}),{getTriggerProps:i,manager:r}=v.gR({isOpen:t,onOpenChange:e=>!e&&n(),placement:"right-start"});return{isShowing:t,manager:r,show:e,complete:n,getTriggerProps:i}}();(0,K.VX)(V);let H=r.useCallback(()=>!!V.isOpen&&(V.setOpen(!1),!0),[V]);(0,D.O1)(H,D.KD.MODAL);let z=t=>()=>{switch(t){case"edit":q();break;case"delete":e.onDelete(e.comment);break;case"copy_link":e.onCopyLink?e.onCopyLink(e.comment):S(e.comment);break;case"toggle_unread":J();break;case"send_to_make":R("ActiveThreadComment",L.f6.SEND_COMMENTS_TO_MAKE);break;default:(0,a.xb)(t)}},q=()=>{let{id:t,key:n,message_meta:i,attachments:r}=e.comment,o=(r||[]).reduce((e,t)=>(e[t.id]=t,e),{});E(u.Df({id:t,key:n,messageMeta:i,attachmentUpdates:{attachments:o,deleted:[]}}))},J=()=>{let t=j.commentReceipts;if(t){if(e.isUnread&&e.thread)return void E(u.AY({receiptsAPI:t,thread:e.thread}));E(u.QY({receiptsAPI:t,comment:e.comment}))}},G=e.comment.parent_id?(0,d.t)("comments.delete_comment"):(0,d.t)("comments.delete_thread"),Q=e.isUnread?(0,d.t)("comments.mark_as_read"):(0,d.t)("comments.mark_as_unread"),Y=(!e.possibleActions||e.possibleActions.includes("toggle_unread"))&&(0,i.jsx)(s.q7,{onClick:z("toggle_unread"),children:Q},"toggle_unread"),W=(!e.possibleActions||e.possibleActions.includes("copy_link"))&&(0,i.jsx)(s.q7,{onClick:z("copy_link"),children:(0,d.tx)("comments.copy_link")},"copy_link"),X=(!e.possibleActions||e.possibleActions.includes("edit"))&&(0,i.jsx)(s.q7,{onClick:z("edit"),recordingKey:"commentOverflowMenu.editComment",children:(0,d.tx)("comments.edit")},"edit"),Z=(!e.possibleActions||e.possibleActions.includes("delete"))&&(0,i.jsx)(s.q7,{onClick:z("delete"),recordingKey:"commentOverflowMenu.deleteComment",children:G},"delete"),ee=(!e.possibleActions||e.possibleActions.includes("send_to_make"))&&(0,i.jsx)(s.q7,{onClick:z("send_to_make"),recordingKey:"commentOverflowMenu.sendToMake",children:(0,i.jsx)(m.fu,{name:"Send Comment to Make Action Viewed",children:(0,d.tx)("figmake.send_comments_to_make.overflow_menu.action")})},"send_to_make"),et=e.comment.parent_id?[X,Z]:[X],en=[];if(e.thread&&e.thread.id===e.comment.id)switch(e.thread.sidebarItemType){case p.kT.FEED_POST:en=[W];break;case p.kT.COMMENT_THREAD:case p.kT.LITMUS_COMMENT_THREAD:en=e.comment.user_id===I?.id?[Y,W,Z]:[Y,W];break;default:(0,a.xb)(e.thread)}else e.comment.user_id===I?.id&&(en=en.concat(et)),M&&en.push(ee);if(0===en.filter(Boolean).length)return null;let{onMouseDown:ei,onPointerDown:er,...eo}=U();return null==e.thread&&M?(0,i.jsxs)(s.bL,{manager:V,children:[(0,i.jsx)(l.d,{"aria-label":e.label,recordingKey:e.recordingKey,...eo,children:(0,i.jsx)("span",{...$(),children:(0,i.jsx)(c.J,{})})}),(0,i.jsx)(s.mc,{children:en}),(0,i.jsx)(A,{...B,comment:e.comment,onCtaClick:()=>{R("ActiveThreadComment > SendCommentsToMakeUpsell",L.f6.SEND_COMMENTS_TO_MAKE_UPSELL)}})]}):(0,i.jsxs)(s.bL,{manager:V,children:[(0,i.jsx)(l.d,{"aria-label":e.label,recordingKey:e.recordingKey,...eo,children:(0,i.jsx)(c.J,{})}),(0,i.jsx)(s.mc,{children:en})]})}},582367(e,t,n){n.d(t,{v:()=>m});var i=n(105652),r=n(645186),o=n(341299),a=n(948081),s=n(945013),l=n(981517),c=n(380086);if(2036!=n.j)var d=n(930501);function m(){let e=(0,r.wA)(),t=(0,a.sn)(),n=(0,l._6)(),m="prototype"===n.view,u=(0,s.q5)(),h=m?n.file.editor_type:u?.editorType;return i.useCallback(n=>{let i=(0,c.jN)({file:{key:n.key,editorType:h||d._Y.DESIGN},base:m?"proto":"file",nodeId:n.client_meta?.node_id,allowDefaulting:!1,commentId:n.parent_id??n.id,...t});return e(o.S({url:i}))},[e,t,m,h])}},869160(e,t,n){if(n.d(t,{Op:()=>r,gV:()=>o,nr:()=>a}),2036!=n.j)var i=n(152069);function r(e){let t=new Map,n=new Map;for(let{id:i,...r}of e.states){if(t.has(i))throw Error(`Duplicate state ID ${i.toString()} found when building state machine`);if(t.set(i,r),null==r.transitions)continue;let e=new Map;for(let{event:t,...o}of(n.set(i,e),r.transitions)){let n=e.get(t);null==n&&(n=[],e.set(t,n)),n?.push(o)}}return{config:e,isComplete(e){let n=t.get(e);return n?.terminal??!1},isInitial:t=>t===e.initial,start:()=>e.initial,transition(e,t){let i=n.get(e)?.get(t.id);if(null==i)return null;for(let n of i)if(null==n.condition||n.condition({from:e,to:n.target,event:t}))return n.target;return null}}}function o(e){let t=new Set;for(let n of e.config.states)if(null!=n.transitions)for(let e of n.transitions)e.event===i.b&&e.meta?.userEvents!=null&&e.meta.userEvents.forEach(e=>t.add(e));return t}function a(e,t,n){var r,o;let a=new Set("string"==typeof e?[e]:e),s={userEvents:[...a]};return r=i.b,o={condition:e=>a.has(e.event.type)&&(n?.condition?.(e)??!0),meta:s},{event:r,target:t,condition:o?.condition,meta:o?.meta}}},431969(e,t,n){n.d(t,{rn:()=>c});var i=n(759231),r=n(146377);if(2036!=n.j)var o=n(869160);if(2036!=n.j)var a=n(152069);if(2036!=n.j)var s=n(418773);let l=new Map;function c(e,t){let n=function(e,t){let n;if(l.has(e))return null;let c=(0,o.gV)(t),d=(n={currentState:t.start(),lastEvent:null,previousState:null},(0,i.um)(n,(e,i)=>{switch(i?.type){case"RESET":return n;case"TRANSITION":var r;let o;return r=i.payload.event,null!=(o=t.transition(e.currentState,r))?{currentState:o,lastEvent:r,previousState:e.currentState}:e;default:return e}})),m=(0,i.eU)(e=>e(d),(e,t)=>t(d,{type:"RESET"})),u=e=>{let{id:t,properties:n}="properties"in e?e:{id:e.id,properties:void 0};if(!(0,s.Tl)(t,c))return;let r={id:a.b,type:t,properties:n??{}};i.zl.set(d,{type:"TRANSITION",payload:{event:r}})};return(0,s.eR)(i.zl.get(r.az),c,u),l.set(e,{clear:()=>{l.delete(e),(0,s.BD)(i.zl.get(r.az),c,u)},reset:()=>{let e=i.zl.get(r.az);(0,s.BD)(e,c,u),(0,s.eR)(e,c,u)}}),{machine:t,name:e,_atom:m}}(e,t);if(null==n)throw Error(`Registering state machine with name ${e} already in use`);return n}},152069(e,t,n){n.d(t,{b:()=>i});let i="@@userEvent"},54346(e,t,n){if(n.d(t,{Op:()=>i.Op,nr:()=>i.nr,rn:()=>r.rn}),2036!=n.j)var i=n(869160);var r=n(431969);n(40272)},418773(e,t,n){function i(e,t){return t.has(e)}function r(e,t,n){for(let i of t)e.addEventListener(i,n)}function o(e,t,n){for(let i of t)e.removeEventListener(i,n)}n.d(t,{BD:()=>o,Tl:()=>i,eR:()=>r})},442318(e,t,n){n.d(t,{t:()=>l});var i=n(105652),r=n(32186),o=n(602729),a=n(945013),s=n(44811);function l(e,t){let[n,l]=(0,i.useState)(!1),c=(0,s.TA)(),[d]=(0,i.useState)(()=>performance.now()),m=(0,a.tS)(),u=o.xK.loadID();(0,i.useEffect)(()=>{l(!1)},[u]),(0,i.useEffect)(()=>{e((e,t)=>{n||((0,r.sx)(e,{start_time:d,end_time:performance.now(),file_key:m,user_id:c,load_id:u,...t}),l(!0))})},[...t||[],d,n,u,m])}},501637(e,t,n){n.d(t,{C:()=>v});var i=n(466082),r=n(417675),o=n(759231),a=n(32186),s=n(14308),l=n(414072),c=n(4257),d=n(71164),m=n(251147),u=n(930501),h=n(297746),f=n(23226),p=n(602930),g=n(597211),_=n(41686);let y="something-went-wrong",k="no-valid-figjam-selection";function b(e,t,n){n((0,d.zE)({from:t,editorType:u._Y.FIGMAKE,team:void 0,openNewFileIn:g.ai.NEW_TAB,newFileDataLocalStorageKey:e,folderData:"DRAFTS_FOLDER"}))}function v(e){var t,n,d;let u=l.D.getState(),g=u.openFile,v=u.fileVersion,w=u.user?.id??null,x="fullscreen"===u.selectedView.view?u.selectedView.editorType:null;switch(e.type){case"send-to-make-from-design":case"send-to-make-from-devmode":(t={...e,openFile:g,fileVersion:v,userId:w},new Promise((e,n)=>{let r,a=(0,i.UN)(),s=a.getCurrentPage()?.guid,l=a.getDirectlySelectedNodes(),c=l.map(e=>e.guid),d=c.join(","),u={entryPoint:t.entryPoint,userId:t.userId,fileKey:t.openFile?.key,fileVersion:t.fileVersion,pageGuid:s,selectedNodeId:d};if(0===l.length||!t.openFile||null===t.fileVersion||!s)return void n({key:y,trackingProperties:u});if(l.length>10)return void n({key:"more-than-maximum-allowed-nodes-selected",trackingProperties:u});let p=(r=(0,f.gP)("make_large_paste_threshold").get("sizeBytes",25e4),h.glU?.isActiveCanvasSelectionWithinThreshold(r)??null);null===p?n({key:"fullscreen-unavailable",trackingProperties:u}):e({localStorageKey:o.zl.set(m.Fk,{type:t.type,fileKey:t.openFile.key,fileVersion:t.fileVersion,source:t.entryPoint,exceedsMakePasteThreshold:!p,selectedNodeIds:c,pageGuid:s}),trackingProperties:{pageId:s,nodeId:d,userId:t.userId,fileKey:t.openFile.key,fileVersion:t.fileVersion,exceedsMakePasteThreshold:!p,isViewOnly:t.openFile.canView&&!t.openFile.canEdit}})})).then(t=>{(0,s.Cu)({editorType:x,...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMake`,status:"success"}),b(t.localStorageKey,e.newFileFrom,e.dispatch)}).catch(t=>{(0,s.Cu)({editorType:x,...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMake`,status:"error",error:t.key}),e.dispatch(c.F.enqueue({message:(0,r.t)("figmake.send_to_make_from_design.error.something-went-wrong"),type:"send-to-make-from-design-error",error:!0}))});break;case"send-comments-to-make":(n={...e,openFile:g,fileVersion:v,userId:w},new Promise((e,t)=>{let r=(0,i.UN)(),a=r.getCurrentPage()?.guid,s={entryPoint:n.entryPoint,userId:n.userId,fileKey:n.openFile?.key,fileVersion:n.fileVersion,pageGuid:a};if(!n.openFile||null===n.fileVersion||!a)return void t({key:y,trackingProperties:s});let l=(0,p.a)(n.comment),c=function(e){if(!(0,i.UN)())return null;let t=e.comments?.[0]?.client_meta?.node_id??null;return t&&h.glU?.canBeConvertedToCodeLayer(t)?t:null}(n.thread),d={type:"send-comments-to-make",fileKey:n.openFile.key,fileVersion:n.fileVersion,source:n.entryPoint,selectedNodeId:c??void 0,pageGuid:a};e({localStorageKey:o.zl.set(m.Fk,{...d,comments:[l]}),trackingProperties:{pageId:a,userId:n.userId,fileKey:d.fileKey,fileVersion:n.fileVersion,selectedNodeId:c??void 0,isViewOnly:n.openFile.canView&&!n.openFile.canEdit}})})).then(t=>{(0,s.Cu)({editorType:x,...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMake`,status:"success"}),b(t.localStorageKey,e.newFileFrom,e.dispatch)}).catch(t=>{(0,s.Cu)({editorType:x,...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMake`,status:"error",error:t.key}),e.dispatch(c.F.enqueue({message:(0,r.t)("figmake.send_to_make_from_design.error.something-went-wrong"),type:"send-to-make-from-design-error",error:!0}))});break;case"send-to-make-from-figjam":(d={...e,openFile:g,fileVersion:v,userId:w},new Promise((e,t)=>{let n,r=(0,i.UN)(),s=r.getCurrentPage()?.guid,l=r.getDirectlySelectedNodes(),c=l?.[0]?.guid,u=(0,_.B1)(r),h={entryPoint:d.entryPoint,userId:d.userId,fileKey:d.openFile?.key,fileVersion:d.fileVersion,pageGuid:s};if(!d.openFile||null===d.fileVersion||!s||0===u.length)return void t({key:y,trackingProperties:h});try{n=(0,_.Oo)(u)}catch(e){t({key:e?.message??y,trackingProperties:h});return}if(0===n.length){(0,a.sx)("activation.send_to_make_from_figjam.no_valid_selection",{},{forwardToDatadog:!0}),t({key:k,trackingProperties:h});return}let f={type:"send-to-make-from-figjam",fileKey:d.openFile.key,fileVersion:d.fileVersion,source:d.entryPoint,selectedNodeId:c??void 0,pageGuid:s};e({localStorageKey:o.zl.set(m.Fk,{...f,textNodes:n}),trackingProperties:{pageId:s,userId:d.userId,fileKey:f.fileKey,fileVersion:d.fileVersion,selectedNodeId:c??void 0,isViewOnly:d.openFile.canView&&!d.openFile.canEdit}})})).then(t=>{(0,s.Cu)({editorType:x,...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMakeFromFigJam`,status:"success"}),b(t.localStorageKey,e.newFileFrom,e.dispatch)}).catch(t=>{(0,s.Cu)({editorType:x,...t.trackingProperties,trackingContext:`${e.entryPoint} > SendToMakeFromFigJam`,status:"error",error:t.key}),t.key===k?e.dispatch(c.F.enqueue({message:(0,r.t)("figmake.send_to_make_from_design.error.no-valid-figjam-selection"),type:"send-to-make-from-design-error",error:!1})):"context-window-exceeded"===t.key?e.dispatch(c.F.enqueue({message:(0,r.t)("figmake.send_to_make_from_figjam.error.context-window-exceeded"),type:"send-to-make-from-design-error",error:!1})):e.dispatch(c.F.enqueue({message:(0,r.t)("figmake.send_to_make_from_design.error.something-went-wrong"),type:"send-to-make-from-design-error",error:!0}))})}}},296194(e,t,n){if(n.d(t,{Dr:()=>a,aT:()=>s,cM:()=>o}),2036!=n.j)var i,r=n(836848);var o=2036!=n.j?((i=o||{}).NODE="node",i.IMAGE="image",i.VIDEO="video",i.PROTOTYPE="prototype",i):null;function a(e){switch(e.type){case"node":case"image":return!0;case"video":case"prototype":return!1;default:(0,r.xb)(e)}}function s(e){switch(e.type){case"node":return!0;case"image":return"image/gif"!==e.mediaType;case"video":case"prototype":return!1;default:(0,r.xb)(e)}}},907866(e,t,n){n.d(t,{E:()=>l});var i=n(239976),r=n(105652),o=n(417675),a=n(865702),s=n(994892);let l=(0,n(354584).Ju)(function({comment:e,threadLength:t,onCancel:n,onClose:l,onConfirm:c,onConfirmComplete:d,...m}){let u=r.useCallback(()=>{c(),l(),d?.()},[l,c,d]),h=r.useCallback(()=>{l(),n?.()},[l,n]);return(0,i.jsx)(s.R,{autofocusConfirm:!0,onCancel:h,onConfirm:u,onClose:a.lQ,confirmText:(0,o.t)("general.delete"),destructive:!0,recordingKey:"commentDeleteConfirmModal",title:(0,o.t)("comments.delete_comment"),...m,children:!e||e.parent_id||1===t?(0,o.t)("comments.are_you_sure_you_want_to_delete_this_comment_this_action_cannot_be_undone"):(0,o.t)("comments.delete_confirmation_thread")})},"confirm-comment-deletion-modal")},936593(e,t,n){n.d(t,{gk:()=>o,iw:()=>r});let i="feed_post_";function r(e){return`${i}${e.replace(/-/g,"_")}`}function o(e){if(e.startsWith(i))return e.slice(i.length).replace(/_/g,"-");throw Error("Thread ID is not in valid format for feed post")}},944181(e,t,n){if(n.d(t,{i:()=>r,m:()=>o}),2036!=n.j)var i=n(296194);function r(e,t){let n=e.find(e=>e.type===i.cM.NODE),r=n?.mediumImageUrl||n?.preview_image_url||n?.image_url;if(r)return{thumbnail:r,padImage:!n.preview_image_url,thumbnailBackground:o(n,t)};let a=e.find(e=>e.type===i.cM.PROTOTYPE),s=a?.imageUrl;if(s)return{thumbnail:s,padImage:!1,thumbnailBackground:o(a,t)};let l=e.find(e=>e.type===i.cM.IMAGE),c=l?.mediumImageUrl||l?.preview_image_url||l?.url;if(c)return{thumbnail:c,padImage:!l?.preview_image_url,thumbnailBackground:o(l,t)};let d=e.find(e=>e.type===i.cM.VIDEO),m=d?.coverImage;return m?{thumbnail:m,padImage:!1,thumbnailBackground:o(d,t)}:{thumbnail:"",padImage:!1,thumbnailBackground:o(null,t)}}function o(e,t){return e?(0,i.aT)(e)?"backgroundColor"in e&&e.backgroundColor||t:"black":"var(--color-bg-secondary)"}},263773(e,t,n){n.d(t,{T:()=>o});var i=n(105652),r=n(239976);let o=(0,i.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m12.705 15.816-.705-.7-.705.7L9 18.096V6.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v11.597zm1.59 2.99L12 16.526l-2.295 2.28c-.631.627-1.705.18-1.705-.71V6.5A1.5 1.5 0 0 1 9.5 5h5A1.5 1.5 0 0 1 16 6.5v11.597c0 .89-1.074 1.336-1.705.71",clipRule:"evenodd"})})})}}]);

//# debugId=7c5cdd3e-174a-5df2-a377-e1afa48d699b

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/37dfb7301ef3d5992ac3cd00aa9b88979f2e8475/6781-558b4f6541c6f3bd.min.js.map